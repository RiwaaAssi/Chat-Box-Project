var RN=Object.defineProperty,MN=Object.defineProperties;var NN=Object.getOwnPropertyDescriptors;var OE=Object.getOwnPropertySymbols,PN=Object.getPrototypeOf,ON=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,FN=Reflect.get;var kE=(t,e,n)=>e in t?RN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})ON.call(e,n)&&kE(t,n,e[n]);if(OE)for(var n of OE(e))kN.call(e,n)&&kE(t,n,e[n]);return t},le=(t,e)=>MN(t,NN(e));var Ur=(t,e,n)=>FN(PN(t),n,e);var T=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function FE(t,e){return Object.is(t,e)}var Ge=null,zu=!1,Gu=1,sr=Symbol("SIGNAL");function fe(t){let e=Ge;return Ge=t,e}function LE(){return Ge}var xa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bp(t){if(zu)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(t);let e=Ge.nextProducerIndex++;if(Yu(Ge),e<Ge.producerNode.length&&Ge.producerNode[e]!==t&&Aa(Ge)){let n=Ge.producerNode[e];Qu(n,Ge.producerIndexOfThis[e])}Ge.producerNode[e]!==t&&(Ge.producerNode[e]=t,Ge.producerIndexOfThis[e]=Aa(Ge)?BE(t,Ge,e):0),Ge.producerLastReadVersion[e]=t.version}function LN(){Gu++}function VE(t){if(!(Aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gu)){if(!t.producerMustRecompute(t)&&!Tp(t)){t.dirty=!1,t.lastCleanEpoch=Gu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gu}}function UE(t){if(t.liveConsumerNode===void 0)return;let e=zu;zu=!0;try{for(let n of t.liveConsumerNode)n.dirty||VN(n)}finally{zu=e}}function jE(){return Ge?.consumerAllowSignalWrites!==!1}function VN(t){t.dirty=!0,UE(t),t.consumerMarkedDirty?.(t)}function Ku(t){return t&&(t.nextProducerIndex=0),fe(t)}function Dp(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Aa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tp(t){Yu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VE(n),r!==n.version))return!0}return!1}function Sp(t){if(Yu(t),Aa(t))for(let e=0;e<t.producerNode.length;e++)Qu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function BE(t,e,n){if($E(t),t.liveConsumerNode.length===0&&HE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=BE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Qu(t,e){if($E(t),t.liveConsumerNode.length===1&&HE(t))for(let r=0;r<t.producerNode.length;r++)Qu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Yu(i),i.producerIndexOfThis[r]=e}}function Aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $E(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function HE(t){return t.producerNode!==void 0}function qE(t){let e=Object.create(UN);e.computation=t;let n=()=>{if(VE(e),bp(e),e.value===Wu)throw e.error;return e.value};return n[sr]=e,n}var Ep=Symbol("UNSET"),Cp=Symbol("COMPUTING"),Wu=Symbol("ERRORED"),UN=le(L({},xa),{value:Ep,dirty:!0,error:null,equal:FE,producerMustRecompute(t){return t.value===Ep||t.value===Cp},producerRecomputeValue(t){if(t.value===Cp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Cp;let n=Ku(t),r;try{r=t.computation()}catch(i){r=Wu,t.error=i}finally{Dp(t,n)}if(e!==Ep&&e!==Wu&&r!==Wu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function jN(){throw new Error}var zE=jN;function GE(){zE()}function WE(t){zE=t}var BN=null;function KE(t){let e=Object.create(YE);e.value=t;let n=()=>(bp(e),e.value);return n[sr]=e,n}function Ap(t,e){jE()||GE(),t.equal(t.value,e)||(t.value=e,$N(t))}function QE(t,e){jE()||GE(),Ap(t,e(t.value))}var YE=le(L({},xa),{equal:FE,value:void 0});function $N(t){t.version++,LN(),UE(t),BN?.()}function K(t){return typeof t=="function"}function Vs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zu=Vs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(s){e=s instanceof Zu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ZE(s)}catch(o){e=e??[],o instanceof Zu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ZE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ni(n,e)}remove(e){let{_finalizers:n}=this;n&&Ni(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var xp=Ue.EMPTY;function Ju(t){return t instanceof Ue||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function ZE(t){K(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Us={setTimeout(t,e,...n){let{delegate:r}=Us;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Us;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xu(t){Us.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(t);else throw t})}function Pi(){}var JE=Rp("C",void 0,void 0);function XE(t){return Rp("E",void 0,t)}function e0(t){return Rp("N",t,void 0)}function Rp(t,e,n){return{kind:t,value:e,error:n}}var Oi=null;function js(t){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Oi;if(Oi=null,n)throw r}}else t()}function t0(t){ln.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=t)}var ki=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ju(e)&&e.add(this)):this.destination=zN}static create(e,n,r){return new Bs(e,n,r)}next(e){this.isStopped?Np(e0(e),this):this._next(e)}error(e){this.isStopped?Np(XE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Np(JE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HN=Function.prototype.bind;function Mp(t,e){return HN.call(t,e)}var Pp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){el(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){el(r)}else el(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){el(n)}}},Bs=class extends ki{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ln.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mp(e.next,s),error:e.error&&Mp(e.error,s),complete:e.complete&&Mp(e.complete,s)}):i=e}this.destination=new Pp(i)}};function el(t){ln.useDeprecatedSynchronousErrorHandling?t0(t):Xu(t)}function qN(t){throw t}function Np(t,e){let{onStoppedNotification:n}=ln;n&&Us.setTimeout(()=>n(t,e))}var zN={closed:!0,next:Pi,error:qN,complete:Pi};var $s=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(t){return t}function Op(...t){return kp(t)}function kp(t){return t.length===0?bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=WN(n)?n:new Bs(n,r,i);return js(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=n0(r),new r((i,s)=>{let o=new Bs({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$s](){return this}pipe(...n){return kp(n)(this)}toPromise(n){return n=n0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function n0(t){var e;return(e=t??ln.Promise)!==null&&e!==void 0?e:Promise}function GN(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function WN(t){return t&&t instanceof ki||GN(t)&&Ju(t)}function Fp(t){return K(t?.lift)}function oe(t){return e=>{if(Fp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,e,n,r,i){return new Lp(t,e,n,r,i)}var Lp=class extends ki{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hs(){return oe((t,e)=>{let n=null;t._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var qs=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Hs()(this)}};var r0=Vs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new r0}next(n){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?xp:(this.currentObservers=null,s.push(n),new Ue(()=>{this.currentObservers=null,Ni(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new tl(e,n),t})(),tl=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xp}};var ut=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vp={now(){return(Vp.delegate||Date).now()},delegate:void 0};var nl=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Ra={setInterval(t,e,...n){let{delegate:r}=Ra;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ra;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zs=class extends nl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ra.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gs.now=Vp.now;var Ws=class extends Gs{constructor(e,n=Gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ks=new Ws(zs),Up=Ks;var rl=class extends zs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var il=class extends Ws{};var jp=new il(rl);var Dt=new se(t=>t.complete());function sl(t){return t&&K(t.schedule)}function Bp(t){return t[t.length-1]}function ol(t){return K(Bp(t))?t.pop():void 0}function xn(t){return sl(Bp(t))?t.pop():void 0}function i0(t,e){return typeof Bp(t)=="number"?t.pop():e}function $p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function s0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(t){return this instanceof Fi?(this.v=t,this):new Fi(t)}function a0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(D){return Promise.resolve(D).then(v,p)}}function a(v,D){r[v]&&(i[v]=function(M){return new Promise(function(F,H){s.push([v,M,F,H])>1||u(v,M)})},D&&(i[v]=D(i[v])))}function u(v,D){try{l(r[v](D))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Fi?Promise.resolve(v.value.v).then(f,p):m(s[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,D){v(D),s.shift(),s.length&&u(s[0][0],s[0][1])}}function c0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s0=="function"?s0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var al=t=>t&&typeof t.length=="number"&&typeof t!="function";function cl(t){return K(t?.then)}function ul(t){return K(t[$s])}function ll(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function dl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hl=KN();function fl(t){return K(t?.[hl])}function pl(t){return a0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fi(n.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{n.releaseLock()}})}function gl(t){return K(t?.getReader)}function Ne(t){if(t instanceof se)return t;if(t!=null){if(ul(t))return QN(t);if(al(t))return YN(t);if(cl(t))return ZN(t);if(ll(t))return u0(t);if(fl(t))return JN(t);if(gl(t))return XN(t)}throw dl(t)}function QN(t){return new se(e=>{let n=t[$s]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YN(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZN(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xu)})}function JN(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function u0(t){return new se(e=>{eP(t,e).catch(n=>e.error(n))})}function XN(t){return u0(pl(t))}function eP(t,e){var n,r,i,s;return o0(this,void 0,void 0,function*(){try{for(n=c0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Nt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function jr(t,e=0){return oe((n,r)=>{n.subscribe(ne(r,i=>Nt(r,t,()=>r.next(i),e),()=>Nt(r,t,()=>r.complete(),e),i=>Nt(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function l0(t,e){return Ne(t).pipe(Br(e),jr(e))}function d0(t,e){return Ne(t).pipe(Br(e),jr(e))}function h0(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function f0(t,e){return new se(n=>{let r;return Nt(n,e,()=>{r=t[hl](),Nt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function ml(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{Nt(n,e,()=>{let r=t[Symbol.asyncIterator]();Nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function p0(t,e){return ml(pl(t),e)}function g0(t,e){if(t!=null){if(ul(t))return l0(t,e);if(al(t))return h0(t,e);if(cl(t))return d0(t,e);if(ll(t))return ml(t,e);if(fl(t))return f0(t,e);if(gl(t))return p0(t,e)}throw dl(t)}function Ce(t,e){return e?g0(t,e):Ne(t)}function $(...t){let e=xn(t);return Ce(t,e)}function Qs(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Hp(t){return!!t&&(t instanceof se||K(t.lift)&&K(t.subscribe))}var or=Vs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function m0(t){return t instanceof Date&&!isNaN(t)}function Q(t,e){return oe((n,r)=>{let i=0;n.subscribe(ne(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:tP}=Array;function nP(t,e){return tP(e)?t(...e):t(e)}function yl(t){return Q(e=>nP(t,e))}var{isArray:rP}=Array,{getPrototypeOf:iP,prototype:sP,keys:oP}=Object;function vl(t){if(t.length===1){let e=t[0];if(rP(e))return{args:e,keys:null};if(aP(e)){let n=oP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aP(t){return t&&typeof t=="object"&&iP(t)===sP}function _l(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ma(...t){let e=xn(t),n=ol(t),{args:r,keys:i}=vl(t);if(r.length===0)return Ce([],e);let s=new se(cP(r,e,i?o=>_l(i,o):bt));return n?s.pipe(yl(n)):s}function cP(t,e,n=bt){return r=>{y0(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)y0(e,()=>{let l=Ce(t[u],e),f=!1;l.subscribe(ne(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function y0(t,e,n){t?Nt(n,t,e):e()}function v0(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?D(M):u.push(M),D=M=>{s&&e.next(M),l++;let F=!1;Ne(n(M,f++)).subscribe(ne(e,H=>{i?.(H),s?v(H):e.next(H)},()=>{F=!0},void 0,()=>{if(F)try{for(l--;u.length&&l<r;){let H=u.shift();o?Nt(e,o,()=>D(H)):D(H)}m()}catch(H){e.error(H)}}))};return t.subscribe(ne(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return K(e)?je((r,i)=>Q((s,o)=>e(r,s,i,o))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>v0(r,i,t,n)))}function Rn(t=1/0){return je(bt,t)}function _0(){return Rn(1)}function $r(...t){return _0()(Ce(t,xn(t)))}function wl(t){return new se(e=>{Ne(t()).subscribe(e)})}function qp(...t){let e=ol(t),{args:n,keys:r}=vl(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;Ne(n[f]).subscribe(ne(s,m=>{p||(p=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?_l(r,a):a),s.complete())}))}});return e?i.pipe(yl(e)):i}function w0(t=0,e,n=Up){let r=-1;return e!=null&&(sl(e)?n=e:r=e),new se(i=>{let s=m0(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function zp(...t){let e=xn(t),n=i0(t,1/0),r=t;return r.length?r.length===1?Ne(r[0]):Rn(n)(Ce(r,e)):Dt}function Jt(t,e){return oe((n,r)=>{let i=0;n.subscribe(ne(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hr(t){return oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ne(n,void 0,void 0,o=>{s=Ne(t(o,Hr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function I0(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ne(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Li(t,e){return K(e)?je(t,e,1):je(t,1)}function qr(t){return oe((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xt(t){return t<=0?()=>Dt:oe((e,n)=>{let r=0;e.subscribe(ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function E0(){return oe((t,e)=>{t.subscribe(ne(e,Pi))})}function Na(t){return Q(()=>t)}function Gp(t,e){return e?n=>$r(e.pipe(Xt(1),E0()),n.pipe(Gp(t))):je((n,r)=>Ne(t(n,r)).pipe(Xt(1),Na(n)))}function Wp(t,e=Ks){let n=w0(t,e);return Gp(()=>n)}function Kp(t,e=bt){return t=t??uP,oe((n,r)=>{let i,s=!0;n.subscribe(ne(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function uP(t,e){return t===e}function Il(t=lP){return oe((e,n)=>{let r=!1;e.subscribe(ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lP(){return new or}function Pa(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Mn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,s)=>t(i,s,r)):bt,Xt(1),n?qr(e):Il(()=>new or))}function Ys(t){return t<=0?()=>Dt:oe((e,n)=>{let r=[];e.subscribe(ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,s)=>t(i,s,r)):bt,Ys(1),n?qr(e):Il(()=>new or))}function Oa(t,e){return oe(I0(t,e,arguments.length>=2,!0))}function Yp(...t){let e=xn(t);return oe((n,r)=>{(e?$r(t,n,e):$r(t,n)).subscribe(r)})}function Pt(t,e){return oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ne(r,u=>{i?.unsubscribe();let l=0,f=s++;Ne(t(u,f)).subscribe(i=ne(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zp(t){return oe((e,n)=>{Ne(t).subscribe(ne(n,()=>n.complete(),Pi)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ne(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):bt}var cC="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(om(e,n)),this.code=e}};function om(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qa(t){return{toString:t}.toString()}var El="__parameters__";function dP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function uC(t,e,n){return qa(()=>{let r=dP(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(El)?u[El]:Object.defineProperty(u,El,{value:[]})[El];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ji=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function hP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function C0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var fP=Te({__forward_ref__:Te});function Xr(t){return t.__forward_ref__=Xr,t.toString=function(){return St(this())},t}function Tt(t){return lC(t)?t():t}function lC(t){return typeof t=="function"&&t.hasOwnProperty(fP)&&t.__forward_ref__===Xr}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dr(t){return{providers:t.providers||[],imports:t.imports||[]}}function id(t){return b0(t,hC)||b0(t,fC)}function dC(t){return id(t)!==null}function b0(t,e){return t.hasOwnProperty(e)?t[e]:null}function pP(t){let e=t&&(t[hC]||t[fC]);return e||null}function D0(t){return t&&(t.hasOwnProperty(T0)||t.hasOwnProperty(gP))?t[T0]:null}var hC=Te({\u0275prov:Te}),T0=Te({\u0275inj:Te}),fC=Te({ngInjectableDef:Te}),gP=Te({ngInjectorDef:Te}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pC(t){return t&&!!t.\u0275providers}var mP=Te({\u0275cmp:Te}),yP=Te({\u0275dir:Te}),vP=Te({\u0275pipe:Te}),_P=Te({\u0275mod:Te}),Pl=Te({\u0275fac:Te}),Fa=Te({__NG_ELEMENT_ID__:Te}),S0=Te({__NG_ENV_ID__:Te});function sd(t){return typeof t=="string"?t:t==null?"":String(t)}function wP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():sd(t)}function IP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function am(t,e){throw new j(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),hg;function gC(){return hg}function Ot(t){let e=hg;return hg=t,e}function mC(t,e,n){let r=id(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;am(t,"Injector")}var EP={},La=EP,fg="__NG_DI_FLAG__",Ol="ngTempTokenPath",CP="ngTokenPath",bP=/\n/gm,DP="\u0275",A0="__source",eo;function TP(){return eo}function zr(t){let e=eo;return eo=t,e}function SP(t,e=ie.Default){if(eo===void 0)throw new j(-203,!1);return eo===null?mC(t,void 0,e):eo.get(t,e&ie.Optional?null:void 0,e)}function q(t,e=ie.Default){return(gC()||SP)(Tt(t),e)}function O(t,e=ie.Default){return q(t,od(e))}function od(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pg(t){let e=[];for(let n=0;n<t.length;n++){let r=Tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){let a=r[o],u=AP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function yC(t,e){return t[fg]=e,t.prototype[fg]=e,t}function AP(t){return t[fg]}function xP(t,e,n,r){let i=t[Ol];throw e[A0]&&i.unshift(e[A0]),t.message=RP(`
`+t.message,i,n,r),t[CP]=i,t[Ol]=null,t}function RP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DP?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bP,`
  `)}`}var Be=yC(uC("Optional"),8);var cm=yC(uC("SkipSelf"),4);function $i(t,e){let n=t.hasOwnProperty(Pl);return n?t[Pl]:null}function MP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function NP(t){return t.flat(Number.POSITIVE_INFINITY)}function um(t,e){t.forEach(n=>Array.isArray(n)?um(n,e):e(n))}function vC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function OP(t,e,n){let r=za(t,e);return r>=0?t[r|1]=n:(r=~r,PP(t,r,e,n)),r}function Jp(t,e){let n=za(t,e);if(n>=0)return t[n|1]}function za(t,e){return kP(t,e,1)}function kP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var no={},en=[],ro=new U(""),_C=new U("",-1),wC=new U(""),Fl=class{get(e,n=La){if(n===La){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}},IC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(IC||{}),On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{}),Kr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kr||{});function FP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];LP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function EC(t){return t===3||t===4||t===6}function LP(t){return t.charCodeAt(0)===64}function Va(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?x0(t,n,i,null,e[++r]):x0(t,n,i,null,null))}}return t}function x0(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var CC="ng-template";function VP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lm(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function lm(t){return t.type===4&&t.value!==CC}function UP(t,e,n){let r=t.type===4&&!n?CC:t.value;return e===r}function jP(t,e,n){let r=4,i=t.attrs,s=i!==null?HP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!dn(r)&&!dn(u))return!1;if(o&&dn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!UP(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;o=!0}}else if(r&8){if(i===null||!VP(t,i,u,n)){if(dn(r))return!1;o=!0}}else{let l=e[++a],f=BP(u,i,lm(t),n);if(f===-1){if(dn(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;o=!0}}}}return dn(r)||o}function dn(t){return(t&1)===0}function BP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return qP(e,t)}function $P(t,e,n=!1){for(let r=0;r<e.length;r++)if(jP(t,e[r],n))return!0;return!1}function HP(t){for(let e=0;e<t.length;e++){let n=t[e];if(EC(n))return e}return t.length}function qP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function R0(t,e){return t?":not("+e.trim()+")":e}function zP(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!dn(o)&&(e+=R0(s,i),i=""),r=o,s=s||!dn(r);n++}return i!==""&&(e+=R0(s,i)),e}function GP(t){return t.map(zP).join(",")}function WP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!dn(i))break;i=s}r++}return{attrs:e,classes:n}}function tt(t){return qa(()=>{let e=AC(t),n=le(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===IC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});xC(n);let r=t.dependencies;return n.directiveDefs=N0(r,!1),n.pipeDefs=N0(r,!0),n.id=YP(n),n})}function KP(t){return Qr(t)||bC(t)}function QP(t){return t!==null}function hr(t){return qa(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function M0(t,e){if(t==null)return no;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Kr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Kr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function He(t){return qa(()=>{let e=AC(t);return xC(e),e})}function dm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qr(t){return t[mP]||null}function bC(t){return t[yP]||null}function DC(t){return t[vP]||null}function TC(t){let e=Qr(t)||bC(t)||DC(t);return e!==null?e.standalone:!1}function SC(t,e){let n=t[_P]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function AC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||no,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:M0(t.inputs,e),outputs:M0(t.outputs),debugInfo:null}}function xC(t){t.features?.forEach(e=>e(t))}function N0(t,e){if(!t)return null;let n=e?DC:KP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(QP)}function YP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gn(t){return{\u0275providers:t}}function ZP(...t){return{\u0275providers:RC(!0,t),\u0275fromNgModule:!0}}function RC(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return um(e,o=>{let a=o;mg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&MC(i,s),n}function MC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];hm(i,s=>{e(s,r)})}}function mg(t,e,n,r){if(t=Tt(t),!t)return!1;let i=null,s=D0(t),o=!s&&Qr(t);if(!s&&!o){let u=t.ngModule;if(s=D0(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)mg(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{um(s.imports,f=>{mg(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&MC(l,e)}if(!a){let l=$i(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:wC,useValue:i,multi:!0},i),e({provide:ro,useValue:()=>q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;hm(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function hm(t,e){for(let n of t)pC(n)&&(n=n.\u0275providers),Array.isArray(n)?hm(n,e):e(n)}var JP=Te({provide:String,useValue:Te});function NC(t){return t!==null&&typeof t=="object"&&JP in t}function XP(t){return!!(t&&t.useExisting)}function e1(t){return!!(t&&t.useFactory)}function io(t){return typeof t=="function"}function t1(t){return!!t.useClass}var ad=new U(""),Sl={},n1={},Xp;function fm(){return Xp===void 0&&(Xp=new Fl),Xp}var qt=class{},Ua=class extends qt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vg(e,o=>this.processProvider(o)),this.records.set(_C,Zs(void 0,this)),i.has("environment")&&this.records.set(qt,Zs(void 0,this));let s=this.records.get(ad);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(wC,en,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zr(this),r=Ot(void 0),i;try{return e()}finally{zr(n),Ot(r)}}get(e,n=La,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(S0))return e[S0](this);r=od(r);let i,s=zr(this),o=Ot(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=a1(e)&&id(e);l&&this.injectableDefInScope(l)?u=Zs(yg(e),Sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?fm():this.parent;return n=r&ie.Optional&&n===La?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ol]=a[Ol]||[]).unshift(St(e)),s)throw a;return xP(a,e,"R3InjectorError",this.source)}else throw a}finally{Ot(o),zr(s)}}resolveInjectorInitializers(){let e=fe(null),n=zr(this),r=Ot(void 0),i;try{let s=this.get(ro,en,ie.Self);for(let o of s)o()}finally{zr(n),Ot(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Tt(e);let n=io(e)?e:Tt(e&&e.provide),r=i1(e);if(!io(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zs(void 0,Sl,!0),i.factory=()=>pg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Sl&&(n.value=n1,n.value=n.factory()),typeof n.value=="object"&&n.value&&o1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yg(t){let e=id(t),n=e!==null?e.factory:$i(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return r1(t);throw new j(204,!1)}function r1(t){if(t.length>0)throw new j(204,!1);let n=pP(t);return n!==null?()=>n.factory(t):()=>new t}function i1(t){if(NC(t))return Zs(void 0,t.useValue);{let e=PC(t);return Zs(e,Sl)}}function PC(t,e,n){let r;if(io(t)){let i=Tt(t);return $i(i)||yg(i)}else if(NC(t))r=()=>Tt(t.useValue);else if(e1(t))r=()=>t.useFactory(...pg(t.deps||[]));else if(XP(t))r=()=>q(Tt(t.useExisting));else{let i=Tt(t&&(t.useClass||t.provide));if(s1(t))r=()=>new i(...pg(t.deps));else return $i(i)||yg(i)}return r}function Zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function s1(t){return!!t.deps}function o1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function a1(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function vg(t,e){for(let n of t)Array.isArray(n)?vg(n,e):n&&pC(n)?vg(n.\u0275providers,e):e(n)}function mn(t,e){t instanceof Ua&&t.assertNotDestroyed();let n,r=zr(t),i=Ot(void 0);try{return e()}finally{zr(r),Ot(i)}}function OC(){return gC()!==void 0||TP()!=null}function c1(t){if(!OC())throw new j(-203,!1)}function u1(t){return typeof t=="function"}var fr=0,J=1,G=2,vt=3,hn=4,yn=5,Ll=6,Vl=7,fn=8,so=9,kn=10,Ke=11,ja=12,P0=13,fo=14,Fn=15,Hi=16,Js=17,ar=18,cd=19,kC=20,Gr=21,eg=22,tn=23,pn=25,FC=1;var qi=7,Ul=8,oo=9,Ht=10,jl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(jl||{});function Wr(t){return Array.isArray(t)&&typeof t[FC]=="object"}function pr(t){return Array.isArray(t)&&t[FC]===!0}function LC(t){return(t.flags&4)!==0}function ud(t){return t.componentOffset>-1}function pm(t){return(t.flags&1)===1}function Yr(t){return!!t.template}function _g(t){return(t[G]&512)!==0}var wg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function VC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function zt(){return UC}function UC(t){return t.type.prototype.ngOnChanges&&(t.setInput=d1),l1}zt.ngInherit=!0;function l1(){let t=BC(this),e=t?.current;if(e){let n=t.previous;if(n===no)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function d1(t,e,n,r,i){let s=this.declaredInputs[r],o=BC(t)||h1(t,{previous:no,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new wg(l&&l.currentValue,n,u===no),VC(t,e,i,n)}var jC="__ngSimpleChanges__";function BC(t){return t[jC]||null}function h1(t,e){return t[jC]=e}var O0=null;var Nn=function(t,e,n){O0?.(t,e,n)},$C="svg",f1="math";function Ln(t){for(;Array.isArray(t);)t=t[fr];return t}function HC(t,e){return Ln(e[t])}function nn(t,e){return Ln(e[t.index])}function qC(t,e){return t.data[e]}function zC(t,e){return t[e]}function ei(t,e){let n=e[t];return Wr(n)?n:n[fr]}function p1(t){return(t[G]&4)===4}function gm(t){return(t[G]&128)===128}function g1(t){return pr(t[vt])}function Bl(t,e){return e==null?null:t[e]}function GC(t){t[Js]=0}function WC(t){t[G]&1024||(t[G]|=1024,gm(t)&&ld(t))}function m1(t,e){for(;t>0;)e=e[fo],t--;return e}function Ba(t){return!!(t[G]&9216||t[tn]?.dirty)}function Ig(t){t[kn].changeDetectionScheduler?.notify(7),t[G]&64&&(t[G]|=1024),Ba(t)&&ld(t)}function ld(t){t[kn].changeDetectionScheduler?.notify(0);let e=zi(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!gm(e)));)e=zi(e)}function KC(t,e){if((t[G]&256)===256)throw new j(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function y1(t,e){if(t[Gr]===null)return;let n=t[Gr].indexOf(e);n!==-1&&t[Gr].splice(n,1)}function zi(t){let e=t[vt];return pr(e)?e[vt]:e}var re={lFrame:rb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var QC=!1;function v1(){return re.lFrame.elementDepthCount}function _1(){re.lFrame.elementDepthCount++}function w1(){re.lFrame.elementDepthCount--}function YC(){return re.bindingsEnabled}function I1(){return re.skipHydrationRootTNode!==null}function E1(t){return re.skipHydrationRootTNode===t}function C1(){re.skipHydrationRootTNode=null}function de(){return re.lFrame.lView}function lt(){return re.lFrame.tView}function Xi(t){return re.lFrame.contextLView=t,t[fn]}function es(t){return re.lFrame.contextLView=null,t}function _t(){let t=ZC();for(;t!==null&&t.type===64;)t=t.parent;return t}function ZC(){return re.lFrame.currentTNode}function b1(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ga(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function JC(){return re.lFrame.isParent}function D1(){re.lFrame.isParent=!1}function XC(){return QC}function k0(t){QC=t}function dd(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function T1(t){return re.lFrame.bindingIndex=t}function hd(){return re.lFrame.bindingIndex++}function S1(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function A1(){return re.lFrame.inI18n}function x1(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Eg(e)}function R1(){return re.lFrame.currentDirectiveIndex}function Eg(t){re.lFrame.currentDirectiveIndex=t}function M1(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function eb(){return re.lFrame.currentQueryIndex}function mm(t){re.lFrame.currentQueryIndex=t}function N1(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function tb(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=N1(s),i===null||(s=s[fo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=nb();return r.currentTNode=e,r.lView=t,!0}function ym(t){let e=nb(),n=t[J];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nb(){let t=re.lFrame,e=t===null?null:t.child;return e===null?rb(t):e}function rb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ib(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sb=ib;function vm(){let t=ib();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function P1(t){return(re.lFrame.contextLView=m1(t,re.lFrame.contextLView))[fn]}function po(){return re.lFrame.selectedIndex}function Gi(t){re.lFrame.selectedIndex=t}function _m(){let t=re.lFrame;return qC(t.tView,t.selectedIndex)}function Ye(){re.lFrame.currentNamespace=$C}function vn(){O1()}function O1(){re.lFrame.currentNamespace=null}function k1(){return re.lFrame.currentNamespace}var ob=!0;function wm(){return ob}function Im(t){ob=t}function F1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=UC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Em(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Al(t,e,n){ab(t,e,3,n)}function xl(t,e,n,r){(t[G]&3)===n&&ab(t,e,n,r)}function tg(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function ab(t,e,n,r){let i=r!==void 0?t[Js]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Js]+=65536),(a<s||s==-1)&&(L1(t,n,e,u),t[Js]=(t[Js]&4294901760)+u+2),u++}function F0(t,e){Nn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Nn(5,t,e)}}function L1(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[G]>>14<t[Js]>>16&&(t[G]&3)===e&&(t[G]+=16384,F0(a,s)):F0(a,s)}var to=-1,Wi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function V1(t){return t instanceof Wi}function U1(t){return(t.flags&8)!==0}function j1(t){return(t.flags&16)!==0}var ng={},Cg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=od(r);let i=this.injector.get(e,ng,r);return i!==ng||n===ng?i:this.parentInjector.get(e,n,r)}};function cb(t){return t!==to}function $l(t){return t&32767}function B1(t){return t>>16}function Hl(t,e){let n=B1(t),r=e;for(;n>0;)r=r[fo],n--;return r}var bg=!0;function ql(t){let e=bg;return bg=t,e}var $1=256,ub=$1-1,lb=5,H1=0,Pn={};function q1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fa)&&(r=n[Fa]),r==null&&(r=n[Fa]=H1++);let i=r&ub,s=1<<i;e.data[t+(i>>lb)]|=s}function zl(t,e){let n=db(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,rg(r.data,t),rg(e,null),rg(r.blueprint,null));let i=Cm(t,e),s=t.injectorIndex;if(cb(i)){let o=$l(i),a=Hl(i,e),u=a[J].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function rg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function db(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Cm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mb(i),r===null)return to;if(n++,i=i[fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return to}function Dg(t,e,n){q1(t,e,n)}function z1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(EC(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function hb(t,e,n){if(n&ie.Optional||t!==void 0)return t;am(e,"NodeInjector")}function fb(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[so],s=Ot(void 0);try{return i?i.get(e,r,n&ie.Optional):mC(e,r,n&ie.Optional)}finally{Ot(s)}}return hb(r,e,n)}function pb(t,e,n,r=ie.Default,i){if(t!==null){if(e[G]&2048&&!(r&ie.Self)){let o=Q1(t,e,n,r,Pn);if(o!==Pn)return o}let s=gb(t,e,n,r,Pn);if(s!==Pn)return s}return fb(e,n,r,i)}function gb(t,e,n,r,i){let s=W1(n);if(typeof s=="function"){if(!tb(e,t,r))return r&ie.Host?hb(i,n,r):fb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ie.Optional))am(n);else return o}finally{sb()}}else if(typeof s=="number"){let o=null,a=db(t,e),u=to,l=r&ie.Host?e[Fn][yn]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?Cm(t,e):e[a+8],u===to||!V0(r,!1)?a=-1:(o=e[J],a=$l(u),e=Hl(u,e)));a!==-1;){let f=e[J];if(L0(s,a,f.data)){let p=G1(a,e,n,o,r,l);if(p!==Pn)return p}u=e[a+8],u!==to&&V0(r,e[J].data[a+8]===l)&&L0(s,a,e)?(o=f,a=$l(u),e=Hl(u,e)):a=-1}}return i}function G1(t,e,n,r,i,s){let o=e[J],a=o.data[t+8],u=r==null?ud(a)&&bg:r!=o&&(a.type&3)!==0,l=i&ie.Host&&s===a,f=Rl(a,o,n,u,l);return f!==null?Ki(e,o,f,a):Pn}function Rl(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,m=i?a+f:l;for(let v=p;v<m;v++){let D=o[v];if(v<u&&n===D||v>=u&&D.type===n)return v}if(i){let v=o[u];if(v&&Yr(v)&&v.type===n)return u}return null}function Ki(t,e,n,r){let i=t[n],s=e.data;if(V1(i)){let o=i;o.resolving&&IP(wP(s[n]));let a=ql(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Ot(o.injectImpl):null,f=tb(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&F1(n,s[n],e)}finally{l!==null&&Ot(l),ql(a),o.resolving=!1,sb()}}return i}function W1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fa)?t[Fa]:void 0;return typeof e=="number"?e>=0?e&ub:K1:e}function L0(t,e,n){let r=1<<t;return!!(n[e+(t>>lb)]&r)}function V0(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var Bi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pb(this._tNode,this._lView,e,od(r),n)}};function K1(){return new Bi(_t(),de())}function go(t){return qa(()=>{let e=t.prototype.constructor,n=e[Pl]||Tg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Pl]||Tg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tg(t){return lC(t)?()=>{let e=Tg(Tt(t));return e&&e()}:$i(t)}function Q1(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let a=gb(s,o,n,r|ie.Self,Pn);if(a!==Pn)return a;let u=s.parent;if(!u){let l=o[kC];if(l){let f=l.get(n,Pn,r);if(f!==Pn)return f}u=mb(o),o=o[fo]}s=u}return i}function mb(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[yn]:null}function bm(t){return z1(_t(),t)}function U0(t,e=null,n=null,r){let i=yb(t,e,n,r);return i.resolveInjectorInitializers(),i}function yb(t,e=null,n=null,r,i=new Set){let s=[n||en,ZP(t)];return r=r||(typeof t=="object"?void 0:St(t)),new Ua(s,e||fm(),r||null,i)}var Ui=class Ui{static create(e,n){if(Array.isArray(e))return U0({name:""},n,e,"");{let r=e.name??"";return U0({name:r},e.parent,e.providers,r)}}};Ui.THROW_IF_NOT_FOUND=La,Ui.NULL=new Fl,Ui.\u0275prov=B({token:Ui,providedIn:"any",factory:()=>q(_C)}),Ui.__NG_ELEMENT_ID__=-1;var Qe=Ui;var Y1=new U("");Y1.__NG_ELEMENT_ID__=t=>{let e=_t();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new j(204,!1)};var Z1="ngOriginalError";function ig(t){return t[Z1]}var vb=!0,Dm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=J1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Sg=class extends Dm{constructor(e){super(),this._lView=e}onDestroy(e){return KC(this._lView,e),()=>y1(this._lView,e)}};function J1(){return new Sg(de())}var mo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ag=class extends et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,OC()&&(this.destroyRef=O(Dm,{optional:!0})??void 0,this.pendingTasks=O(mo,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},De=Ag;function Gl(...t){}function _b(t){let e,n;function r(){t=Gl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function j0(t){return queueMicrotask(()=>t()),()=>{t=Gl}}var Tm="isAngularZone",Wl=Tm+"_ID",X1=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new De(!1),this.onMicrotaskEmpty=new De(!1),this.onStable=new De(!1),this.onError=new De(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=vb}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,nO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eO,Gl,Gl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},eO={};function Sm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){_b(()=>{t.callbackScheduled=!1,xg(t),t.isCheckStableRunning=!0,Sm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xg(t)}function nO(t){let e=()=>{tO(t)},n=X1++;t._inner=t._inner.fork({name:"angular",properties:{[Tm]:!0,[Wl]:n,[Wl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(rO(u))return r.invokeTask(s,o,a,u);try{return B0(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$0(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return B0(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!iO(u)&&e(),$0(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xg(t),Sm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function B0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $0(t){t._nesting--,Sm(t)}var Rg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new De,this.onMicrotaskEmpty=new De,this.onStable=new De,this.onError=new De}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function rO(t){return wb(t,"__ignore_ng_zone__")}function iO(t){return wb(t,"__scheduler_tick__")}function wb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ig(e);for(;n&&ig(n);)n=ig(n);return n||null}},sO=new U("",{providedIn:"root",factory:()=>{let t=O(ye),e=O(cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oO(){return yo(_t(),de())}function yo(t,e){return new Gt(nn(t,e))}var Gt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=oO;let t=e;return t})();function aO(t){return t instanceof Gt?t.nativeElement:t}function cO(){return this._results[Symbol.iterator]()}var Mg=class t{get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=NP(e);(this._changesDetected=!MP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Ib(t){return(t.flags&128)===128}var Eb=new Map,uO=0;function lO(){return uO++}function dO(t){Eb.set(t[cd],t)}function hO(t){Eb.delete(t[cd])}var H0="__ngContext__";function Qi(t,e){Wr(e)?(t[H0]=e[cd],dO(e)):t[H0]=e}function Cb(t){return Db(t[ja])}function bb(t){return Db(t[hn])}function Db(t){for(;t!==null&&!pr(t);)t=t[hn];return t}var Ng;function Tb(t){Ng=t}function fO(){if(Ng!==void 0)return Ng;if(typeof document<"u")return document;throw new j(210,!1)}var Am=new U("",{providedIn:"root",factory:()=>pO}),pO="ng",xm=new U(""),Vn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Rm=new U("",{providedIn:"root",factory:()=>fO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gO="h",mO="b";var yO=()=>null;function Mm(t,e,n=!1){return yO(t,e,n)}var Sb=!1,vO=new U("",{providedIn:"root",factory:()=>Sb});var Cl;function _O(){if(Cl===void 0&&(Cl=null,ji.trustedTypes))try{Cl=ji.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}function q0(t){return _O()?.createScriptURL(t)||t}var Kl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cC})`}};function Wa(t){return t instanceof Kl?t.changingThisBreaksApplicationSecurity:t}function Nm(t,e){let n=wO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cC})`)}return n===e}function wO(t){return t instanceof Kl&&t.getTypeName()||null}var IO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ab(t){return t=String(t),t.match(IO)?t:"unsafe:"+t}var fd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fd||{});function EO(t){let e=Rb();return e?e.sanitize(fd.URL,t)||"":Nm(t,"URL")?Wa(t):Ab(sd(t))}function CO(t){let e=Rb();if(e)return q0(e.sanitize(fd.RESOURCE_URL,t)||"");if(Nm(t,"ResourceURL"))return q0(Wa(t));throw new j(904,!1)}function bO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CO:EO}function xb(t,e,n){return bO(e,n)(t)}function Rb(){let t=de();return t&&t[kn].sanitizer}function Mb(t){return t instanceof Function?t():t}function DO(t){return(t??O(Qe)).get(Vn)==="browser"}var ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ur||{}),TO;function Pm(t,e){return TO(t,e)}function Xs(t,e,n,r,i){if(r!=null){let s,o=!1;pr(r)?s=r:Wr(r)&&(o=!0,r=r[fr]);let a=Ln(r);t===0&&n!==null?i==null?Fb(e,n,a):Ql(e,n,a,i||null,!0):t===1&&n!==null?Ql(e,n,a,i||null,!0):t===2?BO(e,a,o):t===3&&e.destroyNode(a),s!=null&&HO(e,t,s,n,i)}}function SO(t,e){return t.createText(e)}function AO(t,e,n){t.setValue(e,n)}function Nb(t,e,n){return t.createElement(e,n)}function xO(t,e){Pb(t,e),e[fr]=null,e[yn]=null}function RO(t,e,n,r,i,s){r[fr]=i,r[yn]=e,pd(t,r,n,1,i,s)}function Pb(t,e){e[kn].changeDetectionScheduler?.notify(8),pd(t,e,e[Ke],2,null,null)}function MO(t){let e=t[ja];if(!e)return sg(t[J],t);for(;e;){let n=null;if(Wr(e))n=e[ja];else{let r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Wr(e)&&sg(e[J],e),e=e[vt];e===null&&(e=t),Wr(e)&&sg(e[J],e),n=e&&e[hn]}e=n}}function NO(t,e,n,r){let i=Ht+r,s=n.length;r>0&&(n[i-1][hn]=e),r<s-Ht?(e[hn]=n[i],vC(n,Ht+r,e)):(n.push(e),e[hn]=null),e[vt]=n;let o=e[Hi];o!==null&&n!==o&&Ob(o,e);let a=e[ar];a!==null&&a.insertView(t),Ig(e),e[G]|=128}function Ob(t,e){let n=t[oo],r=e[vt];if(Wr(r))t[G]|=jl.HasTransplantedViews;else{let i=r[vt][Fn];e[Fn]!==i&&(t[G]|=jl.HasTransplantedViews)}n===null?t[oo]=[e]:n.push(e)}function Om(t,e){let n=t[oo],r=n.indexOf(e);n.splice(r,1)}function Pg(t,e){if(t.length<=Ht)return;let n=Ht+e,r=t[n];if(r){let i=r[Hi];i!==null&&i!==t&&Om(i,r),e>0&&(t[n-1][hn]=r[hn]);let s=kl(t,Ht+e);xO(r[J],r);let o=s[ar];o!==null&&o.detachView(s[J]),r[vt]=null,r[hn]=null,r[G]&=-129}return r}function kb(t,e){if(!(e[G]&256)){let n=e[Ke];n.destroyNode&&pd(t,e,n,3,null,null),MO(e)}}function sg(t,e){if(e[G]&256)return;let n=fe(null);try{e[G]&=-129,e[G]|=256,e[tn]&&Sp(e[tn]),OO(t,e),PO(t,e),e[J].type===1&&e[Ke].destroy();let r=e[Hi];if(r!==null&&pr(e[vt])){r!==e[vt]&&Om(r,e);let i=e[ar];i!==null&&i.detachView(t)}hO(e)}finally{fe(n)}}function PO(t,e){let n=t.cleanup,r=e[Vl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Vl]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Nn(4,a,u);try{u.call(a)}finally{Nn(5,a,u)}}else{Nn(4,i,s);try{s.call(i)}finally{Nn(5,i,s)}}}}}function kO(t,e,n){return FO(t,e.parent,n)}function FO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[fr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===On.None||s===On.Emulated)return null}return nn(r,n)}}function Ql(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Fb(t,e,n){t.appendChild(e,n)}function z0(t,e,n,r,i){r!==null?Ql(t,e,n,r,i):Fb(t,e,n)}function Lb(t,e){return t.parentNode(e)}function LO(t,e){return t.nextSibling(e)}function VO(t,e,n){return jO(t,e,n)}function UO(t,e,n){return t.type&40?nn(t,n):null}var jO=UO,G0;function km(t,e,n,r){let i=kO(t,r,e),s=e[Ke],o=r.parent||e[yn],a=VO(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)z0(s,i,n[u],a,!1);else z0(s,i,n,a,!1);G0!==void 0&&G0(s,r,e,n,i)}function ka(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Og(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ka(t,r);{let i=t[e.index];return pr(i)?Og(-1,i):Ln(i)}}else{if(n&128)return ka(t,e.next);if(n&32)return Pm(e,t)()||Ln(t[e.index]);{let r=Vb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(t[Fn]);return ka(i,r)}else return ka(t,e.next)}}}return null}function Vb(t,e){if(e!==null){let r=t[Fn][yn],i=e.projection;return r.projection[i]}return null}function Og(t,e){let n=Ht+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return ka(r,i)}return e[qi]}function BO(t,e,n){t.removeChild(null,e,n)}function Fm(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Qi(Ln(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Fm(t,e,n.child,r,i,s,!1),Xs(e,t,i,a,s);else if(u&32){let l=Pm(n,r),f;for(;f=l();)Xs(e,t,i,f,s);Xs(e,t,i,a,s)}else u&16?$O(t,e,r,n,i,s):Xs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pd(t,e,n,r,i,s){Fm(n,r,t.firstChild,e,i,s,!1)}function $O(t,e,n,r,i,s){let o=n[Fn],u=o[yn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Xs(e,t,i,f,s)}else{let l=u,f=o[vt];Ib(r)&&(l.flags|=128),Fm(t,e,l,f,i,s,!0)}}function HO(t,e,n,r,i){let s=n[qi],o=Ln(n);s!==o&&Xs(e,t,r,s,i);for(let a=Ht;a<n.length;a++){let u=n[a];pd(u[J],u,t,e,r,s)}}function qO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ur.Important),t.setStyle(n,r,i,s))}}function zO(t,e,n){t.setAttribute(e,"style",n)}function Ub(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gg(t,e,r),i!==null&&Ub(t,e,i),s!==null&&zO(t,e,s)}var ts={};function W(t=1){Bb(lt(),de(),po()+t,!1)}function Bb(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Al(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xl(e,s,0,n)}Gi(n)}function V(t,e=ie.Default){let n=de();if(n===null)return q(t,e);let r=_t();return pb(r,n,Tt(t),e)}function $b(){let t="invalid";throw new Error(t)}function Hb(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&Kr.SignalBased&&(a=e[r][sr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Kr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):VC(e,a,r,s)}finally{fe(o)}}function GO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gi(~i);else{let s=i,o=n[++r],a=n[++r];x1(o,s);let u=e[s];a(2,u)}}}finally{Gi(-1)}}function gd(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[fr]=i,p[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),GC(p),p[vt]=p[fo]=t,p[fn]=n,p[kn]=o||t&&t[kn],p[Ke]=a||t&&t[Ke],p[so]=u||t&&t[so]||null,p[yn]=s,p[cd]=lO(),p[Ll]=f,p[kC]=l,p[Fn]=e.type==2?t[Fn]:p,p}function md(t,e,n,r,i){let s=t.data[e];if(s===null)s=WO(t,e,n,r,i),A1()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=b1();s.injectorIndex=o===null?-1:o.injectorIndex}return Ga(s,!0),s}function WO(t,e,n,r,i){let s=ZC(),o=JC(),a=o?s:s&&s.parent,u=t.data[e]=XO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function qb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zb(t,e,n,r,i){let s=po(),o=r&2;try{Gi(-1),o&&e.length>pn&&Bb(t,e,pn,!1),Nn(o?2:0,i),n(r,i)}finally{Gi(s),Nn(o?3:1,i)}}function Gb(t,e,n){if(LC(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function Wb(t,e,n){YC()&&(sk(t,e,n,nn(n,e)),(n.flags&64)===64&&Xb(t,e,n))}function Kb(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Qb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lm(t,e,n,r,i,s,o,a,u,l,f){let p=pn+r,m=p+i,v=KO(p,m),D=typeof l=="function"?l():l;return v[J]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:f}}function KO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ts);return n}function QO(t,e,n,r){let s=r.get(vO,Sb)||n===On.ShadowDom,o=t.selectRootElement(e,s);return YO(o),o}function YO(t){ZO(t)}var ZO=()=>null;function JO(t,e,n,r){let i=nD(e);i.push(n),t.firstCreatePass&&rD(t).push(r,i.length-1)}function XO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return I1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function W0(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Kr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?K0(r,n,l,a,u):K0(r,n,l,a)}return r}function K0(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ek(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,v=m?m.inputs:null,D=m?m.outputs:null;u=W0(0,p.inputs,f,u,v),l=W0(1,p.outputs,f,l,D);let M=u!==null&&o!==null&&!lm(e)?mk(u,f,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function tk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Yb(t,e,n,r,i,s,o,a){let u=nn(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Vm(t,n,f,r,i),ud(e)&&nk(n,e.index)):e.type&3?(r=tk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function nk(t,e){let n=ei(e,t);n[G]&16||(n[G]|=64)}function Zb(t,e,n,r){if(YC()){let i=r===null?null:{"":-1},s=ak(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Jb(t,e,n,o,i,a),i&&ck(n,r,i)}n.mergedAttrs=Va(n.mergedAttrs,n.attrs)}function Jb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Dg(zl(n,e),t,r[l].type);lk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=qb(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Va(n.mergedAttrs,f.hostAttrs),dk(t,n,e,u,f),uk(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}ek(t,n,s)}function rk(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;ik(o)!=a&&o.push(a),o.push(n,r,s)}}function ik(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sk(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ud(n)&&hk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zl(n,e),Qi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ki(e,t,a,n);if(Qi(l,e),o!==null&&gk(e,a-i,l,u,n,o),Yr(u)){let f=ei(n.index,e);f[fn]=Ki(e,t,a,n)}}}function Xb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=R1();try{Gi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Eg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ok(u,l)}}finally{Gi(-1),Eg(o)}}function ok(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ak(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if($P(e,o.selectors,!1))if(r||(r=[]),Yr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;kg(t,e,u)}else r.unshift(o),kg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function kg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ck(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function uk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yr(e)&&(n[""]=t)}}function lk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=$i(i.type,!0)),o=new Wi(s,Yr(i),V);t.blueprint[r]=o,n[r]=o,rk(t,e,r,qb(t,n,i.hostVars,ts),i)}function hk(t,e,n){let r=nn(e,t),i=Qb(n),s=t[kn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=yd(t,gd(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function fk(t,e,n,r,i,s){let o=nn(t,e);pk(e[Ke],o,s,t.value,n,r,i)}function pk(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?sd(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function gk(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];Hb(r,n,u,l,f,p)}}function mk(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function eD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tD(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];mm(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function yd(t,e){return t[ja]?t[P0][hn]=e:t[ja]=e,t[P0]=e,e}function Fg(t,e,n){mm(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function nD(t){return t[Vl]??=[]}function rD(t){return t.cleanup??=[]}function iD(t,e){let n=t[so],r=n?n.get(cr,null):null;r&&r.handleError(e)}function Vm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];Hb(f,l,r,a,u,i)}}function yk(t,e,n){let r=HC(e,t);AO(t[Ke],r,n)}function vk(t,e){let n=ei(e,t),r=n[J];_k(r,n);let i=n[fr];i!==null&&n[Ll]===null&&(n[Ll]=Mm(i,n[so])),Um(r,n,n[fn])}function _k(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Um(t,e,n){ym(e);try{let r=t.viewQuery;r!==null&&Fg(1,r,n);let i=t.template;i!==null&&zb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ar]?.finishViewCreation(t),t.staticContentQueries&&tD(t,e),t.staticViewQueries&&Fg(2,t.viewQuery,n);let s=t.components;s!==null&&wk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,vm()}}function wk(t,e){for(let n=0;n<e.length;n++)vk(t,e[n])}function Ik(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[G]&4096?4096:16,u=gd(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Hi]=l;let f=t[ar];return f!==null&&(u[ar]=f.createEmbeddedView(s)),Um(s,u,n),u}finally{fe(i)}}function Q0(t,e){return!e||e.firstChild===null||Ib(t)}function Ek(t,e,n,r=!0){let i=e[J];if(NO(i,e,t,n),r){let o=Og(n,t),a=e[Ke],u=Lb(a,t[qi]);u!==null&&RO(i,t[yn],a,e,u,o)}let s=e[Ll];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Yl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Ln(s)),pr(s)&&Ck(s,r);let o=n.type;if(o&8)Yl(t,e,n.child,r);else if(o&32){let a=Pm(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=Vb(e,n);if(Array.isArray(a))r.push(...a);else{let u=zi(e[Fn]);Yl(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ck(t,e){for(let n=Ht;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Yl(r[J],r,i,e)}t[qi]!==t[fr]&&e.push(t[qi])}var sD=[];function bk(t){return t[tn]??Dk(t)}function Dk(t){let e=sD.pop()??Object.create(Sk);return e.lView=t,e}function Tk(t){t.lView[tn]!==t&&(t.lView=null,sD.push(t))}var Sk=le(L({},xa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ld(t.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function Ak(t){let e=t[tn]??Object.create(xk);return e.lView=t,e}var xk=le(L({},xa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=zi(t.lView);for(;e&&!oD(e[J]);)e=zi(e);e&&WC(e)},consumerOnSignalRead(){this.lView[tn]=this}});function oD(t){return t.type!==2}var Rk=100;function aD(t,e=!0,n=0){let r=t[kn],i=r.rendererFactory,s=!1;s||i.begin?.();try{Mk(t,n)}catch(o){throw e&&iD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Mk(t,e){let n=XC();try{k0(!0),Lg(t,e);let r=0;for(;Ba(t);){if(r===Rk)throw new j(103,!1);r++,Lg(t,1)}}finally{k0(n)}}function Nk(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[kn].inlineEffectRunner?.flush(),ym(e);let a=!0,u=null,l=null;s||(oD(t)?(l=bk(e),u=Ku(l)):LE()===null?(a=!1,l=Ak(e),u=Ku(l)):e[tn]&&(Sp(e[tn]),e[tn]=null));try{GC(e),T1(t.bindingStartIndex),n!==null&&zb(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let v=t.preOrderCheckHooks;v!==null&&Al(e,v,null)}else{let v=t.preOrderHooks;v!==null&&xl(e,v,0,null),tg(e,0)}if(o||Pk(e),cD(e,0),t.contentQueries!==null&&tD(t,e),!s)if(f){let v=t.contentCheckHooks;v!==null&&Al(e,v)}else{let v=t.contentHooks;v!==null&&xl(e,v,1),tg(e,1)}GO(t,e);let p=t.components;p!==null&&lD(e,p,0);let m=t.viewQuery;if(m!==null&&Fg(2,m,r),!s)if(f){let v=t.viewCheckHooks;v!==null&&Al(e,v)}else{let v=t.viewHooks;v!==null&&xl(e,v,2),tg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[eg]){for(let v of e[eg])v();e[eg]=null}s||(e[G]&=-73)}catch(f){throw s||ld(e),f}finally{l!==null&&(Dp(l,u),a&&Tk(l)),vm()}}function cD(t,e){for(let n=Cb(t);n!==null;n=bb(n))for(let r=Ht;r<n.length;r++){let i=n[r];uD(i,e)}}function Pk(t){for(let e=Cb(t);e!==null;e=bb(e)){if(!(e[G]&jl.HasTransplantedViews))continue;let n=e[oo];for(let r=0;r<n.length;r++){let i=n[r];WC(i)}}}function Ok(t,e,n){let r=ei(e,t);uD(r,n)}function uD(t,e){gm(t)&&Lg(t,e)}function Lg(t,e){let r=t[J],i=t[G],s=t[tn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Tp(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)Nk(r,t,r.template,t[fn]);else if(i&8192){cD(t,1);let a=r.components;a!==null&&lD(t,a,1)}}function lD(t,e,n){for(let r=0;r<e.length;r++)Ok(t,e[r],n)}function jm(t,e){let n=XC()?64:1088;for(t[kn].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=zi(t);if(_g(t)&&!r)return t;t=r}return null}var Yi=class{get rootNodes(){let e=this._lView,n=e[J];return Yl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(pr(e)){let n=e[Ul],r=n?n.indexOf(this):-1;r>-1&&(Pg(e,r),kl(n,r))}this._attachedToViewContainer=!1}kb(this._lView[J],this._lView)}onDestroy(e){KC(this._lView,e)}markForCheck(){jm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Ig(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,aD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_g(this._lView),n=this._lView[Hi];n!==null&&!e&&Om(n,this._lView),Pb(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=_g(this._lView),r=this._lView[Hi];r!==null&&!n&&Ob(r,this._lView),Ig(this._lView)}},Zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lk;let t=e;return t})(),kk=Zi,Fk=class extends kk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ik(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Yi(i)}};function Lk(){return Bm(_t(),de())}function Bm(t,e){return t.type&4?new Fk(e,t,yo(t,e)):null}var $7=new RegExp(`^(\\d+)*(${mO}|${gO})*(.*)`);var Vk=()=>null;function Y0(t,e){return Vk(t,e)}var ao=class{},dD=new U("",{providedIn:"root",factory:()=>!1});var hD=new U(""),fD=new U(""),Vg=class{},Zl=class{};function Uk(t){let e=Error(`No component factory found for ${St(t)}.`);return e[jk]=t,e}var jk="ngComponent";var Ug=class{resolveComponentFactory(e){throw Uk(e)}},Zm=class Zm{};Zm.NULL=new Ug;var co=Zm,uo=class{},gr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bk();let t=e;return t})();function Bk(){let t=de(),e=_t(),n=ei(e.index,t);return(Wr(n)?n:t)[Ke]}var $k=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var Z0=new Set;function Ka(t){Z0.has(t)||(Z0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var kt=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(kt||{}),Hk={destroy(){}};function $m(t,e){!e&&c1($m);let n=e?.injector??O(Qe);return DO(n)?(Ka("NgAfterNextRender"),zk(t,n,!0,e?.phase??kt.MixedReadWrite)):Hk}function qk(t,e){if(t instanceof Function)switch(e){case kt.EarlyRead:return{earlyRead:t};case kt.Write:return{write:t};case kt.MixedReadWrite:return{mixedReadWrite:t};case kt.Read:return{read:t}}return t}function zk(t,e,n,r){let i=qk(t,r),s=e.get(Hm),o=s.handler??=new Bg,a=[],u=[],l=()=>{for(let v of u)o.unregister(v);f()},f=e.get(Dm).onDestroy(l),p=0,m=(v,D)=>{if(!D)return;let M=n?(...H)=>(p--,p<1&&l(),D(...H)):D,F=mn(e,()=>new jg(v,a,M));o.register(F),u.push(F),p++};return m(kt.EarlyRead,i.earlyRead),m(kt.Write,i.write),m(kt.MixedReadWrite,i.mixedReadWrite),m(kt.Read,i.read),{destroy:l}}var jg=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=O(ye),this.errorHandler=O(cr,{optional:!0}),O(ao,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},Bg=class{constructor(){this.executingCallbacks=!1,this.buckets={[kt.EarlyRead]:new Set,[kt.Write]:new Set,[kt.MixedReadWrite]:new Set,[kt.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Hm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function $g(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=C0(i,a);else if(s==2){let u=a,l=e[++o];r=C0(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Jl=class extends co{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qr(e);return new lo(n,this.ngModule)}};function J0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Kr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Kr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Gk(t){let e=t.toLowerCase();return e==="svg"?$C:e==="math"?f1:null}var lo=class extends Zl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=J0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return J0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=GP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof qt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Cg(e,o):e,u=a.get(uo,null);if(u===null)throw new j(407,!1);let l=a.get($k,null),f=a.get(Hm,null),p=a.get(ao,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",M=r?QO(v,r,this.componentDef.encapsulation,a):Nb(v,D,Gk(D)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let H=null;M!==null&&(H=Mm(M,a,!0));let we=Lm(0,null,null,1,0,null,null,null,null,null,null),te=gd(null,we,null,F,null,null,m,v,a,null,H);ym(te);let Oe,Mt;try{let Ae=this.componentDef,E,y=null;Ae.findHostDirectiveDefs?(E=[],y=new Map,Ae.findHostDirectiveDefs(Ae,E,y),E.push(Ae)):E=[Ae];let w=Wk(te,M),I=Kk(w,M,Ae,E,te,m,v);Mt=qC(we,pn),M&&Zk(v,Ae,M,r),n!==void 0&&Jk(Mt,this.ngContentSelectors,n),Oe=Yk(I,Ae,E,y,te,[Xk]),Um(we,te,null)}finally{vm()}return new Hg(this.componentType,Oe,yo(Mt,te),te,Mt)}finally{fe(s)}}},Hg=class extends Vg{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Vm(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=ei(this._tNode.index,s);jm(o,1)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Wk(t,e){let n=t[J],r=pn;return t[r]=e,md(n,r,2,"#host",null)}function Kk(t,e,n,r,i,s,o){let a=i[J];Qk(r,t,e,o);let u=null;e!==null&&(u=Mm(e,i[so]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=gd(i,Qb(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&kg(a,t,r.length-1),yd(i,p),i[t.index]=p}function Qk(t,e,n,r){for(let i of t)e.mergedAttrs=Va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($g(e,e.mergedAttrs,!0),n!==null&&jb(r,n,e))}function Yk(t,e,n,r,i,s){let o=_t(),a=i[J],u=nn(o,i);Jb(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=Ki(i,a,p,o);Qi(m,i)}Xb(a,i,o),u&&Qi(u,i);let l=Ki(i,a,o.directiveStart+o.componentOffset,o);if(t[fn]=i[fn]=l,s!==null)for(let f of s)f(l,e);return Gb(a,o,i),l}function Zk(t,e,n,r){if(r)gg(t,n,["ng-version","18.2.1"]);else{let{attrs:i,classes:s}=WP(e.selectors[0]);i&&gg(t,n,i),s&&s.length>0&&Ub(t,n,s.join(" "))}}function Jk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Xk(){let t=_t();Em(de()[J],t)}var ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eF;let t=e;return t})();function eF(){let t=_t();return gD(t,de())}var tF=ti,pD=class extends tF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yo(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cm(this._hostTNode,this._hostLView);if(cb(e)){let n=Hl(e,this._hostLView),r=$l(e),i=n[J].data[r+8];return new Bi(i,n)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=X0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Y0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Q0(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!u1(e),a;if(o)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let u=o?e:new lo(Qr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(qt,null);M&&(s=M)}let f=Qr(u.componentType??{}),p=Y0(this._lContainer,f?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Q0(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(g1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new pD(u,u[yn],u[vt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ek(o,i,s,r),e.attachToViewContainerRef(),vC(og(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=X0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Pg(this._lContainer,n);r&&(kl(og(this._lContainer),n),kb(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Pg(this._lContainer,n);return r&&kl(og(this._lContainer),n)!=null?new Yi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function X0(t){return t[Ul]}function og(t){return t[Ul]||(t[Ul]=[])}function gD(t,e){let n,r=e[t.index];return pr(r)?n=r:(n=eD(r,e,null,t),e[t.index]=n,yd(e,n)),rF(n,e,t,r),new pD(n,t,e)}function nF(t,e){let n=t[Ke],r=n.createComment(""),i=nn(e,t),s=Lb(n,i);return Ql(n,s,r,LO(n,i),!1),r}var rF=oF,iF=()=>!1;function sF(t,e,n){return iF(t,e,n)}function oF(t,e,n,r){if(t[qi])return;let i;n.type&8?i=Ln(r):i=nF(e,n),t[qi]=i}var qg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},zg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)qm(e,n).matches!==null&&this.queries[n].setDirty()}},Xl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=pF(e):this.predicate=e}},Gg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,aF(n,s)),this.matchTNodeWithReadOption(e,n,Rl(n,e,s,!1,!1))}else r===Zi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Rl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gt||i===ti||i===Zi&&n.type&4)this.addMatch(n.index,-2);else{let s=Rl(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function aF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function cF(t,e){return t.type&11?yo(t,e):t.type&4?Bm(t,e):null}function uF(t,e,n,r){return n===-1?cF(e,t):n===-2?lF(t,e,r):Ki(t,t[J],n,e)}function lF(t,e,n){if(n===Gt)return yo(e,t);if(n===Zi)return Bm(e,t);if(n===ti)return gD(e,t)}function mD(t,e,n,r){let i=e[ar].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let f=s[l];a.push(uF(e,f,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Kg(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=mD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],f=e[-u];for(let p=Ht;p<f.length;p++){let m=f[p];m[Hi]===m[vt]&&Kg(m[J],m,l,r)}if(f[oo]!==null){let p=f[oo];for(let m=0;m<p.length;m++){let v=p[m];Kg(v[J],v,l,r)}}}}}return r}function dF(t,e){return t[ar].queries[e].queryList}function yD(t,e,n){let r=new Mg((n&4)===4);return JO(t,e,r,r.destroy),(e[ar]??=new zg).queries.push(new qg(r))-1}function hF(t,e,n){let r=lt();return r.firstCreatePass&&(vD(r,new Xl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),yD(r,de(),e)}function fF(t,e,n,r){let i=lt();if(i.firstCreatePass){let s=_t();vD(i,new Xl(e,n,r),s.index),gF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return yD(i,de(),n)}function pF(t){return t.split(",").map(e=>e.trim())}function vD(t,e,n){t.queries===null&&(t.queries=new Gg),t.queries.track(new Wg(e,n))}function gF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function qm(t,e){return t.queries.getByIndex(e)}function mF(t,e){let n=t[J],r=qm(n,e);return r.crossesNgTemplate?Kg(n,t,e,[]):mD(n,t,r,e)}function yF(t){return typeof t=="function"&&t[sr]!==void 0}function Qa(t,e){Ka("NgSignals");let n=KE(t),r=n[sr];return e?.equal&&(r.equal=e.equal),n.set=i=>Ap(r,i),n.update=i=>QE(r,i),n.asReadonly=vF.bind(n),n}function vF(){let t=this[sr];if(t.readonlyFn===void 0){let e=()=>this();e[sr]=t,t.readonlyFn=e}return t.readonlyFn}function _D(t){return yF(t)&&typeof t.set=="function"}function _F(t){return Object.getPrototypeOf(t.prototype).constructor}function Un(t){let e=_F(t.type),n=!0,r=[t];for(;e;){let i;if(Yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=bl(t.inputs),o.inputTransforms=bl(t.inputTransforms),o.declaredInputs=bl(t.declaredInputs),o.outputs=bl(t.outputs);let a=i.hostBindings;a&&bF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&EF(t,u),l&&CF(t,l),wF(t,i),hP(t.outputs,i.outputs),Yr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Un&&(n=!1)}}e=Object.getPrototypeOf(e)}IF(r)}function wF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function IF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,n=Va(n,i.hostAttrs))}}function bl(t){return t===no?{}:t===en?[]:t}function EF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function CF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function bF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zr=class{},$a=class{};var Qg=class extends Zr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jl(this);let s=SC(e);this._bootstrapComponents=Mb(s.bootstrap),this._r3Injector=yb(e,n,[{provide:Zr,useValue:this},{provide:co,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yg=class extends $a{constructor(e){super(),this.moduleType=e}create(e){return new Qg(this.moduleType,e,[])}};var ed=class extends Zr{constructor(e){super(),this.componentFactoryResolver=new Jl(this),this.instance=null;let n=new Ua([...e.providers,{provide:Zr,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],e.parent||fm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vd(t,e,n=null){return new ed({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function wD(t){return TF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function DF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function TF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ID(t,e,n){return t[e]=n}function Jr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function SF(t,e,n,r){let i=Jr(t,e,n);return Jr(t,e+1,r)||i}function AF(t){return(t.flags&32)===32}function xF(t,e,n,r,i,s,o,a,u){let l=e.consts,f=md(e,t,4,o||null,a||null);Zb(e,n,f,Bl(l,u)),Em(e,f);let p=f.tView=Lm(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function RF(t,e,n,r,i,s,o,a,u,l){let f=n+pn,p=e.firstCreatePass?xF(f,e,t,r,i,s,o,a,u):e.data[f];Ga(p,!1);let m=MF(e,t,p,n);wm()&&km(e,t,m,p),Qi(m,t);let v=eD(m,t,m,p);return t[f]=v,yd(t,v),sF(v,p,t),pm(p)&&Wb(e,t,p),u!=null&&Kb(t,p,l),p}function ke(t,e,n,r,i,s,o,a){let u=de(),l=lt(),f=Bl(l.consts,s);return RF(u,l,t,e,n,r,i,f,o,a),ke}var MF=NF;function NF(t,e,n,r){return Im(!0),e[Ke].createComment("")}function Ya(t,e,n,r){let i=de(),s=hd();if(Jr(i,s,e)){let o=lt(),a=_m();fk(a,i,t,e,n,r)}return Ya}function PF(t,e,n,r){return Jr(t,hd(),n)?e+sd(n)+r:ts}function Dl(t,e){return t<<17|e<<2}function Ji(t){return t>>17&32767}function OF(t){return(t&2)==2}function kF(t,e){return t&131071|e<<17}function Zg(t){return t|2}function ho(t){return(t&131068)>>2}function ag(t,e){return t&-131069|e<<2}function FF(t){return(t&1)===1}function Jg(t){return t|1}function LF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ji(o),u=ho(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||za(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Ji(t[a+1]);t[r+1]=Dl(m,a),m!==0&&(t[m+1]=ag(t[m+1],r)),t[a+1]=kF(t[a+1],r)}else t[r+1]=Dl(a,0),a!==0&&(t[a+1]=ag(t[a+1],r)),a=r;else t[r+1]=Dl(u,0),a===0?a=r:t[u+1]=ag(t[u+1],r),u=r;l&&(t[r+1]=Zg(t[r+1])),eC(t,f,r,!0),eC(t,f,r,!1),VF(e,f,t,r,s),o=Dl(a,u),s?e.classBindings=o:e.styleBindings=o}function VF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&za(s,e)>=0&&(n[r+1]=Jg(n[r+1]))}function eC(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ji(i):ho(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];UF(u,e)&&(a=!0,t[o+1]=r?Jg(l):Zg(l)),o=r?Ji(l):ho(l)}a&&(t[n+1]=r?Zg(i):Jg(i))}function UF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?za(t,e)>=0:!1}function X(t,e,n){let r=de(),i=hd();if(Jr(r,i,e)){let s=lt(),o=_m();Yb(s,o,r,t,e,r[Ke],n,!1)}return X}function tC(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Vm(t,n,s[o],o,r)}function _d(t,e){return jF(t,e,null,!0),_d}function jF(t,e,n,r){let i=de(),s=lt(),o=S1(2);if(s.firstUpdatePass&&$F(s,t,o,r),e!==ts&&Jr(i,o,e)){let a=s.data[po()];WF(s,a,i,i[Ke],t,i[o+1]=KF(e,n),r,o)}}function BF(t,e){return e>=t.expandoStartIndex}function $F(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[po()],o=BF(t,n);QF(s,r)&&e===null&&!o&&(e=!1),e=HF(i,s,e,r),LF(i,s,e,n,o,r)}}function HF(t,e,n,r){let i=M1(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cg(null,t,e,n,r),n=Ha(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=cg(i,t,e,n,r),s===null){let u=qF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cg(null,t,e,u[1],r),u=Ha(u,e.attrs,r),zF(t,e,r,u))}else s=GF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function qF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ho(r)!==0)return t[Ji(r)]}function zF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ji(i)]=r}function GF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ha(r,o,n)}return Ha(r,e.attrs,n)}function cg(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ha(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ha(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),OP(t,o,n?!0:e[++s]))}return t===void 0?null:t}function WF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=FF(l)?nC(u,e,n,i,ho(l),o):void 0;if(!td(f)){td(s)||OF(l)&&(s=nC(u,null,n,i,a,o));let p=HC(po(),n);qO(r,o,p,i,s)}}function nC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===ts&&(m=p?en:void 0);let v=p?Jp(m,r):f===r?m:void 0;if(l&&!td(v)&&(v=Jp(u,r)),td(v)&&(a=v,o))return a;let D=t[i+1];i=o?Ji(D):ho(D)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Jp(u,r))}return a}function td(t){return t!==void 0}function KF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(Wa(t)))),t}function QF(t,e){return(t.flags&(e?8:16))!==0}function YF(t,e,n,r,i,s){let o=e.consts,a=Bl(o,i),u=md(e,t,2,r,a);return Zb(e,n,u,Bl(o,s)),u.attrs!==null&&$g(u,u.attrs,!1),u.mergedAttrs!==null&&$g(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(t,e,n,r){let i=de(),s=lt(),o=pn+t,a=i[Ke],u=s.firstCreatePass?YF(o,s,i,e,n,r):s.data[o],l=ZF(s,i,u,a,e,t);i[o]=l;let f=pm(u);return Ga(u,!0),jb(a,l,u),!AF(u)&&wm()&&km(s,i,l,u),v1()===0&&Qi(l,i),_1(),f&&(Wb(s,i,u),Gb(s,u,i)),r!==null&&Kb(i,u),x}function R(){let t=_t();JC()?D1():(t=t.parent,Ga(t,!1));let e=t;E1(e)&&C1(),w1();let n=lt();return n.firstCreatePass&&(Em(n,t),LC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&U1(e)&&tC(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&j1(e)&&tC(n,e,de(),e.stylesWithoutHost,!1),R}function Y(t,e,n,r){return x(t,e,n,r),R(),Y}var ZF=(t,e,n,r,i,s)=>(Im(!0),Nb(r,i,k1()));function vo(){return de()}var Vi=void 0;function JF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var XF=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",JF],ug={};function rn(t){let e=eL(t),n=rC(e);if(n)return n;let r=e.split("-")[0];if(n=rC(r),n)return n;if(r==="en")return XF;throw new j(701,!1)}function rC(t){return t in ug||(ug[t]=ji.ng&&ji.ng.common&&ji.ng.common.locales&&ji.ng.common.locales[t]),ug[t]}var $e=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}($e||{});function eL(t){return t.toLowerCase().replace(/_/g,"-")}var nd="en-US";var tL=nd;function nL(t){typeof t=="string"&&(tL=t.toLowerCase().replace(/_/g,"-"))}var rL=(t,e,n)=>{};function Fe(t,e,n,r){let i=de(),s=lt(),o=_t();return ED(s,i,i[Ke],o,t,e,r),Fe}function iL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Vl],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ED(t,e,n,r,i,s,o){let a=pm(r),l=t.firstCreatePass&&rD(t),f=e[fn],p=nD(e),m=!0;if(r.type&3||o){let M=nn(r,e),F=o?o(M):M,H=p.length,we=o?Oe=>o(Ln(Oe[r.index])):r.index,te=null;if(!o&&a&&(te=iL(t,e,i,r.index)),te!==null){let Oe=te.__ngLastListenerFn__||te;Oe.__ngNextListenerFn__=s,te.__ngLastListenerFn__=s,m=!1}else{s=sC(r,e,f,s),rL(M,i,s);let Oe=n.listen(F,i,s);p.push(s,Oe),l&&l.push(i,we,H,H+1)}}else s=sC(r,e,f,s);let v=r.outputs,D;if(m&&v!==null&&(D=v[i])){let M=D.length;if(M)for(let F=0;F<M;F+=2){let H=D[F],we=D[F+1],Mt=e[H][we].subscribe(s),Ae=p.length;p.push(s,Mt),l&&l.push(i,r.index,Ae,-(Ae+1))}}}function iC(t,e,n,r){let i=fe(null);try{return Nn(6,e,n),n(r)!==!1}catch(s){return iD(t,s),!1}finally{Nn(7,e,n),fe(i)}}function sC(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?ei(t.index,e):e;jm(o,5);let a=iC(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=iC(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Ze(t=1){return P1(t)}function CD(t,e,n,r){fF(t,e,n,r)}function bD(t,e,n){hF(t,e,n)}function wd(t){let e=de(),n=lt(),r=eb();mm(r+1);let i=qm(n,r);if(t.dirty&&p1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=mF(e,r);t.reset(s,aO),t.notifyOnChanges()}return!0}return!1}function Id(){return dF(de(),eb())}function sL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function P(t,e=""){let n=de(),r=lt(),i=t+pn,s=r.firstCreatePass?md(r,i,1,e,null):r.data[i],o=oL(r,n,s,e,t);n[i]=o,wm()&&km(r,n,o,s),Ga(s,!1)}var oL=(t,e,n,r,i)=>(Im(!0),SO(e[Ke],r));function ns(t){return DD("",t,""),ns}function DD(t,e,n){let r=de(),i=PF(r,t,e,n);return i!==ts&&yk(r,po(),i),DD}function Gm(t,e,n){_D(e)&&(e=e());let r=de(),i=hd();if(Jr(r,i,e)){let s=lt(),o=_m();Yb(s,o,r,t,e,r[Ke],n,!1)}return Gm}function TD(t,e){let n=_D(t);return n&&t.set(e),n}function Wm(t,e){let n=de(),r=lt(),i=_t();return ED(r,n,n[Ke],i,t,e),Wm}function aL(t,e,n){let r=lt();if(r.firstCreatePass){let i=Yr(t);Xg(n,r.data,r.blueprint,i,!0),Xg(e,r.data,r.blueprint,i,!1)}}function Xg(t,e,n,r,i){if(t=Tt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xg(t[s],e,n,r,i);else{let s=lt(),o=de(),a=_t(),u=io(t)?t:Tt(t.provide),l=PC(t),f=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(io(t)||!t.multi){let v=new Wi(l,i,V),D=dg(u,e,i?f:f+m,p);D===-1?(Dg(zl(a,o),s,u),lg(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[D]=v,o[D]=v)}else{let v=dg(u,e,f+m,p),D=dg(u,e,f,f+m),M=v>=0&&n[v],F=D>=0&&n[D];if(i&&!F||!i&&!M){Dg(zl(a,o),s,u);let H=lL(i?uL:cL,n.length,i,r,l);!i&&F&&(n[D].providerFactory=H),lg(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),o.push(H)}else{let H=SD(n[i?D:v],l,!i&&r);lg(s,t,v>-1?v:D,H)}!i&&r&&F&&n[D].componentProviders++}}}function lg(t,e,n,r){let i=io(e),s=t1(e);if(i||s){let u=(s?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function SD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cL(t,e,n,r){return em(this.multi,[])}function uL(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ki(n,n[J],this.providerFactory.index,r);s=a.slice(0,o),em(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],em(i,s);return s}function em(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function lL(t,e,n,r,i){let s=new Wi(t,n,V);return s.multi=[],s.index=e,s.componentProviders=0,SD(s,i,r&&!n),s}function _o(t,e=[]){return n=>{n.providersResolver=(r,i)=>aL(r,i?i(t):t,e)}}var dL=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=RC(!1,r.type),s=i.length>0?vd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(q(qt))});let t=e;return t})();function nt(t){Ka("NgStandalone"),t.getStandaloneInjector=e=>e.get(dL).getOrCreateStandaloneInjector(t)}function Ed(t,e,n,r){return RD(de(),dd(),t,e,n,r)}function AD(t,e,n,r,i){return MD(de(),dd(),t,e,n,r,i)}function xD(t,e){let n=t[e];return n===ts?void 0:n}function RD(t,e,n,r,i,s){let o=e+n;return Jr(t,o,i)?ID(t,o+1,s?r.call(s,i):r(i)):xD(t,o+1)}function MD(t,e,n,r,i,s,o){let a=e+n;return SF(t,a,i,s)?ID(t,a+2,o?r.call(o,i,s):r(i,s)):xD(t,a+2)}function Km(t,e){let n=lt(),r,i=t+pn;n.firstCreatePass?(r=hL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=$i(r.type,!0)),o,a=Ot(V);try{let u=ql(!1),l=s();return ql(u),sL(n,de(),i,l),l}finally{Ot(a)}}function hL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ND(t,e,n){let r=t+pn,i=de(),s=zC(i,r);return OD(i,r)?RD(i,dd(),e,s.transform,n,s):s.transform(n)}function PD(t,e,n,r){let i=t+pn,s=de(),o=zC(s,i);return OD(s,i)?MD(s,dd(),e,o.transform,n,r,o):o.transform(n,r)}function OD(t,e){return t[J].data[e].pure}var lr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kD=new lr("18.2.1");var Cd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var FD=new U("");function ni(t){return!!t&&typeof t.then=="function"}function Qm(t){return!!t&&typeof t.subscribe=="function"}var bd=new U(""),LD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(bd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ni(o))r.push(o);else if(Qm(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dd=new U("");function fL(){WE(()=>{throw new j(600,!1)})}function pL(t){return t.isBoundToModule}var gL=10;function mL(t,e,n){try{let r=n();return ni(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(sO),this.afterRenderEffectManager=O(Hm),this.zonelessEnabled=O(dD),this.externalTestViews=new Set,this.beforeRender=new et,this.afterTick=new et,this.componentTypes=[],this.components=[],this.isStable=O(mo).hasPendingTasks.pipe(Q(r=>!r)),this._injector=O(qt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Zl;if(!this._injector.get(LD).done){let v=!s&&TC(r),D=!1;throw new j(405,D)}let a;s?a=r:a=this._injector.get(co).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=pL(a)?void 0:this._injector.get(Zr),l=i||a.selector,f=a.create(Qe.NULL,[],l,u),p=f.location.nativeElement,m=f.injector.get(FD,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Ml(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new j(101,!1);let i=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,fe(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(uo,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<gL;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)yL(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Ba(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>Ba(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ml(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Dd,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ml(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ml(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yL(t,e,n,r){if(!n&&!Ba(t))return;aD(t,e,n&&!r?0:1)}var tm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Td=(()=>{let e=class e{compileModuleSync(r){return new Yg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=SC(r),o=Mb(s.declarations).reduce((a,u)=>{let l=Qr(u);return l&&a.push(new lo(l)),a},[]);return new tm(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vL=(()=>{let e=class e{constructor(){this.zone=O(ye),this.changeDetectionScheduler=O(ao),this.applicationRef=O(rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _L({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(le(L({},wL()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:ro,multi:!0,useFactory:()=>{let r=O(vL,{optional:!0});return()=>r.initialize()}},{provide:ro,multi:!0,useFactory:()=>{let r=O(IL);return()=>{r.initialize()}}},e===!0?{provide:hD,useValue:!0}:[],{provide:fD,useValue:n??vb}]}function wL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var IL=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=O(ye),this.pendingTasks=O(mo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EL=(()=>{let e=class e{constructor(){this.appRef=O(rs),this.taskService=O(mo),this.ngZone=O(ye),this.zonelessEnabled=O(dD),this.disableScheduling=O(hD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(fD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?j0:_b;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick(this.shouldRefreshViews))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick(this.shouldRefreshViews)))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wl+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,j0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CL(){return typeof $localize<"u"&&$localize.locale||nd}var Sd=new U("",{providedIn:"root",factory:()=>O(Sd,ie.Optional|ie.SkipSelf)||CL()});var VD=new U("");function Tl(t){return!!t.platformInjector}function bL(t){let e=Tl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{Tl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(cr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Tl(t)){let s=()=>e.destroy(),o=t.platformInjector.get(VD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Ml(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return mL(r,n,()=>{let s=e.get(LD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Sd,nd);if(nL(o||nd),Tl(t)){let a=e.get(rs);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return DL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function DL(t,e){let n=t.injector.get(rs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var Nl=null;function TL(t=[],e){return Qe.create({name:e,providers:[{provide:ad,useValue:"platform"},{provide:VD,useValue:new Set([()=>Nl=null])},...t]})}function SL(t=[]){if(Nl)return Nl;let e=TL(t);return Nl=e,fL(),AL(e),e}function AL(t){t.get(xm,null)?.forEach(n=>n())}var mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xL;let t=e;return t})();function xL(t){return RL(_t(),de(),(t&16)===16)}function RL(t,e,n){if(ud(t)&&!n){let r=ei(t.index,e);return new Yi(r,r)}else if(t.type&175){let r=e[Fn];return new Yi(r,e)}return null}var nm=class{constructor(){}supports(e){return wD(e)}create(e){return new rm(e)}},ML=(t,e)=>e,rm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ML}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<oC(r,i,s)?n:r,a=oC(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,D=v+m;f<=D&&D<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=f-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!wD(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,DF(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new im(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new rd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},im=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},rd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function aC(){return new Ym([new nm])}var Ym=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||aC()),deps:[[e,new cm,new Be]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new j(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:aC});let t=e;return t})();function UD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=SL(r),s=[_L({}),{provide:ao,useExisting:EL},...n||[]],o=new ed({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return bL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var jD=new U("");function ri(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Za(t,e){Ka("NgSignals");let n=qE(t);return e?.equal&&(n[sr].equal=e.equal),n}function _n(t){let e=fe(null);try{return t()}finally{fe(e)}}function BD(t){let e=Qr(t);if(!e)return null;let n=new lo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var KD=null;function wr(){return KD}function QD(t){KD??=t}var Fd=class{};var xt=new U(""),cy=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(NL),providedIn:"platform"});let t=e;return t})(),YD=new U(""),NL=(()=>{let e=class e extends cy{constructor(){super(),this._doc=O(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function uy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $D(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function vr(t){return t&&t[0]!=="?"?"?"+t:t}var Ir=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(ly),providedIn:"root"});let t=e;return t})(),ZD=new U(""),ly=(()=>{let e=class e extends Ir{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return uy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+vr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+vr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+vr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(cy),q(ZD,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JD=(()=>{let e=class e extends Ir{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=uy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+vr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+vr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(cy),q(ZD,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),wo=(()=>{let e=class e{constructor(r){this._subject=new De,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=kL($D(HD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+vr(i))}normalize(r){return e.stripTrailingSlash(OL(this._basePath,HD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+vr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+vr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=vr,e.joinWithSlash=uy,e.stripTrailingSlash=$D,e.\u0275fac=function(i){return new(i||e)(q(Ir))},e.\u0275prov=B({token:e,factory:()=>PL(),providedIn:"root"});let t=e;return t})();function PL(){return new wo(q(Ir))}function OL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HD(t){return t.replace(/\/index.html$/,"")}function kL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var At=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(At||{}),Se=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Se||{}),Wt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Wt||{}),ii={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function FL(t){return rn(t)[$e.LocaleId]}function LL(t,e,n){let r=rn(t),i=[r[$e.DayPeriodsFormat],r[$e.DayPeriodsStandalone]],s=sn(i,e);return sn(s,n)}function VL(t,e,n){let r=rn(t),i=[r[$e.DaysFormat],r[$e.DaysStandalone]],s=sn(i,e);return sn(s,n)}function UL(t,e,n){let r=rn(t),i=[r[$e.MonthsFormat],r[$e.MonthsStandalone]],s=sn(i,e);return sn(s,n)}function jL(t,e){let r=rn(t)[$e.Eras];return sn(r,e)}function Ad(t,e){let n=rn(t);return sn(n[$e.DateFormat],e)}function xd(t,e){let n=rn(t);return sn(n[$e.TimeFormat],e)}function Rd(t,e){let r=rn(t)[$e.DateTimeFormat];return sn(r,e)}function Ud(t,e){let n=rn(t),r=n[$e.NumberSymbols][e];if(typeof r>"u"){if(e===ii.CurrencyDecimal)return n[$e.NumberSymbols][ii.Decimal];if(e===ii.CurrencyGroup)return n[$e.NumberSymbols][ii.Group]}return r}function XD(t){if(!t[$e.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[$e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function BL(t){let e=rn(t);return XD(e),(e[$e.ExtraData][2]||[]).map(r=>typeof r=="string"?Jm(r):[Jm(r[0]),Jm(r[1])])}function $L(t,e,n){let r=rn(t);XD(r);let i=[r[$e.ExtraData][0],r[$e.ExtraData][1]],s=sn(i,e)||[];return sn(s,n)||[]}function sn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Jm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var HL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Md={},qL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_r=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(_r||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function zL(t,e,n,r){let i=eV(t);e=yr(n,e)||e;let o=[],a;for(;e;)if(a=qL.exec(e),a){o=o.concat(a.slice(1));let f=o.pop();if(!f)break;e=f}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=tT(r,u),i=XL(i,r,!0));let l="";return o.forEach(f=>{let p=ZL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ld(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function yr(t,e){let n=FL(t);if(Md[n]??={},Md[n][e])return Md[n][e];let r="";switch(e){case"shortDate":r=Ad(t,Wt.Short);break;case"mediumDate":r=Ad(t,Wt.Medium);break;case"longDate":r=Ad(t,Wt.Long);break;case"fullDate":r=Ad(t,Wt.Full);break;case"shortTime":r=xd(t,Wt.Short);break;case"mediumTime":r=xd(t,Wt.Medium);break;case"longTime":r=xd(t,Wt.Long);break;case"fullTime":r=xd(t,Wt.Full);break;case"short":let i=yr(t,"shortTime"),s=yr(t,"shortDate");r=Nd(Rd(t,Wt.Short),[i,s]);break;case"medium":let o=yr(t,"mediumTime"),a=yr(t,"mediumDate");r=Nd(Rd(t,Wt.Medium),[o,a]);break;case"long":let u=yr(t,"longTime"),l=yr(t,"longDate");r=Nd(Rd(t,Wt.Long),[u,l]);break;case"full":let f=yr(t,"fullTime"),p=yr(t,"fullDate");r=Nd(Rd(t,Wt.Full),[f,p]);break}return r&&(Md[n][e]=r),r}function Nd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function wn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function GL(t,e){return wn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(s,o){let a=WL(t,s);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return GL(a,e);let u=Ud(o,ii.MinusSign);return wn(a,e,u,r,i)}}function WL(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,e,n=At.Format,r=!1){return function(i,s){return KL(i,s,t,e,n,r)}}function KL(t,e,n,r,i,s){switch(n){case ve.Months:return UL(e,i,r)[t.getMonth()];case ve.Days:return VL(e,i,r)[t.getDay()];case ve.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=BL(e),f=$L(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,D]=m,M=o>=v.hours&&a>=v.minutes,F=o<D.hours||o===D.hours&&a<D.minutes;if(v.hours<D.hours){if(M&&F)return!0}else if(M||F)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return LL(e,i,r)[o<12?0:1];case ve.Eras:return jL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Pd(t){return function(e,n,r){let i=-1*r,s=Ud(n,ii.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case _r.Short:return(i>=0?"+":"")+wn(o,2,s)+wn(Math.abs(i%60),2,s);case _r.ShortGMT:return"GMT"+(i>=0?"+":"")+wn(o,1,s);case _r.Long:return"GMT"+(i>=0?"+":"")+wn(o,2,s)+":"+wn(Math.abs(i%60),2,s);case _r.Extended:return r===0?"Z":(i>=0?"+":"")+wn(o,2,s)+":"+wn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var QL=0,kd=4;function YL(t){let e=Ld(t,QL,1).getDay();return Ld(t,0,1+(e<=kd?kd:kd+7)-e)}function eT(t){let e=t.getDay(),n=e===0?-3:kd-e;return Ld(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Xm(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=eT(n),o=YL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return wn(i,t,Ud(r,ii.MinusSign))}}function Od(t,e=!1){return function(n,r){let s=eT(n).getFullYear();return wn(s,t,Ud(r,ii.MinusSign),e)}}var ey={};function ZL(t){if(ey[t])return ey[t];let e;switch(t){case"G":case"GG":case"GGG":e=xe(ve.Eras,Se.Abbreviated);break;case"GGGG":e=xe(ve.Eras,Se.Wide);break;case"GGGGG":e=xe(ve.Eras,Se.Narrow);break;case"y":e=qe(_e.FullYear,1,0,!1,!0);break;case"yy":e=qe(_e.FullYear,2,0,!0,!0);break;case"yyy":e=qe(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(_e.FullYear,4,0,!1,!0);break;case"Y":e=Od(1);break;case"YY":e=Od(2,!0);break;case"YYY":e=Od(3);break;case"YYYY":e=Od(4);break;case"M":case"L":e=qe(_e.Month,1,1);break;case"MM":case"LL":e=qe(_e.Month,2,1);break;case"MMM":e=xe(ve.Months,Se.Abbreviated);break;case"MMMM":e=xe(ve.Months,Se.Wide);break;case"MMMMM":e=xe(ve.Months,Se.Narrow);break;case"LLL":e=xe(ve.Months,Se.Abbreviated,At.Standalone);break;case"LLLL":e=xe(ve.Months,Se.Wide,At.Standalone);break;case"LLLLL":e=xe(ve.Months,Se.Narrow,At.Standalone);break;case"w":e=Xm(1);break;case"ww":e=Xm(2);break;case"W":e=Xm(1,!0);break;case"d":e=qe(_e.Date,1);break;case"dd":e=qe(_e.Date,2);break;case"c":case"cc":e=qe(_e.Day,1);break;case"ccc":e=xe(ve.Days,Se.Abbreviated,At.Standalone);break;case"cccc":e=xe(ve.Days,Se.Wide,At.Standalone);break;case"ccccc":e=xe(ve.Days,Se.Narrow,At.Standalone);break;case"cccccc":e=xe(ve.Days,Se.Short,At.Standalone);break;case"E":case"EE":case"EEE":e=xe(ve.Days,Se.Abbreviated);break;case"EEEE":e=xe(ve.Days,Se.Wide);break;case"EEEEE":e=xe(ve.Days,Se.Narrow);break;case"EEEEEE":e=xe(ve.Days,Se.Short);break;case"a":case"aa":case"aaa":e=xe(ve.DayPeriods,Se.Abbreviated);break;case"aaaa":e=xe(ve.DayPeriods,Se.Wide);break;case"aaaaa":e=xe(ve.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":e=xe(ve.DayPeriods,Se.Abbreviated,At.Standalone,!0);break;case"bbbb":e=xe(ve.DayPeriods,Se.Wide,At.Standalone,!0);break;case"bbbbb":e=xe(ve.DayPeriods,Se.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(ve.DayPeriods,Se.Abbreviated,At.Format,!0);break;case"BBBB":e=xe(ve.DayPeriods,Se.Wide,At.Format,!0);break;case"BBBBB":e=xe(ve.DayPeriods,Se.Narrow,At.Format,!0);break;case"h":e=qe(_e.Hours,1,-12);break;case"hh":e=qe(_e.Hours,2,-12);break;case"H":e=qe(_e.Hours,1);break;case"HH":e=qe(_e.Hours,2);break;case"m":e=qe(_e.Minutes,1);break;case"mm":e=qe(_e.Minutes,2);break;case"s":e=qe(_e.Seconds,1);break;case"ss":e=qe(_e.Seconds,2);break;case"S":e=qe(_e.FractionalSeconds,1);break;case"SS":e=qe(_e.FractionalSeconds,2);break;case"SSS":e=qe(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Pd(_r.Short);break;case"ZZZZZ":e=Pd(_r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Pd(_r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Pd(_r.Long);break;default:return null}return ey[t]=e,e}function tT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function JL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function XL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=tT(e,i);return JL(t,r*(s-i))}function eV(t){if(qD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Ld(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(HL))return tV(r)}let e=new Date(t);if(!qD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function tV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function qD(t){return t instanceof Date&&!isNaN(t.valueOf())}function nT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ty=/\s+/,zD=[],Io=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=zD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(ty):zD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ty):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ty).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(V(Gt),V(gr))},e.\u0275dir=He({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ny=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jd=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new ny(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),GD(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);GD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(V(ti),V(Zi),V(Ym))},e.\u0275dir=He({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function GD(t,e){t.context.$implicit=e.item}var jn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ry,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){WD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){WD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(V(ti),V(Zi))},e.\u0275dir=He({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ry=class{constructor(){this.$implicit=null,this.ngIf=null}};function WD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${St(e)}'.`)}function rT(t,e){return new j(2100,!1)}var iy=class{createSubscription(e,n){return _n(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){_n(()=>e.unsubscribe())}},sy=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},nV=new sy,rV=new iy,iT=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ni(r))return nV;if(Qm(r))return rV;throw rT(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(V(mr,16))},e.\u0275pipe=dm({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var iV="mediumDate",sV=new U(""),oV=new U(""),sT=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??iV,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zL(r,a,o||this.locale,u)}catch(a){throw rT(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(V(Sd,16),V(sV,24),V(oV,24))},e.\u0275pipe=dm({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var is=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=dr({});let t=e;return t})(),dy="browser",aV="server";function cV(t){return t===dy}function hy(t){return t===aV}var oT=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>cV(O(Vn))?new oy(O(xt),window):new ay});let t=e;return t})(),oy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function uV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var ay=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vd=class{};var gy=class extends Fd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},my=class t extends gy{static makeCurrent(){QD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lV();return n==null?null:dV(n)}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nT(document.cookie,e)}},Ja=null;function lV(){return Ja=Ja||document.querySelector("base"),Ja?Ja.getAttribute("href"):null}function dV(t){return new URL(t,document.baseURI).pathname}var hV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),$d=new U(""),lT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q($d),q(ye))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Xa=class{constructor(e){this._doc=e}},fy="ng-app-id",dT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hy(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${fy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(fy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(fy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(xt),q(Am),q(Rm,8),q(Vn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vy=/%COMP%/g,hT="%COMP%",fV=`_nghost-${hT}`,pV=`_ngcontent-${hT}`,gV=!0,mV=new U("",{providedIn:"root",factory:()=>gV});function yV(t){return pV.replace(vy,t)}function vV(t){return fV.replace(vy,t)}function fT(t,e){return e.map(n=>n.replace(vy,t))}var aT=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=hy(u),this.defaultRenderer=new ec(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===On.ShadowDom&&(i=le(L({},i),{encapsulation:On.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Hd?s.applyToHost(r):s instanceof tc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case On.Emulated:o=new Hd(l,f,i,this.appId,p,a,u,m);break;case On.ShadowDom:return new yy(l,f,r,i,a,u,this.nonce,m);default:o=new tc(l,f,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(lT),q(dT),q(Am),q(mV),q(xt),q(Vn),q(ye),q(Rm))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ec=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(py[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=py[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=py[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(n,r,i&ur.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ur.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var yy=class extends ec{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fT(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tc=class extends ec{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hd=class extends tc{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=yV(l),this.hostAttr=vV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_V=(()=>{let e=class e extends Xa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(q(xt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),wV=(()=>{let e=class e extends Xa{constructor(r){super(r),this.delegate=O(jD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(q(xt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),uT=["alt","control","meta","shift"],IV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CV=(()=>{let e=class e extends Xa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),uT.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=IV[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),uT.forEach(a=>{if(a!==s){let u=EV[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(xt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function pT(t,e){return UD(L({rootComponent:t},bV(e)))}function bV(t){return{appProviders:[...xV,...t?.providers??[]],platformProviders:AV}}function DV(){my.makeCurrent()}function TV(){return new cr}function SV(){return Tb(document),document}var AV=[{provide:Vn,useValue:dy},{provide:xm,useValue:DV,multi:!0},{provide:xt,useFactory:SV,deps:[]}];var xV=[{provide:ad,useValue:"root"},{provide:cr,useFactory:TV,deps:[]},{provide:$d,useClass:_V,multi:!0,deps:[xt,ye,Vn]},{provide:$d,useClass:CV,multi:!0,deps:[xt]},{provide:$d,useClass:wV,multi:!0},aT,dT,lT,{provide:uo,useExisting:aT},{provide:Vd,useClass:hV,deps:[]},[]];var gT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(xt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ee="primary",mc=Symbol("RouteTitle"),Cy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function So(t){return new Cy(t)}function MV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function NV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bn(t[n],e[n]))return!1;return!0}function Bn(t,e){let n=t?by(t):void 0,r=e?by(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TT(t[i],e[i]))return!1;return!0}function by(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ST(t){return t.length>0?t[t.length-1]:null}function oi(t){return Hp(t)?t:ni(t)?Ce(Promise.resolve(t)):$(t)}var PV={exact:xT,subset:RT},AT={exact:OV,subset:kV,ignored:()=>!0};function mT(t,e,n){return PV[n.paths](t.root,e.root,n.matrixParams)&&AT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OV(t,e){return Bn(t,e)}function xT(t,e,n){if(!os(t.segments,e.segments)||!Gd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!xT(t.children[r],e.children[r],n))return!1;return!0}function kV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TT(t[n],e[n]))}function RT(t,e,n){return MT(t,e,e.segments,n)}function MT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!os(i,n)||e.hasChildren()||!Gd(i,n,r))}else if(t.segments.length===n.length){if(!os(t.segments,n)||!Gd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!os(t.segments,i)||!Gd(t.segments,i,r)||!t.children[ee]?!1:MT(t.children[ee],e,s,r)}}function Gd(t,e,n){return e.every((r,i)=>AT[n](t[i].parameters,r.parameters))}var Cr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){return VV.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}},ss=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=So(this.parameters),this._parameterMap}toString(){return PT(this)}};function FV(t,e){return os(t,e)&&t.every((n,r)=>Bn(n.parameters,e[r].parameters))}function os(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function LV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var yc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Ao,providedIn:"root"});let t=e;return t})(),Ao=class{parse(e){let n=new Ty(e);return new Cr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nc(e.root,!0)}`,r=BV(e.queryParams),i=typeof e.fragment=="string"?`#${UV(e.fragment)}`:"";return`${n}${r}${i}`}},VV=new Ao;function Wd(t){return t.segments.map(e=>PT(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Wd(t);if(e){let n=t.children[ee]?nc(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${nc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=LV(t,(r,i)=>i===ee?[nc(t.children[ee],!1)]:[`${i}:${nc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Wd(t)}/${n[0]}`:`${Wd(t)}/(${n.join("//")})`}}function NT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(t){return NT(t).replace(/%3B/gi,";")}function UV(t){return encodeURI(t)}function Dy(t){return NT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kd(t){return decodeURIComponent(t)}function yT(t){return Kd(t.replace(/\+/g,"%20"))}function PT(t){return`${Dy(t.path)}${jV(t.parameters)}`}function jV(t){return Object.entries(t).map(([e,n])=>`;${Dy(e)}=${Dy(n)}`).join("")}function BV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qd(n)}=${qd(i)}`).join("&"):`${qd(n)}=${qd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var $V=/^[^\/()?;#]+/;function _y(t){let e=t.match($V);return e?e[0]:""}var HV=/^[^\/()?;=#]+/;function qV(t){let e=t.match(HV);return e?e[0]:""}var zV=/^[^=?&#]+/;function GV(t){let e=t.match(zV);return e?e[0]:""}var WV=/^[^&#]+/;function KV(t){let e=t.match(WV);return e?e[0]:""}var Ty=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new Ie(e,n)),r}parseSegment(){let e=_y(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ss(Kd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=_y(this.remaining);i&&(r=i,this.capture(r))}e[Kd(n)]=Kd(r)}parseQueryParam(e){let n=GV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=KV(this.remaining);o&&(r=o,this.capture(r))}let i=yT(n),s=yT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_y(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function OT(t){return t.segments.length>0?new Ie([],{[ee]:t}):t}function kT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=kT(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return QV(n)}function QV(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new Ie(t.segments.concat(e.segments),e.children)}return t}function as(t){return t instanceof Cr}function YV(t,e,n=null,r=null){let i=FT(t);return LT(i,e,n,r)}function FT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OT(r);return e??i}function LT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return wy(i,i,i,n,r);let s=ZV(e);if(s.toRoot())return wy(i,i,new Ie([],{}),n,r);let o=JV(s,i,t),a=o.processChildren?sc(o.segmentGroup,o.index,s.commands):UT(o.segmentGroup,o.index,s.commands);return wy(i,o.segmentGroup,a,n,r)}function Qd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cc(t){return typeof t=="object"&&t!=null&&t.outlets}function wy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=VT(t,e,n);let a=OT(kT(o));return new Cr(a,s,i)}function VT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=VT(s,e,n)}),new Ie(t.segments,r)}var Yd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new j(4003,!1);let i=r.find(cc);if(i&&i!==ST(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yd(n,e,r)}var bo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function JV(t,e,n){if(t.isAbsolute)return new bo(e,!0,0);if(!n)return new bo(e,!1,NaN);if(n.parent===null)return new bo(n,!0,0);let r=Qd(t.commands[0])?0:1,i=n.segments.length-1+r;return XV(n,i,t.numberOfDoubleDots)}function XV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new bo(r,!1,i-s)}function e2(t){return cc(t[0])?t[0].outlets:{[ee]:t}}function UT(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return sc(t,e,n);let r=t2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new Ie(t.segments.slice(r.pathIndex),t.children),sc(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Sy(t,e,n):r.match?sc(t,0,i):Sy(t,e,n)}function sc(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=e2(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=sc(t.children[ee],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=UT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function t2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(cc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_T(u,l,o))return s;r+=2}else{if(!_T(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(cc(s)){let u=n2(s.outlets);return new Ie(r,u)}if(i===0&&Qd(n[0])){let u=t.segments[e];r.push(new ss(u.path,vT(n[0]))),i++;continue}let o=cc(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qd(a)?(r.push(new ss(o,vT(a))),i+=2):(r.push(new ss(o,{})),i++)}return new Ie(r,{})}function n2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Sy(new Ie([],{}),0,r))}),e}function vT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _T(t,e,n){return t==n.path&&Bn(e,n.parameters)}var oc="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),on=class{constructor(e,n){this.id=e,this.url=n}},xo=class extends on{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends on{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Zd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zd||{}),Er=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},uc=class extends on{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jd=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends on{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ry=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},My=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Py=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Oy=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ky=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fy=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ly=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=it.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lc=class{},Ro=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function r2(t,e){return t.providers&&!t._injector&&(t._injector=vd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function In(t){return t.outlet||ee}function i2(t,e){let n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vy=class{get injector(){return vc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new _c(this.rootInjector),this.attachRef=null}},_c=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vy(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(q(qt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Uy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Uy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jy(e,this._root).map(n=>n.value)}};function Uy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Uy(t,n);if(r)return r}return null}function jy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jy(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Co(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var th=class extends eh{constructor(e,n){super(e),this.snapshot=n,Qy(this,e)}toString(){return this.snapshot.toString()}};function jT(t){let e=s2(t),n=new ut([new ss("",{})]),r=new ut({}),i=new ut({}),s=new ut({}),o=new ut(""),a=new $n(n,r,s,o,i,ee,t,e.root);return a.snapshot=e.root,new th(new Kt(a,[]),e)}function s2(t){let e={},n={},r={},i="",s=new Do([],e,r,i,n,ee,t,null,{});return new rh("",new Kt(s,[]))}var $n=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Q(l=>l[mc]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>So(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>So(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&$T(i)&&(r.resolve[mc]=i.title),r}var Do=class{get title(){return this.data?.[mc]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=So(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rh=class extends eh{constructor(e,n){super(n),this.url=e,Qy(this,n)}toString(){return BT(this._root)}};function Qy(t,e){e.value._routerState=t,e.children.forEach(n=>Qy(t,n))}function BT(t){let e=t.children.length>0?` { ${t.children.map(BT).join(", ")} } `:"";return`${t.value}${e}`}function Iy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bn(e.params,n.params)||t.paramsSubject.next(n.params),NV(e.url,n.url)||t.urlSubject.next(n.url),Bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function By(t,e){let n=Bn(t.params,e.params)&&FV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||By(t.parent,e.parent))}function $T(t){return typeof t.title=="string"||t.title===null}var Yy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=O(_c),this.location=O(ti),this.changeDetector=O(mr),this.inputBinder=O(ah,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new $y(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zt]});let t=e;return t})(),$y=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$n?this.route:e===_c?this.childContexts:this.parent.get(e,n)}},ah=new U(""),wT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Ma([i.queryParams,i.params,i.data]).pipe(Pt(([o,a,u],l)=>(u=L(L(L({},o),a),u),l===0?$(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=BD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function o2(t,e,n){let r=dc(t,e._root,n?n._root:void 0);return new th(r,e)}function dc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=a2(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>dc(t,a)),o}}let r=c2(e.value),i=e.children.map(s=>dc(t,s));return new Kt(r,i)}}function a2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return dc(t,r,i);return dc(t,r)})}function c2(t){return new $n(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var hc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},HT="ngNavigationCancelingError";function ih(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=as(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qT(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[HT]=!0,n.cancellationCode=e,n}function u2(t){return zT(t)&&as(t.url)}function zT(t){return!!t&&t[HT]}var l2=(t,e,n,r)=>Q(i=>(new Hy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Iy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Co(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Co(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ly(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ky(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Iy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Iy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},sh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},To=class{constructor(e,n){this.component=e,this.route=n}};function d2(t,e,n){let r=t._root,i=e?e._root:null;return rc(r,i,n,[r.value])}function h2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Po(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dC(t)?t:e.get(t):r}function rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Co(e);return t.children.forEach(o=>{f2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ac(a,n.getContext(o),i)),i}function f2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=p2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rc(t,e,a?a.children:null,r,i):rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new To(a.outlet.component,o))}else o&&ac(e,a,i),i.canActivateChecks.push(new sh(r)),s.component?rc(t,null,a?a.children:null,r,i):rc(t,null,n,r,i);return i}function p2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!Bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(t,e)||!Bn(t.queryParams,e.queryParams);case"paramsChange":default:return!By(t,e)}}function ac(t,e,n){let r=Co(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ac(o,e.children.getContext(s),n):ac(o,null,n):ac(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new To(e.outlet.component,i)):n.canDeactivateChecks.push(new To(null,i)):n.canDeactivateChecks.push(new To(null,i))}function wc(t){return typeof t=="function"}function g2(t){return typeof t=="boolean"}function m2(t){return t&&wc(t.canLoad)}function y2(t){return t&&wc(t.canActivate)}function v2(t){return t&&wc(t.canActivateChild)}function _2(t){return t&&wc(t.canDeactivate)}function w2(t){return t&&wc(t.canMatch)}function GT(t){return t instanceof or||t?.name==="EmptyError"}var zd=Symbol("INITIAL_VALUE");function Mo(){return Pt(t=>Ma(t.map(e=>e.pipe(Xt(1),Yp(zd)))).pipe(Q(e=>{for(let n of e)if(n!==!0){if(n===zd)return zd;if(n===!1||I2(n))return n}return!0}),Jt(e=>e!==zd),Xt(1)))}function I2(t){return as(t)||t instanceof hc}function E2(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(le(L({},n),{guardsResult:!0})):C2(o,r,i,t).pipe(je(a=>a&&g2(a)?b2(r,s,t,e):$(a)),Q(a=>le(L({},n),{guardsResult:a})))})}function C2(t,e,n,r){return Ce(t).pipe(je(i=>x2(i.component,i.route,n,e,r)),Mn(i=>i!==!0,!0))}function b2(t,e,n,r){return Ce(e).pipe(Li(i=>$r(T2(i.route.parent,r),D2(i.route,r),A2(t,i.path,n),S2(t,i.route,n))),Mn(i=>i!==!0,!0))}function D2(t,e){return t!==null&&e&&e(new Fy(t)),$(!0)}function T2(t,e){return t!==null&&e&&e(new Oy(t)),$(!0)}function S2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>wl(()=>{let o=vc(e)??n,a=Po(s,o),u=y2(a)?a.canActivate(e,t):mn(o,()=>a(e,t));return oi(u).pipe(Mn())}));return $(i).pipe(Mo())}function A2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>h2(o)).filter(o=>o!==null).map(o=>wl(()=>{let a=o.guards.map(u=>{let l=vc(o.node)??n,f=Po(u,l),p=v2(f)?f.canActivateChild(r,t):mn(l,()=>f(r,t));return oi(p).pipe(Mn())});return $(a).pipe(Mo())}));return $(s).pipe(Mo())}function x2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(a=>{let u=vc(e)??i,l=Po(a,u),f=_2(l)?l.canDeactivate(t,e,n,r):mn(u,()=>l(t,e,n,r));return oi(f).pipe(Mn())});return $(o).pipe(Mo())}function R2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let a=Po(o,t),u=m2(a)?a.canLoad(e,n):mn(t,()=>a(e,n));return oi(u)});return $(s).pipe(Mo(),WT(r))}function WT(t){return Op(We(e=>{if(typeof e!="boolean")throw ih(t,e)}),Q(e=>e===!0))}function M2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let a=Po(o,t),u=w2(a)?a.canMatch(e,n):mn(t,()=>a(e,n));return oi(u)});return $(s).pipe(Mo(),WT(r))}var fc=class{constructor(e){this.segmentGroup=e||null}},pc=class extends Error{constructor(e){super(),this.urlTree=e}};function Eo(t){return Qs(new fc(t))}function N2(t){return Qs(new j(4e3,!1))}function P2(t){return Qs(qT(!1,Qt.GuardRejected))}var qy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[ee])return N2(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:v,data:D,title:M}=i,F=mn(s,()=>a({params:v,data:D,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:M}));if(F instanceof Cr)throw new pc(F);n=F}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new pc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Cr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O2(t,e,n,r,i){let s=Zy(t,e,n);return s.matched?(r=r2(e,r),M2(r,e,n,i).pipe(Q(o=>o===!0?s:L({},zy)))):$(s)}function Zy(t,e,n){if(e.path==="**")return k2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},zy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MV)(n,t,e);if(!i)return L({},zy);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function k2(t){return{matched:!0,parameters:t.length>0?ST(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IT(t,e,n,r){return n.length>0&&V2(t,n,r)?{segmentGroup:new Ie(e,L2(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&U2(t,n,r)?{segmentGroup:new Ie(t.segments,F2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function F2(t,e,n,r){let i={};for(let s of n)if(ch(t,e,s)&&!r[In(s)]){let o=new Ie([],{});i[In(s)]=o}return L(L({},r),i)}function L2(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&In(r)!==ee){let i=new Ie([],{});n[In(r)]=i}return n}function V2(t,e,n){return n.some(r=>ch(t,e,r)&&In(r)!==ee)}function U2(t,e,n){return n.some(r=>ch(t,e,r))}function ch(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function j2(t,e,n,r){return In(t)!==r&&(r===ee||!ch(e,n,t))?!1:Zy(e,t,n).matched}function B2(t,e,n){return e.length===0&&!t.children[n]}var Gy=class{};function $2(t,e,n,r,i,s,o="emptyOnly"){return new Wy(t,e,n,r,i,o,s).recognize()}var H2=31,Wy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new qy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=IT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(({children:n,rootSnapshot:r})=>{let i=new Kt(r,n),s=new rh("",i),o=YV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Do([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(Q(r=>({children:r,rootSnapshot:n})),Hr(r=>{if(r instanceof pc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Q(o=>o instanceof Kt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Li(o=>{let a=r.children[o],u=i2(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Oa((o,a)=>(o.push(...a),o)),qr(null),Qp(),je(o=>{if(o===null)return Eo(r);let a=KT(o);return q2(a),$(a)}))}processSegment(e,n,r,i,s,o,a){return Ce(n).pipe(Li(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Hr(l=>{if(l instanceof fc)return $(null);throw l}))),Mn(u=>!!u),Hr(u=>{if(GT(u))return B2(r,i,s)?$(new Gy):Eo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return j2(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Eo(i):Eo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=Zy(n,i,s);if(!u)return Eo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>H2&&(this.allowRedirects=!1));let v=new Do(s,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,ET(i),In(i),i.component??i._loadedComponent??null,i,CT(i)),D=nh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(F=>this.processSegment(e,r,n,F.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=O2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,D=new Do(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,ET(r),In(r),r.component??r._loadedComponent??null,r,CT(r)),M=nh(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let{segmentGroup:F,slicedSegments:H}=IT(n,m,v,l);if(H.length===0&&F.hasChildren())return this.processChildren(f,l,F,D).pipe(Q(te=>new Kt(D,te)));if(l.length===0&&H.length===0)return $(new Kt(D,[]));let we=In(r)===s;return this.processSegment(f,l,F,H,we?ee:s,!0,D).pipe(Q(te=>new Kt(D,te instanceof Kt?[te]:[])))}))):Eo(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):R2(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(We(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):P2(n))):$({routes:[],injector:e})}};function q2(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function z2(t){let e=t.value.routeConfig;return e&&e.path===""}function KT(t){let e=[],n=new Set;for(let r of t){if(!z2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KT(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function ET(t){return t.data||{}}function CT(t){return t.resolve||{}}function G2(t,e,n,r,i,s){return je(o=>$2(t,e,n,r,o.extractedUrl,i,s).pipe(Q(({state:a,tree:u})=>le(L({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function W2(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of QT(u))o.add(l);let a=0;return Ce(o).pipe(Li(u=>s.has(u)?K2(u,r,t,e):(u.data=nh(u,u.parent,t).resolve,$(void 0))),We(()=>a++),Ys(1),je(u=>a===o.size?$(n):Dt))})}function QT(t){let e=t.children.map(n=>QT(n)).flat();return[t,...e]}function K2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!$T(i)&&(s[mc]=i.title),Q2(s,t,e,r).pipe(Q(o=>(t._resolvedData=o,t.data=nh(t,t.parent,n).resolve,null)))}function Q2(t,e,n,r){let i=by(t);if(i.length===0)return $({});let s={};return Ce(i).pipe(je(o=>Y2(t[o],e,n,r).pipe(Mn(),We(a=>{if(a instanceof hc)throw ih(new Ao,a);s[o]=a}))),Ys(1),Na(s),Hr(o=>GT(o)?Dt:Qs(o)))}function Y2(t,e,n,r){let i=vc(e)??r,s=Po(t,i),o=s.resolve?s.resolve(e,n):mn(i,()=>s(e,n));return oi(o)}function Ey(t){return Pt(e=>{let n=t(e);return n?Ce(n).pipe(Q(()=>e)):$(e)})}var YT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(r){return r.data[mc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(Z2),providedIn:"root"});let t=e;return t})(),Z2=(()=>{let e=class e extends YT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(gT))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ic=new U("",{providedIn:"root",factory:()=>({})}),J2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tt({type:e,selectors:[["ng-component"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(i,s){i&1&&Y(0,"router-outlet")},dependencies:[Yy],encapsulation:2});let t=e;return t})();function Jy(t){let e=t.children&&t.children.map(Jy),n=e?le(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=J2),n}var gc=new U(""),Xy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Td)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=oi(r.loadComponent()).pipe(Q(ZT),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Pa(()=>{this.componentLoaders.delete(r)})),s=new qs(i,()=>new et).pipe(Hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=X2(i,this.compiler,r,this.onLoadEndListener).pipe(Pa(()=>{this.childrenLoaders.delete(i)})),a=new qs(o,()=>new et).pipe(Hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X2(t,e,n,r){return oi(t.loadChildren()).pipe(Q(ZT),je(i=>i instanceof $a||Array.isArray(i)?$(i):Ce(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(gc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Jy),injector:s}}))}function eU(t){return t&&typeof t=="object"&&"default"in t}function ZT(t){return eU(t)?t.default:t}var ev=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(tU),providedIn:"root"});let t=e;return t})(),tU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JT=new U(""),XT=new U("");function nU(t,e,n){let r=t.get(XT),i=t.get(xt);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),rU(t))),{onViewTransitionCreated:u}=r;return u&&mn(t,()=>u({transition:a,from:e,to:n})),o})}function rU(t){return new Promise(e=>{$m({read:()=>setTimeout(e)},{injector:t})})}var iU=new U(""),tv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=O(Xy),this.environmentInjector=O(qt),this.urlSerializer=O(yc),this.rootContexts=O(_c),this.location=O(wo),this.inputBindingEnabled=O(ah,{optional:!0})!==null,this.titleStrategy=O(YT),this.options=O(Ic,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(ev),this.createViewTransition=O(JT,{optional:!0}),this.navigationErrorHandler=O(iU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ny(s)),i=s=>this.events.next(new Py(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(L(L({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:oc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(o=>o.id!==0),Q(o=>le(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pt(o=>{let a=!1,u=!1;return $(o).pipe(Pt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?le(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new si(l.id,this.urlSerializer.serialize(l.rawUrl),m,Zd.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(Pt(m=>{let v=this.transitions?.getValue();return this.events.next(new xo(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Dt:Promise.resolve(m)}),G2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(L({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Jd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:D,restoredState:M,extras:F}=l,H=new xo(m,this.urlSerializer.serialize(v),D,M);this.events.next(H);let we=jT(this.rootComponentType).snapshot;return this.currentTransition=o=le(L({},l),{targetSnapshot:we,urlAfterRedirects:v,extras:le(L({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,$(o)}else{let m="";return this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Zd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),We(l=>{let f=new Ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Q(l=>(this.currentTransition=o=le(L({},l),{guards:d2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),E2(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ih(this.urlSerializer,l.guardsResult);let f=new xy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Jt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qt.GuardRejected),!1)),Ey(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(We(f=>{let p=new Ry(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Pt(f=>{let p=!1;return $(f).pipe(W2(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Qt.NoDataFromResolver)}}))}),We(f=>{let p=new My(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Ey(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(We(v=>{p.component=v}),Q(()=>{})));for(let v of p.children)m.push(...f(v));return m};return Ma(f(l.targetSnapshot.root)).pipe(qr(null),Xt(1))}),Ey(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ce(p).pipe(Q(()=>o)):$(o)}),Q(l=>{let f=o2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=le(L({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),We(()=>{this.events.next(new lc)}),l2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xt(1),We({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Zp(this.transitionAbortSubject.pipe(We(l=>{throw l}))),Pa(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hr(l=>{if(u=!0,zT(l))this.events.next(new Er(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),u2(l)?this.events.next(new Ro(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new uc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof hc){let{message:m,cancellationCode:v}=ih(this.urlSerializer,p);this.events.next(new Er(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Ro(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Dt}))}))}cancelNavigationTransition(r,i,s){let o=new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sU(t){return t!==oc}var oU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(aU),providedIn:"root"});let t=e;return t})(),Ky=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},aU=(()=>{let e=class e extends Ky{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=go(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>O(cU),providedIn:"root"});let t=e;return t})(),cU=(()=>{let e=class e extends eS{constructor(){super(...arguments),this.location=O(wo),this.urlSerializer=O(yc),this.options=O(Ic,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(ev),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof xo)this.stateMemento=this.createStateMemento();else if(r instanceof si)this.rawUrlTree=i.initialUrl;else if(r instanceof Jd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof lc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Er&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof uc?this.restoreHistory(i,!0):r instanceof En&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Cr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=L(L({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=go(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ic=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ic||{});function tS(t,e){t.events.pipe(Jt(n=>n instanceof En||n instanceof Er||n instanceof uc||n instanceof si),Q(n=>n instanceof En||n instanceof si?ic.COMPLETE:(n instanceof Er?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?ic.REDIRECTING:ic.FAILED),Jt(n=>n!==ic.REDIRECTING),Xt(1)).subscribe(()=>{e()})}function uU(t){throw t}var lU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Cd),this.stateManager=O(eS),this.options=O(Ic,{optional:!0})||{},this.pendingTasks=O(mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(tv),this.urlSerializer=O(yc),this.location=O(wo),this.urlHandlingStrategy=O(ev),this._events=new et,this.errorHandler=this.options.errorHandler||uU,this.navigated=!1,this.routeReuseStrategy=O(oU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(ah,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Er&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof En)this.navigated=!0;else if(i instanceof Ro){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=L({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sU(s.source)},a);this.scheduleNavigation(u,oc,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}fU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=L({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Jy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=FT(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return LT(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=as(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,oc,null,i)}navigate(r,i={skipLocationChange:!1}){return hU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=L({},lU):i===!1?s=L({},dU):s=i,as(r))return mT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return mT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return tS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function fU(t){return!(t instanceof lc)&&!(t instanceof Ro)}var No=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof En&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(as(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:xb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:as(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(V(rt),V($n),bm("tabindex"),V(gr),V(Gt),V(Ir))},e.\u0275dir=He({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Fe("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ya("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ri],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ri],replaceUrl:[2,"replaceUrl","replaceUrl",ri],routerLink:"routerLink"},standalone:!0,features:[zm,zt]});let t=e;return t})(),uh=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new De,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof En&&this.update()})}ngAfterContentInit(){$(this.links.changes,$(null)).pipe(Rn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ce(r).pipe(Rn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=pU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(V(rt),V(Gt),V(gr),V(mr),V(No,8))},e.\u0275dir=He({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&CD(o,No,5),i&2){let a;wd(a=Id())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[zt]});let t=e;return t})();function pU(t){return!!t.paths}var oh=class{};var gU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(r=>r instanceof En),Li(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=vd(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Ce(s).pipe(Rn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=$(null);let o=s.pipe(je(a=>a===null?$(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ce([o,a]).pipe(Rn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(q(rt),q(Td),q(qt),q(oh),q(Xy))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nS=new U(""),mU=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof En?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof si&&r.code===Zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){$b()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function rS(t,...e){return gn([{provide:gc,multi:!0,useValue:t},[],{provide:$n,useFactory:iS,deps:[rt]},{provide:Dd,multi:!0,useFactory:sS},e.map(n=>n.\u0275providers)])}function iS(t){return t.routerState.root}function Ec(t,e){return{\u0275kind:t,\u0275providers:e}}function sS(){let t=O(Qe);return e=>{let n=t.get(rs);if(e!==n.components[0])return;let r=t.get(rt),i=t.get(oS);t.get(nv)===1&&r.initialNavigation(),t.get(aS,null,ie.Optional)?.setUpPreloading(),t.get(nS,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oS=new U("",{factory:()=>new et}),nv=new U("",{providedIn:"root",factory:()=>1});function yU(){return Ec(2,[{provide:nv,useValue:0},{provide:bd,multi:!0,deps:[Qe],useFactory:e=>{let n=e.get(YD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(rt),s=e.get(oS);tS(i,()=>{r(!0)}),e.get(tv).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}])}function vU(){return Ec(3,[{provide:bd,multi:!0,useFactory:()=>{let e=O(rt);return()=>{e.setUpLocationChangeListener()}}},{provide:nv,useValue:2}])}var aS=new U("");function _U(t){return Ec(0,[{provide:aS,useExisting:gU},{provide:oh,useExisting:t}])}function wU(){return Ec(8,[wT,{provide:ah,useExisting:wT}])}function IU(t){let e=[{provide:JT,useValue:nU},{provide:XT,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ec(9,e)}var bT=new U("ROUTER_FORROOT_GUARD"),EU=[wo,{provide:yc,useClass:Ao},rt,_c,{provide:$n,useFactory:iS,deps:[rt]},Xy,[]],ai=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[EU,[],{provide:gc,multi:!0,useValue:r},{provide:bT,useFactory:TU,deps:[[rt,new Be,new cm]]},{provide:Ic,useValue:i||{}},i?.useHash?bU():DU(),CU(),i?.preloadingStrategy?_U(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?SU(i):[],i?.bindToComponentInputs?wU().\u0275providers:[],i?.enableViewTransitions?IU().\u0275providers:[],AU()]}}static forChild(r){return{ngModule:e,providers:[{provide:gc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(bT,8))},e.\u0275mod=hr({type:e}),e.\u0275inj=dr({});let t=e;return t})();function CU(){return{provide:nS,useFactory:()=>{let t=O(oT),e=O(ye),n=O(Ic),r=O(tv),i=O(yc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mU(i,r,t,e,n)}}}function bU(){return{provide:Ir,useClass:JD}}function DU(){return{provide:Ir,useClass:ly}}function TU(t){return"guarded"}function SU(t){return[t.initialNavigation==="disabled"?vU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yU().\u0275providers:[]]}var DT=new U("");function AU(){return[{provide:DT,useFactory:sS},{provide:Dd,multi:!0,useExisting:DT}]}var mS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(V(gr),V(Gt))},e.\u0275dir=He({type:e});let t=e;return t})(),xU=(()=>{let e=class e extends mS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=go(e)))(s||e)}})(),e.\u0275dir=He({type:e,features:[Un]});let t=e;return t})(),uv=new U("");var RU={provide:uv,useExisting:Xr(()=>li),multi:!0};function MU(){let t=wr()?wr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var NU=new U(""),li=(()=>{let e=class e extends mS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!MU())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(V(gr),V(Gt),V(NU,8))},e.\u0275dir=He({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Fe("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[_o([RU]),Un]});let t=e;return t})();function ci(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function yS(t){return t!=null&&typeof t.length=="number"}var _h=new U(""),lv=new U(""),PU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,an=class{static min(e){return OU(e)}static max(e){return kU(e)}static required(e){return vS(e)}static requiredTrue(e){return FU(e)}static email(e){return LU(e)}static minLength(e){return VU(e)}static maxLength(e){return UU(e)}static pattern(e){return jU(e)}static nullValidator(e){return dh(e)}static compose(e){return bS(e)}static composeAsync(e){return TS(e)}};function OU(t){return e=>{if(ci(e.value)||ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function kU(t){return e=>{if(ci(e.value)||ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function vS(t){return ci(t.value)?{required:!0}:null}function FU(t){return t.value===!0?null:{required:!0}}function LU(t){return ci(t.value)||PU.test(t.value)?null:{email:!0}}function VU(t){return e=>ci(e.value)||!yS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function UU(t){return e=>yS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function jU(t){if(!t)return dh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ci(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function dh(t){return null}function _S(t){return t!=null}function wS(t){return ni(t)?Ce(t):t}function IS(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function ES(t,e){return e.map(n=>n(t))}function BU(t){return!t.validate}function CS(t){return t.map(e=>BU(e)?e:n=>e.validate(n))}function bS(t){if(!t)return null;let e=t.filter(_S);return e.length==0?null:function(n){return IS(ES(n,e))}}function DS(t){return t!=null?bS(CS(t)):null}function TS(t){if(!t)return null;let e=t.filter(_S);return e.length==0?null:function(n){let r=ES(n,e).map(wS);return qp(r).pipe(Q(IS))}}function SS(t){return t!=null?TS(CS(t)):null}function cS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AS(t){return t._rawValidators}function xS(t){return t._rawAsyncValidators}function rv(t){return t?Array.isArray(t)?t:[t]:[]}function hh(t,e){return Array.isArray(t)?t.includes(e):t===e}function uS(t,e){let n=rv(e);return rv(t).forEach(i=>{hh(n,i)||n.push(i)}),n}function lS(t,e){return rv(e).filter(n=>!hh(t,n))}var fh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},cs=class extends fh{get formDirective(){return null}get path(){return null}},us=class extends fh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ph=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$U={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mQ=le(L({},$U),{"[class.ng-submitted]":"isSubmitted"}),Vo=(()=>{let e=class e extends ph{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(us,2))},e.\u0275dir=He({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&_d("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Un]});let t=e;return t})(),wh=(()=>{let e=class e extends ph{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(cs,10))},e.\u0275dir=He({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&_d("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Un]});let t=e;return t})();var Cc="VALID",lh="INVALID",ko="PENDING",bc="DISABLED",ui=class{},gh=class extends ui{constructor(e,n){super(),this.value=e,this.source=n}},Dc=class extends ui{constructor(e,n){super(),this.pristine=e,this.source=n}},Tc=class extends ui{constructor(e,n){super(),this.touched=e,this.source=n}},Fo=class extends ui{constructor(e,n){super(),this.status=e,this.source=n}},iv=class extends ui{constructor(e){super(),this.source=e}},sv=class extends ui{constructor(e){super(),this.source=e}};function dv(t){return(Ih(t)?t.validators:t)||null}function HU(t){return Array.isArray(t)?DS(t):t||null}function hv(t,e){return(Ih(e)?e.asyncValidators:t)||null}function qU(t){return Array.isArray(t)?SS(t):t||null}function Ih(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function MS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var Lo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Za(()=>this.statusReactive()),this.statusReactive=Qa(void 0),this._pristine=Za(()=>this.pristineReactive()),this.pristineReactive=Qa(!0),this._touched=Za(()=>this.touchedReactive()),this.touchedReactive=Qa(!1),this._events=new et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _n(this.statusReactive)}set status(e){_n(()=>this.statusReactive.set(e))}get valid(){return this.status===Cc}get invalid(){return this.status===lh}get pending(){return this.status==ko}get disabled(){return this.status===bc}get enabled(){return this.status!==bc}get pristine(){return _n(this.pristineReactive)}set pristine(e){_n(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return _n(this.touchedReactive)}set touched(e){_n(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lS(e,this._rawAsyncValidators))}hasValidator(e){return hh(this._rawValidators,e)}hasAsyncValidator(e){return hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Dc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Dc(!0,r))}markAsPending(e={}){this.status=ko;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(L({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bc,this.errors=null,this._forEachChild(i=>{i.disable(le(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gh(this.value,r)),this._events.next(new Fo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this._forEachChild(r=>{r.enable(le(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cc||this.status===ko)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gh(this.value,n)),this._events.next(new Fo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(L({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bc:Cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=wS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?bc:this.errors?lh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(lh)?lh:Cc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Dc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Tc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ih(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=qU(this._rawAsyncValidators)}},mh=class extends Lo{constructor(e,n,r){super(dv(n),hv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){MS(this,!0,e),Object.keys(e).forEach(r=>{RS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ov=class extends mh{};var Eh=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Ch}),Ch="always";function NS(t,e){return[...e.path,t]}function av(t,e,n=Ch){fv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),GU(t,e),KU(t,e),WU(t,e),zU(t,e)}function dS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fv(t,e){let n=AS(t);e.validator!==null?t.setValidators(cS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xS(t);e.asyncValidator!==null?t.setAsyncValidators(cS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yh(e._rawValidators,i),yh(e._rawAsyncValidators,i)}function vh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=AS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=xS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return yh(e._rawValidators,r),yh(e._rawAsyncValidators,r),n}function GU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PS(t,e)})}function WU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QU(t,e){t==null,fv(t,e)}function YU(t,e){return vh(t,e)}function OS(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ZU(t){return Object.getPrototypeOf(t.constructor)===xU}function JU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kS(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===li?n=s:ZU(s)?r=s:i=s}),i||r||n||null}function XU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Sc=class extends Lo{constructor(e=null,n,r){super(dv(n),hv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ih(n)&&(n.nonNullable||n.initialValueIsDefault)&&(fS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ej=t=>t instanceof Sc;var tj={provide:us,useExisting:Xr(()=>pv)},pS=Promise.resolve(),pv=(()=>{let e=class e extends us{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Sc,this._registered=!1,this.name="",this.update=new De,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=kS(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),OS(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){av(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){pS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ri(i);pS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?NS(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(V(cs,9),V(_h,10),V(lv,10),V(uv,10),V(mr,8),V(Eh,8))},e.\u0275dir=He({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_o([tj]),Un,zt]});let t=e;return t})(),bh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var FS=new U("");var nj={provide:cs,useExisting:Xr(()=>Ac)},Ac=(()=>{let e=class e extends cs{get submitted(){return _n(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Za(()=>this._submittedReactive()),this._submittedReactive=Qa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return av(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){dS(r.control||null,r,!1),XU(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),JU(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new iv(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new sv(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(dS(i||null,r),ej(s)&&(av(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);QU(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&YU(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fv(this.form,this),this._oldForm&&vh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(V(_h,10),V(lv,10),V(Eh,8))},e.\u0275dir=He({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Fe("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_o([nj]),Un,zt]});let t=e;return t})();var rj={provide:us,useExisting:Xr(()=>xc)},xc=(()=>{let e=class e extends us{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=kS(this,o)}ngOnChanges(r){this._added||this._setUpControl(),OS(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return NS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(V(cs,13),V(_h,10),V(lv,10),V(uv,10),V(FS,8))},e.\u0275dir=He({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_o([rj]),Un,zt]});let t=e;return t})();var ij=(()=>{let e=class e{constructor(){this._validator=dh}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dh,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,features:[zt]});let t=e;return t})();var sj={provide:_h,useExisting:Xr(()=>Rc),multi:!0};var Rc=(()=>{let e=class e extends ij{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ri,this.createValidator=r=>vS}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=go(e)))(s||e)}})(),e.\u0275dir=He({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Ya("required",s._enabled?"":null)},inputs:{required:"required"},features:[_o([sj]),Un]});let t=e;return t})();var LS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=dr({});let t=e;return t})(),cv=class extends Lo{constructor(e,n,r){super(dv(n),hv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){MS(this,!1,e),e.forEach((r,i)=>{RS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function gS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Dh=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return gS(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new mh(s,o)}record(r,i=null){let s=this._reduceControls(r);return new ov(s,i)}control(r,i,s){let o={};return this.useNonNullable?(gS(i)?o=i:(o.validators=i,o.asyncValidators=s),new Sc(r,le(L({},o),{nonNullable:!0}))):new Sc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new cv(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Sc)return r;if(r instanceof Lo)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Th=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Eh,useValue:r.callSetDisabledState??Ch}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=dr({imports:[LS]});let t=e;return t})(),Sh=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:FS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Eh,useValue:r.callSetDisabledState??Ch}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=dr({imports:[LS]});let t=e;return t})();var yv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var N=function(t,e){if(!t)throw ls(e)},ls=function(t){return new Error("Firebase Database ("+yv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var US=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(US(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new vv;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wv=function(t){let e=US(t);return xh.encodeByteArray(e,!0)},Mc=function(t){return wv(t).replace(/\./g,"")},Nc=function(t){try{return xh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jS(t){return BS(void 0,t)}function BS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!aj(n)||(t[n]=BS(t[n],e[n]));return t}function aj(t){return t!=="__proto__"}function cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uj=()=>cj().__FIREBASE_DEFAULTS__,lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nc(t[1]);return e&&JSON.parse(e)},Iv=()=>{try{return uj()||lj()||dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ev=t=>{var e,n;return(n=(e=Iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rh=t=>{let e=Ev(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cv=()=>{var t;return(t=Iv())===null||t===void 0?void 0:t.config},bv=t=>{var e;return(e=Iv())===null||e===void 0?void 0:e[`_${t}`]};var di=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Mh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mc(JSON.stringify(n)),Mc(JSON.stringify(o)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function $S(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){let t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hn(){return yv.NODE_CLIENT===!0||yv.NODE_ADMIN===!0}function Dv(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hj="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}},br=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}};function fj(t,e){return t.replace(pj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pj=/\{\$([^}]+)}/g;function Uo(t){return JSON.parse(t)}function ze(t){return JSON.stringify(t)}var zS=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Uo(Nc(s[0])||""),n=Uo(Nc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var GS=function(t){let e=zS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WS=function(t){let e=zS(t).claims;return typeof e=="object"&&e.admin===!0};function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ds(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Oc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kc(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function hs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(VS(s)&&VS(o)){if(!hs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VS(t){return t!==null&&typeof t=="object"}function fs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Ah=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],l,f;for(let p=0;p<80;p++){p<40?p<20?(l=a^s&(o^a),f=1518500249):(l=s^o^a,f=1859775393):p<60?(l=s&o|a&(s|o),f=2400959708):(l=s^o^a,f=3395469782);let m=(i<<5|i>>>27)+l+u+f+r[p]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function KS(t,e){let n=new _v(t,e);return n.subscribe.bind(n)}var _v=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mv(){}function Ph(t,e){return`${t} failed: ${e} argument `}var QS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fc=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var _Q=4*60*60*1e3;function st(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ps="[DEFAULT]";var Oh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new di;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yj(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mj(t){return t===ps?void 0:t}function yj(t){return t.instantiationMode==="EAGER"}var Lc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Oh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vj=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),_j={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},wj=pe.INFO,Ij={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},Ej=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ij[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qn=class{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Ej,this._userLogHandler=null,vj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_j[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var Cj=(t,e)=>e.some(n=>t instanceof n),YS,ZS;function bj(){return YS||(YS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dj(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JS=new WeakMap,Sv=new WeakMap,XS=new WeakMap,Tv=new WeakMap,xv=new WeakMap;function Tj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function Sj(t){if(Sv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sv.set(t,e)}var Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eA(t){Av=t(Av)}function Aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(kh(this),e,...n);return XS.set(r,e.sort?e.sort():[e]),zn(r)}:Dj().includes(t)?function(...e){return t.apply(kh(this),e),zn(JS.get(this))}:function(...e){return zn(t.apply(kh(this),e))}}function xj(t){return typeof t=="function"?Aj(t):(t instanceof IDBTransaction&&Sj(t),Cj(t,bj())?new Proxy(t,Av):t)}function zn(t){if(t instanceof IDBRequest)return Tj(t);if(Tv.has(t))return Tv.get(t);let e=xj(t);return e!==t&&(Tv.set(t,e),xv.set(e,t)),e}var kh=t=>xv.get(t);function nA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=zn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zn(o.result),u.oldVersion,u.newVersion,zn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Rj=["get","getKey","getAll","getAllKeys","count"],Mj=["put","add","delete","clear"],Rv=new Map;function tA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Mj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rj.includes(n)))return;let s=function(o,...a){return T(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Rv.set(e,s),s}eA(t=>le(L({},t),{get:(e,n,r)=>tA(e,n)||t.get(e,n,r),has:(e,n)=>!!tA(e,n)||t.has(e,n)}));var Nv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Nj(t){let e=t.getComponent();return e?.type==="VERSION"}var Pv="@firebase/app",rA="0.10.9";var Dr=new qn("@firebase/app"),Pj="@firebase/app-compat",Oj="@firebase/analytics-compat",kj="@firebase/analytics",Fj="@firebase/app-check-compat",Lj="@firebase/app-check",Vj="@firebase/auth",Uj="@firebase/auth-compat",jj="@firebase/database",Bj="@firebase/database-compat",$j="@firebase/functions",Hj="@firebase/functions-compat",qj="@firebase/installations",zj="@firebase/installations-compat",Gj="@firebase/messaging",Wj="@firebase/messaging-compat",Kj="@firebase/performance",Qj="@firebase/performance-compat",Yj="@firebase/remote-config",Zj="@firebase/remote-config-compat",Jj="@firebase/storage",Xj="@firebase/storage-compat",eB="@firebase/firestore",tB="@firebase/vertexai-preview",nB="@firebase/firestore-compat",rB="firebase",iB="10.13.0";var Ov="[DEFAULT]",sB={[Pv]:"fire-core",[Pj]:"fire-core-compat",[kj]:"fire-analytics",[Oj]:"fire-analytics-compat",[Lj]:"fire-app-check",[Fj]:"fire-app-check-compat",[Vj]:"fire-auth",[Uj]:"fire-auth-compat",[jj]:"fire-rtdb",[Bj]:"fire-rtdb-compat",[$j]:"fire-fn",[Hj]:"fire-fn-compat",[qj]:"fire-iid",[zj]:"fire-iid-compat",[Gj]:"fire-fcm",[Wj]:"fire-fcm-compat",[Kj]:"fire-perf",[Qj]:"fire-perf-compat",[Yj]:"fire-rc",[Zj]:"fire-rc-compat",[Jj]:"fire-gcs",[Xj]:"fire-gcs-compat",[eB]:"fire-fst",[nB]:"fire-fst-compat",[tB]:"fire-vertex","fire-js":"fire-js",[rB]:"fire-js-all"};var Vc=new Map,oB=new Map,kv=new Map;function iA(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gn(t){let e=t.name;if(kv.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(let n of Vc.values())iA(n,t);for(let n of oB.values())iA(n,t);return!0}function gs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t.settings!==void 0}var aB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new br("app","Firebase",aB);var Fv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var Wn=iB;function Uv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ov,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=Cv()),!n)throw hi.create("no-options");let s=Vc.get(i);if(s){if(hs(n,s.options)&&hs(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}let o=new Lc(i);for(let u of kv.values())o.addComponent(u);let a=new Fv(n,r,o);return Vc.set(i,a),a}function fi(t=Ov){let e=Vc.get(t);if(!e&&t===Ov&&Cv())return Uv();if(!e)throw hi.create("no-app",{appName:t});return e}function Fh(){return Array.from(Vc.values())}function Pe(t,e,n){var r;let i=(r=sB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}Gn(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cB="firebase-heartbeat-database",uB=1,Uc="firebase-heartbeat-store",Mv=null;function cA(){return Mv||(Mv=nA(cB,uB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),Mv}function lB(t){return T(this,null,function*(){try{let n=(yield cA()).transaction(Uc),r=yield n.objectStore(Uc).get(uA(t));return yield n.done,r}catch(e){if(e instanceof Yt)Dr.warn(e.message);else{let n=hi.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}})}function sA(t,e){return T(this,null,function*(){try{let r=(yield cA()).transaction(Uc,"readwrite");yield r.objectStore(Uc).put(e,uA(t)),yield r.done}catch(n){if(n instanceof Yt)Dr.warn(n.message);else{let r=hi.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}})}function uA(t){return`${t.name}!${t.options.appId}`}var dB=1024,hB=30*24*60*60*1e3,Lv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n,r;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oA();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=hB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Dr.warn(i)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=oA(),{heartbeatsToSend:r,unsentEntries:i}=fB(this._heartbeatsCache.heartbeats),s=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}})}};function oA(){return new Date().toISOString().substring(0,10)}function fB(t,e=dB){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),aA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Dv()?qS().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield lB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function aA(t){return Mc(JSON.stringify({version:2,heartbeats:t})).length}function pB(t){Gn(new Lt("platform-logger",e=>new Nv(e),"PRIVATE")),Gn(new Lt("heartbeat",e=>new Lv(e),"PRIVATE")),Pe(Pv,rA,t),Pe(Pv,rA,"esm2017"),Pe("fire-js","")}pB("");function TA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SA=TA,AA=new br("auth","Firebase",TA());var $h=new qn("@firebase/auth");function gB(t,...e){$h.logLevel<=pe.WARN&&$h.warn(`Auth (${Wn}): ${t}`,...e)}function Vh(t,...e){$h.logLevel<=pe.ERROR&&$h.error(`Auth (${Wn}): ${t}`,...e)}function Qn(t,...e){throw c_(t,...e)}function ms(t,...e){return c_(t,...e)}function xA(t,e,n){let r=Object.assign(Object.assign({},SA()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function Ar(t){return xA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AA.create(t,...e)}function z(t,e,...n){if(!t)throw c_(e,...n)}function Tr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function gi(t,e){t||Tr(e)}function Hv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mB(){return lA()==="http:"||lA()==="https:"}function lA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mB()||$S()||"connection"in navigator)?navigator.onLine:!0}function vB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ys=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=Pc()||Nh()}get(){return yB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function u_(t,e){gi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wB=new ys(3e4,6e4);function mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function yi(s,o,a,u){return T(this,arguments,function*(t,e,n,r,i={}){return RA(t,i,()=>T(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=fs(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Hh.fetch()(MA(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function RA(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_B),e);try{let i=new qv(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Lh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Lh(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xA(t,f,l);Qn(t,f)}}catch(i){if(i instanceof Yt)throw i;Qn(t,"network-request-failed",{message:String(i)})}})}function Wc(s,o,a,u){return T(this,arguments,function*(t,e,n,r,i={}){let l=yield yi(t,e,n,r,i);return"mfaPendingCredential"in l&&Qn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function MA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?u_(t.config,i):`${t.config.apiScheme}://${i}`}function IB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),wB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ms(t,e,r);return i.customData._tokenResponse=n,i}function dA(t){return t!==void 0&&t.enterprise!==void 0}var zv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function EB(t,e){return T(this,null,function*(){return yi(t,"GET","/v2/recaptchaConfig",mi(t,e))})}function CB(t,e){return T(this,null,function*(){return yi(t,"POST","/v1/accounts:delete",e)})}function NA(t,e){return T(this,null,function*(){return yi(t,"POST","/v1/accounts:lookup",e)})}function jc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l_(t,e=!1){return T(this,null,function*(){let n=st(t),r=yield n.getIdToken(e),i=d_(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:jc(jv(i.auth_time)),issuedAtTime:jc(jv(i.iat)),expirationTime:jc(jv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function jv(t){return Number(t)*1e3}function d_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nc(n);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hA(t){let e=d_(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $c(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&bB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function bB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qh(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield $c(t,NA(n,{idToken:r}));z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?PA(s.providerUserInfo):[],a=DB(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hc(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function h_(t){return T(this,null,function*(){let e=st(t);yield qh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PA(t){return t.map(e=>{var{providerId:n}=e,r=$p(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TB(t,e){return T(this,null,function*(){let n=yield RA(t,{},()=>T(this,null,function*(){let r=fs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function SB(t,e){return T(this,null,function*(){return yi(t,"POST","/v2/accounts:revokeToken",mi(t,e))})}var Bc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=hA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield TB(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Tr("not implemented")}};function pi(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $o=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield $c(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return l_(this,e)}reload(){return h_(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(bn(this.auth.app))return Promise.reject(Ar(this.auth));let e=yield this.getIdToken();return yield $c(this,CB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,F=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,H=(l=n.createdAt)!==null&&l!==void 0?l:void 0,we=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:te,emailVerified:Oe,isAnonymous:Mt,providerData:Ae,stsTokenManager:E}=n;z(te&&E,e,"internal-error");let y=Bc.fromJSON(this.name,E);z(typeof te=="string",e,"internal-error"),pi(p,e.name),pi(m,e.name),z(typeof Oe=="boolean",e,"internal-error"),z(typeof Mt=="boolean",e,"internal-error"),pi(v,e.name),pi(D,e.name),pi(M,e.name),pi(F,e.name),pi(H,e.name),pi(we,e.name);let w=new t({uid:te,auth:e,email:m,emailVerified:Oe,displayName:p,isAnonymous:Mt,photoURL:D,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:H,lastLoginAt:we});return Ae&&Array.isArray(Ae)&&(w.providerData=Ae.map(I=>Object.assign({},I))),F&&(w._redirectEventId=F),w}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new Bc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?PA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Bc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var fA=new Map;function Sr(t){gi(t instanceof Function,"Expected a class definition");let e=fA.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fA.set(t,e),e)}var AB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wv=AB;function Uh(t,e,n){return`firebase:${t}:${e}:${n}`}var zh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Uh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$o._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(Sr(Wv),e,r);let i=(yield Promise.all(n.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Sr(Wv),o=Uh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=$o._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>T(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function pA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(jA(e))return"Webos";if(kA(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(VA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OA(t=dt()){return/firefox\//i.test(t)}function kA(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(t=dt()){return/crios\//i.test(t)}function LA(t=dt()){return/iemobile/i.test(t)}function VA(t=dt()){return/android/i.test(t)}function UA(t=dt()){return/blackberry/i.test(t)}function jA(t=dt()){return/webos/i.test(t)}function f_(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xB(t=dt()){var e;return f_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RB(){return HS()&&document.documentMode===10}function BA(t=dt()){return f_(t)||VA(t)||jA(t)||UA(t)||/windows phone/i.test(t)||LA(t)}function $A(t,e=[]){let n;switch(t){case"Browser":n=pA(dt());break;case"Worker":n=`${pA(dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wn}/${r}`}var Kv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MB(n){return T(this,arguments,function*(t,e={}){return yi(t,"GET","/v2/passwordPolicy",mi(t,e))})}var NB=6,Qv=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new Kv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield zh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield NA(this,{idToken:e}),r=yield $o._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(bn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vB()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(bn(this.app))return Promise.reject(Ar(this));let n=e?st(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return bn(this.app)?Promise.reject(Ar(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return bn(this.app)?Promise.reject(Ar(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield MB(this),n=new Qv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Sr(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield zh.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&gB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _s(t){return st(t)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xh={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PB(t){Xh=t}function HA(t){return Xh.loadJS(t)}function OB(){return Xh.recaptchaEnterpriseScript}function kB(){return Xh.gapiScript}function qA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var FB="recaptcha-enterprise",LB="NO_RECAPTCHA",Zv=class{constructor(e){this.type=FB,this.auth=_s(e)}verify(e="verify",n=!1){return T(this,null,function*(){function r(s){return T(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>T(this,null,function*(){EB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new zv(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;dA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(LB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&dA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=OB();u.length!==0&&(u+=a),HA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function gA(t,e,n,r=!1){return T(this,null,function*(){let i=new Zv(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Jv(t,e,n,r){return T(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield gA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>T(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield gA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function p_(t,e){let n=gs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(hs(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function VB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function g_(t,e,n){let r=_s(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=zA(e),{host:o,port:a}=UB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jB()}function zA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UB(t){let e=zA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:mA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:mA(o)}}}function mA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function jB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var qc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}};function BB(t,e){return T(this,null,function*(){return yi(t,"POST","/v1/accounts:signUp",e)})}function $B(t,e){return T(this,null,function*(){return Wc(t,"POST","/v1/accounts:signInWithPassword",mi(t,e))})}function HB(t,e){return T(this,null,function*(){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))})}function qB(t,e){return T(this,null,function*(){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))})}var zc=class t extends qc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,n,"signInWithPassword",$B);case"emailLink":return HB(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}})}_linkToIdToken(e,n){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,r,"signUpPassword",BB);case"emailLink":return qB(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Bv(t,e){return T(this,null,function*(){return Wc(t,"POST","/v1/accounts:signInWithIdp",mi(t,e))})}function zB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GB(t){let e=jo(Bo(t)).link,n=e?jo(Bo(e)).deep_link_id:null,r=jo(Bo(t)).deep_link_id;return(r?jo(Bo(r)).link:null)||r||n||e||t}var Wh=class t{constructor(e){var n,r,i,s,o,a;let u=jo(Bo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=zB((i=u.mode)!==null&&i!==void 0?i:null);z(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=GB(e);try{return new t(n)}catch{return null}}};var GA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return zc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Wh.parseLink(r);return z(i,"argument-error"),zc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Kh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xv=class extends Kh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function WB(t,e){return T(this,null,function*(){return Wc(t,"POST","/v1/accounts:signUp",mi(t,e))})}var Ho=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return T(this,null,function*(){let s=yield $o._fromIdTokenResponse(e,r,i),o=yA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var e_=class t extends Yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function WA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?e_._fromErrorAndOperation(t,s,e,r):s})}function KB(t,e,n=!1){return T(this,null,function*(){let r=yield $c(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ho._forOperation(t,"link",r)})}function QB(t,e,n=!1){return T(this,null,function*(){let{auth:r}=t;if(bn(r.app))return Promise.reject(Ar(r));let i="reauthenticate";try{let s=yield $c(t,WA(r,i,e,t),n);z(s.idToken,r,"internal-error");let o=d_(s.idToken);z(o,r,"internal-error");let{sub:a}=o;return z(t.uid===a,r,"user-mismatch"),Ho._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}})}function KA(t,e,n=!1){return T(this,null,function*(){if(bn(t.app))return Promise.reject(Ar(t));let r="signIn",i=yield WA(t,r,e),s=yield Ho._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function m_(t,e){return T(this,null,function*(){return KA(_s(t),e)})}function QA(t){return T(this,null,function*(){let e=_s(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function y_(t,e,n){return T(this,null,function*(){if(bn(t.app))return Promise.reject(Ar(t));let r=_s(t),o=yield Jv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QA(t),u}),a=yield Ho._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ef(t,e,n){return bn(t.app)?Promise.reject(Ar(t)):m_(st(t),GA.credential(e,n)).catch(r=>T(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QA(t),r}))}function v_(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function __(t,e,n){return st(t).beforeAuthStateChanged(e,n)}var Qh="__sak";var Yh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var YB=1e3,ZB=10,JB=(()=>{class t extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);RB()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,ZB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},YB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return T(this,null,function*(){yield Ur(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return T(this,null,function*(){let r=yield Ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return T(this,null,function*(){yield Ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),YA=JB;var XB=(()=>{class t extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),w_=XB;function e$(t){return Promise.all(t.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var t$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return T(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>T(this,null,function*(){return f(r.origin,o)})),l=yield e$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ZA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var t_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=ZA("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Kn(){return window}function n$(t){Kn().location.href=t}function JA(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}function r$(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function i$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s$(){return JA()?self:null}var XA="firebaseLocalStorageDb",o$=1,Zh="firebaseLocalStorage",ex="fbase_key",vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function tf(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function a$(){let t=indexedDB.deleteDatabase(XA);return new vs(t).toPromise()}function n_(){let t=indexedDB.open(XA,o$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zh,{keyPath:ex})}catch(i){n(i)}}),t.addEventListener("success",()=>T(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),yield a$(),e(yield n_()))}))})}function vA(t,e,n){return T(this,null,function*(){let r=tf(t,!0).put({[ex]:e,value:n});return new vs(r).toPromise()})}function c$(t,e){return T(this,null,function*(){let n=tf(t,!1).get(e),r=yield new vs(n).toPromise();return r===void 0?null:r.value})}function _A(t,e){let n=tf(t,!0).delete(e);return new vs(n).toPromise()}var u$=800,l$=3,d$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield n_(),this.db)})}_withRetries(n){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>l$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return JA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=t$._getInstance(s$()),this.receiver._subscribe("keyChanged",(n,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var n,r;if(this.activeServiceWorker=yield r$(),!this.activeServiceWorker)return;this.sender=new t_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||i$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let n=yield n_();return yield vA(n,Qh,"1"),yield _A(n,Qh),!0}catch{}return!1})}_withPendingWrite(n){return T(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>vA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return T(this,null,function*(){let r=yield this._withRetries(i=>c$(i,n));return this.localCache[n]=r,r})}_remove(n){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>_A(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return T(this,null,function*(){let n=yield this._withRetries(s=>{let o=tf(s,!1).getAll();return new vs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),u$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),tx=d$;var GQ=qA("rcb"),WQ=new ys(3e4,6e4);function h$(t,e){return e?Sr(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Gc=class extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function f$(t){return KA(t.auth,new Gc(t),t.bypassAuthState)}function p$(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),QB(n,new Gc(t),t.bypassAuthState)}function g$(t){return T(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),KB(n,new Gc(t),t.bypassAuthState)})}var r_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f$;case"linkViaPopup":case"linkViaRedirect":return g$;case"reauthViaPopup":case"reauthViaRedirect":return p$;default:Qn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var KQ=new ys(2e3,1e4);var m$="pendingRedirect",jh=new Map,i_=class t extends r_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=jh.get(this.auth._key());if(!e){try{let r=(yield y$(this.resolver,this.auth))?yield Ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function y$(t,e){return T(this,null,function*(){let n=w$(e),r=_$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function v$(t,e){jh.set(t._key(),e)}function _$(t){return Sr(t._redirectPersistence)}function w$(t){return Uh(m$,t.config.apiKey,t.name)}function I$(t,e,n=!1){return T(this,null,function*(){if(bn(t.app))return Promise.reject(Ar(t));let r=_s(t),i=h$(r,e),o=yield new i_(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var E$=10*60*1e3,s_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E$&&this.cachedEventUids.clear(),this.cachedEventUids.has(wA(e))}saveEventToCache(e){this.cachedEventUids.add(wA(e)),this.lastProcessedEventTime=Date.now()}};function wA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function C$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nx(t);default:return!1}}function b$(n){return T(this,arguments,function*(t,e={}){return yi(t,"GET","/v1/projects",e)})}var D$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T$=/^https?/;function S$(t){return T(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield b$(t);for(let n of e)try{if(A$(n))return}catch{}Qn(t,"unauthorized-domain")})}function A$(t){let e=Hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T$.test(n))return!1;if(D$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var x$=new ys(3e4,6e4);function IA(){let t=Kn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R$(t){return new Promise((e,n)=>{var r,i,s;function o(){IA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IA(),n(ms(t,"network-request-failed"))},timeout:x$.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{let a=qA("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(ms(t,"network-request-failed"))},HA(`${kB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Bh=null,e})}var Bh=null;function M$(t){return Bh=Bh||R$(t),Bh}var N$=new ys(5e3,15e3),P$="__/auth/iframe",O$="emulator/auth/iframe",k$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L$(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?u_(e,O$):`https://${t.config.authDomain}/${P$}`,r={apiKey:e.apiKey,appName:t.name,v:Wn},i=F$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fs(r).slice(1)}`}function V$(t){return T(this,null,function*(){let e=yield M$(t),n=Kn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:L$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k$,dontclear:!0},r=>new Promise((i,s)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ms(t,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},N$.get());function u(){Kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var U$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j$=500,B$=600,$$="_blank",H$="http://localhost",Jh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function q$(t,e,n,r=j$,i=B$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},U$),{width:r.toString(),height:i.toString(),top:s,left:o}),l=dt().toLowerCase();n&&(a=FA(l)?$$:n),OA(l)&&(e=e||H$,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,D])=>`${m}${v}=${D},`,"");if(xB(l)&&a!=="_self")return z$(e||"",a),new Jh(null);let p=window.open(e||"",a,f);z(p,t,"popup-blocked");try{p.focus()}catch{}return new Jh(p)}function z$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var G$="__/auth/handler",W$="emulator/auth/handler",K$=encodeURIComponent("fac");function EA(t,e,n,r,i,s){return T(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(e instanceof Kh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Oc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Xv){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${K$}=${encodeURIComponent(u)}`:"";return`${Q$(t)}?${fs(a).slice(1)}${l}`})}function Q$({config:t}){return t.emulator?u_(t,W$):`https://${t.authDomain}/${G$}`}var $v="webStorageSupport",o_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w_,this._completeRedirectFn=I$,this._overrideRedirectResult=v$}_openPopup(e,n,r,i){return T(this,null,function*(){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield EA(e,n,r,Hv(),i);return q$(e,o,ZA())})}_openRedirect(e,n,r,i){return T(this,null,function*(){yield this._originValidation(e);let s=yield EA(e,n,r,Hv(),i);return n$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return T(this,null,function*(){let n=yield V$(e),r=new s_(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($v,{type:$v},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[$v];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BA()||kA()||f_()}},rx=o_;var CA="@firebase/auth",bA="1.7.7";var a_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z$(t){Gn(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$A(t)},l=new Yv(r,i,s,u);return VB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new Lt("auth-internal",e=>{let n=_s(e.getProvider("auth").getImmediate());return(r=>new a_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(CA,bA,Y$(t)),Pe(CA,bA,"esm2017")}var J$=5*60,X$=bv("authIdTokenMaxAge")||J$,DA=null,e4=t=>e=>T(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X$)return;let i=n?.token;DA!==i&&(DA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function I_(t=fi()){let e=gs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=p_(t,{popupRedirectResolver:rx,persistence:[tx,YA,w_]}),r=bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=e4(s.toString());__(n,o,()=>o(n.currentUser)),v_(n,a=>o(a))}}let i=Ev("auth");return i&&g_(n,`http://${i}`),n}function t4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",t4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z$("Browser");var G4="firebase",W4="10.13.0";Pe(G4,W4,"app");var xr=new lr("ANGULARFIRE2_VERSION");function zo(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Is=(t,e)=>{let n=e?[e]:Fh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},vi=class{constructor(){return Is(K4)}},K4="app-check";function qo(){}var nf=class{zone;delegate;constructor(e,n=jp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},E_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),n.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_i=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nf(Zone.current)),this.insideAngular=n.run(()=>new nf(Zone.current,Ks)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(ye))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Q4(t){return rf().ngZone.runOutsideAngular(()=>t())}function ws(t){return rf().ngZone.run(()=>t())}function Y4(t){return Z4(rf())(t)}function Z4(t){return function(n){return n=n.lift(new E_(t.ngZone)),n.pipe(Br(t.outsideAngular),jr(t.insideAngular))}}var J4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ws(()=>t.apply(void 0,r))},wt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo))),r[s]=J4(r[s],n));let i=Q4(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=rf();return i.pipe(Br(s.outsideAngular),jr(s.insideAngular))}else return ws(()=>i);return i instanceof se?i.pipe(Y4):i instanceof Promise?ws(()=>new Promise((s,o)=>i.then(a=>ws(()=>s(a)),a=>ws(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ws(()=>i)};var Dn=class{constructor(e){return e}},Rr=class{constructor(){return Fh()}};function X4(t){return t&&t.length===1?t[0]:new Dn(fi())}var C_=new U("angularfire2._apps"),eH={provide:Dn,useFactory:X4,deps:[[new Be,C_]]},tH={provide:Rr,deps:[[new Be,C_]]};function nH(t){return(e,n)=>{let r=n.get(Vn);Pe("angularfire",xr.full,"core"),Pe("angularfire",xr.full,"app"),Pe("angular",kD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Dn(i)}}function ix(t,...e){return gn([eH,tH,{provide:C_,useFactory:nH(t),multi:!0,deps:[ye,Qe,_i,...e]}])}var sx=wt(Uv,!0);var ox="auth",Mr=class{constructor(e){return e}},Es=class{constructor(){return Is(ox)}};var b_=new U("angularfire2.auth-instances");function rH(t,e){let n=zo(ox,t,e);return n&&new Mr(n)}function iH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mr(r)}}var sH={provide:Es,deps:[[new Be,b_]]},oH={provide:Mr,useFactory:rH,deps:[[new Be,b_],Dn]};function ax(t,...e){return Pe("angularfire",xr.full,"auth"),gn([oH,sH,{provide:b_,useFactory:iH(t),multi:!0,deps:[ye,Qe,_i,Rr,[new Be,vi],...e]}])}var cx=wt(y_,!0);var ux=wt(I_,!0);function aH(t,e){t&1&&(x(0,"small",30),P(1,"Email is required."),R())}function cH(t,e){t&1&&(x(0,"small",30),P(1,"Enter a valid email address."),R())}function uH(t,e){if(t&1&&(x(0,"div"),ke(1,aH,2,0,"small",29)(2,cH,2,0,"small",29),R()),t&2){let n,r,i=Ze();W(),X("ngIf",(n=i.signInForm.get("email"))==null?null:n.getError("required")),W(),X("ngIf",(r=i.signInForm.get("email"))==null?null:r.getError("email"))}}function lH(t,e){t&1&&(x(0,"small",30),P(1,"Password is required."),R())}function dH(t,e){t&1&&(x(0,"small",30),P(1,"Password must be at least 8 characters long."),R())}function hH(t,e){if(t&1&&(x(0,"div"),ke(1,lH,2,0,"small",29)(2,dH,2,0,"small",29),R()),t&2){let n,r,i=Ze();W(),X("ngIf",(n=i.signInForm.get("password"))==null?null:n.getError("required")),W(),X("ngIf",(r=i.signInForm.get("password"))==null?null:r.getError("minlength"))}}var dx=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.auth=i,this.router=s,this.signInForm=this.fb.group({email:["",[an.required,an.email]],password:["",[an.required,an.minLength(6)]]})}signInUser(){let r=this.signInForm.value;ef(this.auth,r.email,r.password).then(i=>{let s=i.user;console.log("Sign-in successful:",s),this.router.navigate(["/home"])}).catch(i=>{let s=i.code,o=i.message;console.error(`Sign-in error [${s}]: ${o}`),alert(`Sign-in failed: ${o}`)})}};e.\u0275fac=function(i){return new(i||e)(V(Dh),V(Mr),V(rt))},e.\u0275cmp=tt({type:e,selectors:[["app-login"]],standalone:!0,features:[nt],decls:59,vars:4,consts:[[1,"container"],[1,"left-section"],[1,"title"],[1,"line-1"],[1,"line-2"],[1,"chat-box"],[1,"btn"],["xmlns","http://www.w3.org/2000/svg","width","18px","height","18px","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"right-section"],[1,"signup-box"],[2,"text-align","center","font-size","30px"],[1,"dark-teal"],[1,"form",3,"ngSubmit","formGroup"],[1,"email"],["formControlName","email","type","email","placeholder","ex.email@domain.com","required",""],[4,"ngIf"],[1,"pass"],["formControlName","password","type","password","placeholder","Enter Password","required",""],["type","submit",2,"background-color","rgb(59, 30, 226)","color","white","padding","13px","border-radius","30px","border","none",3,"disabled"],[2,"text-align","center"],["routerLink","/signup","routerLinkActive","active",2,"text-decoration","none","color","blue","font-size","16px"],[1,"continue"],[1,"google-btn"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 488 512","width","26px","height","26px"],["d","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"],[1,"apple-btn"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512","width","30px","height","30px"],["d","M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"],["class","error-text",4,"ngIf"],[1,"error-text"]],template:function(i,s){if(i&1&&(x(0,"div",0)(1,"div",1)(2,"h3",2),P(3,"CHAT A.I+"),R(),x(4,"h1")(5,"span",3),P(6,"Learn, Discover &"),R(),x(7,"span",4),P(8,"Automate in One Place."),R()(),x(9,"div",5)(10,"p"),P(11,"Create a chatbot gpt using python language what will be step for that"),R(),x(12,"button",6),P(13,"CHAT A.I+ "),Ye(),x(14,"svg",7),Y(15,"path",8),R()(),vn(),x(16,"p"),P(17,"Sure, I can help you get started with creating a chatbot using GPT in Python. Here are the basic steps you'll need to follow: "),R(),x(18,"p"),P(19,"1. Install the required libraries: You'll need to install the transformers library from Hugging Face to use GPT. You can install it using pip."),R(),x(20,"p"),P(21,"2. Load the pre-trained model: GPT comes in several sizes and versions, so you'll need to choose the one that fits your needs. You can load a pre-trained GPT model. This "),R(),x(22,"p"),P(23,"These are just the basic steps to get started with a GPT chatbot in Python. Depending on your requirements, you may need to add more features or complexity to the chatbot. "),R(),x(24,"p"),P(25," Good luck!"),R()()(),x(26,"div",9)(27,"div",10)(28,"h2",11),P(29,"Sign In with free trial"),R(),x(30,"p",12),P(31,"Empower your experience, sign up for a free account today"),R(),x(32,"form",13),Fe("ngSubmit",function(){return s.signInUser()}),x(33,"div",14)(34,"label"),P(35,"Email Address*"),R(),Y(36,"input",15),ke(37,uH,3,2,"div",16),R(),x(38,"div",17)(39,"label"),P(40,"Password*"),R(),Y(41,"input",18),ke(42,hH,3,2,"div",16),R(),x(43,"button",19),P(44," Sign In "),R()(),x(45,"p",20),P(46,"Click here to create a new account! "),x(47,"a",21),P(48,"Sign up"),R()(),Y(49,"hr"),x(50,"div",22)(51,"button",23),Ye(),x(52,"svg",24),Y(53,"path",25),R(),P(54," Continue with Google "),R(),vn(),x(55,"button",26),Ye(),x(56,"svg",27),Y(57,"path",28),R(),P(58," Continue with Apple"),R()()()()()),i&2){let o,a;W(32),X("formGroup",s.signInForm),W(5),X("ngIf",(o=s.signInForm.get("email"))==null?null:o.touched),W(5),X("ngIf",(a=s.signInForm.get("password"))==null?null:a.touched),W(),X("disabled",s.signInForm.invalid)}},dependencies:[Sh,bh,li,Vo,wh,Rc,Ac,xc,jn,No,uh,ai],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d8d4d4;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;max-width:100%;max-height:100%;background-color:#fff;box-shadow:0 0 20px #0000001a}.left-section[_ngcontent-%COMP%]{flex:1;padding:40px;background:linear-gradient(140deg,#5d6af1 50%,#9198e5 65%,#e66465 90%);color:#fff;display:flex;flex-direction:column;justify-content:center}.left-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px;font-size:2rem}.chat-box[_ngcontent-%COMP%]{padding:20px;border-radius:10px}.right-section[_ngcontent-%COMP%]{flex:1;padding:40px;display:flex;flex-direction:column;justify-content:center}.signup-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.social-login[_ngcontent-%COMP%]{padding:10px;margin-top:10px;background-color:#f2f2f2;border:none;border-radius:5px;cursor:pointer;text-align:center}.social-login[_ngcontent-%COMP%]:hover{background-color:#ddd}hr[_ngcontent-%COMP%]{margin:20px 0;border:1px solid #ccc}.title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:200;letter-spacing:6px;color:#fff}.chat-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:100}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#fff;line-height:1.2}.line-1[_ngcontent-%COMP%]{display:block;transform:rotate(0)}.line-2[_ngcontent-%COMP%]{display:block;transform:rotate(0);margin-left:80px}.btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:9px;gap:5px;border-radius:50px;background-color:#9198e580;color:#fff;font-style:italic;border:none}.dark-teal[_ngcontent-%COMP%]{color:#404444;margin-bottom:30px;font-size:15px}.right-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.email[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e5e7e6;padding:15px}.pass[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e5e7e6;padding:15px}.continue[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.continue[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;padding:8px;border-radius:30px}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;font-weight:600;background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:10px;cursor:pointer}.google-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle}.apple-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;font-weight:600;background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:10px;cursor:pointer}.apple-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px}@media (max-width:680px){.left-section[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var hx="@firebase/database",fx="1.0.7";var Dw="";function fH(t){Dw=t}var N_=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var P_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Gx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new N_(e)}}catch{}return new P_},bs=Gx("localStorage"),O_=Gx("sessionStorage");var Ko=new qn("@firebase/database"),pH=function(){let t=1;return function(){return t++}}(),Wx=function(t){let e=QS(t),n=new Ah;n.update(e);let r=n.digest();return xh.encodeByteArray(r)},pu=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pu.apply(null,r):typeof r=="object"?e+=ze(r):e+=r,e+=" "}return e},Ts=null,px=!0,gH=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ko.logLevel=pe.VERBOSE,Ts=Ko.log.bind(Ko),e&&O_.set("logging_enabled",!0)):typeof t=="function"?Ts=t:(Ts=null,O_.remove("logging_enabled"))},It=function(...t){if(px===!0&&(px=!1,Ts===null&&O_.get("logging_enabled")===!0&&gH(!0)),Ts){let e=pu.apply(null,t);Ts(e)}},gu=function(t){return function(...e){It(t,...e)}},k_=function(...t){let e="FIREBASE INTERNAL ERROR: "+pu(...t);Ko.error(e)},Nr=function(...t){let e=`FIREBASE FATAL ERROR: ${pu(...t)}`;throw Ko.error(e),new Error(e)},Vt=function(...t){let e="FIREBASE WARNING: "+pu(...t);Ko.warn(e)},mH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yH=function(t){if(Hn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},As="[MIN_NAME]",Ei="[MAX_NAME]",ta=function(t,e){if(t===e)return 0;if(t===As||e===Ei)return-1;if(e===As||t===Ei)return 1;{let n=gx(t),r=gx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vH=function(t,e){return t===e?0:t<e?-1:1},Kc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ze(e))},Sw=function(t){if(typeof t!="object"||t===null)return ze(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ze(e[r]),n+=":",n+=Sw(t[e[r]]);return n+="}",n},Kx=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ut(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Qx=function(t){N(!Tw(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(u=n;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let f=l.join(""),p="";for(u=0;u<64;u+=8){let m=parseInt(f.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},_H=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IH(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var EH=new RegExp("^-?(0*)\\d{1,10}$"),CH=-2147483648,bH=2147483647,gx=function(t){if(EH.test(t)){let e=Number(t);if(e>=CH&&e<=bH)return e}return null},na=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},DH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var F_=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var L_=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}},eu=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),of="5",Yx="v",Zx="s",Jx="r",Xx="f",eR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tR="ls",nR="p",V_="ac",rR="websocket",iR="long_polling";var af=class{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function TH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sR(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===rR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TH(t)&&(n.ns=t.namespace);let i=[];return Ut(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var U_=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jS(this.counters_)}};var D_={},T_={};function Aw(t){let e=t.toString();return D_[e]||(D_[e]=new U_),D_[e]}function SH(t,e){let n=t.toString();return T_[n]||(T_[n]=e()),T_[n]}var j_=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&na(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var mx="start",AH="close",xH="pLPCommand",RH="pRTLPCB",oR="id",aR="pw",cR="ser",MH="cb",NH="seg",PH="ts",OH="d",kH="dframe",uR=1870,lR=30,FH=uR-lR,LH=25e3,VH=3e4,B_=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gu(e),this.stats_=Aw(n),this.urlFn=u=>(this.appCheckToken&&(u[V_]=this.appCheckToken),sR(n,iR,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new j_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VH)),yH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $_((...s)=>{let[o,a,u,l,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===mx)this.id=a,this.password=u;else if(o===AH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[mx]="t",r[cR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[MH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yx]=of,this.transportSessionId&&(r[Zx]=this.transportSessionId),this.lastSessionId&&(r[tR]=this.lastSessionId),this.applicationId&&(r[nR]=this.applicationId),this.appCheckToken&&(r[V_]=this.appCheckToken),typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(r[Jx]=Xx);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Hn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_H()&&!wH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=wv(n),i=Kx(r,FH);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Hn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[kH]="t",r[oR]=e,r[aR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},$_=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Hn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pH(),window[xH+this.uniqueCallbackIdentifier]=e,window[RH+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){It("frame writing exception"),a.stack&&It(a.stack),It(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||It("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[oR]=this.myID,e[aR]=this.myPW,e[cR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lR+r.length<=uR;){let o=this.pendingSegs.shift();r=r+"&"+NH+i+"="+o.seg+"&"+PH+i+"="+o.ts+"&"+OH+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(LH)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Hn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{It("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var UH=16384,jH=45e3,cf=null;typeof MozWebSocket<"u"?cf=MozWebSocket:typeof WebSocket<"u"&&(cf=WebSocket);var Qc=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gu(this.connId),this.stats_=Aw(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[Yx]=of,!Hn()&&typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(a[Jx]=Xx),r&&(a[Zx]=r),i&&(a[tR]=i),s&&(a[V_]=s),o&&(a[nR]=o),sR(n,rR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let i;if(Hn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${of}/${Dw}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new cf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&cf!==null&&!t.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Uo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(N(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Kx(r,UH);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jH))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),BH=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[B_,Qc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Qc&&Qc.isAvailable(),i=r&&!Qc.previouslyFailed();if(n.webSocketOnly&&(r||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Qc];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),$H=6e4,HH=5e3,qH=10*1024,zH=100*1024,S_="t",yx="d",GH="s",vx="r",WH="e",_x="o",wx="a",Ix="n",Ex="p",KH="h",H_=class{constructor(e,n,r,i,s,o,a,u,l,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gu("c:"+this.id+":"),this.transportManager_=new BH(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(S_ in e){let n=e[S_];n===wx?this.upgradeIfSecondaryHealthy_():n===vx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_x&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Kc("t",e),r=Kc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ex,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ix,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Kc("t",e),r=Kc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Kc(S_,e);if(yx in e){let r=e[yx];if(n===KH){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ix){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GH?this.onConnectionShutdown_(r):n===vx?this.onReset_(r):n===WH?k_("Server Error: "+r):n===_x?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k_("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),of!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($H))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ex,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var uf=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var lf=class{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var df=class t extends lf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Cx=32,bx=768,Ee=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function me(){return new Ee("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ci(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function dR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fR(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function Je(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ee(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){let n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Rt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xw(t,e){if(Ci(t)!==Ci(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ci(t)>Ci(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var q_=class{constructor(e,n){this.errorPrefix_=n,this.parts_=hR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fc(this.parts_[r]);pR(this)}};function YH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fc(e),pR(t)}function ZH(t){let e=t.parts_.pop();t.byteLength_-=Fc(e),t.parts_.length>0&&(t.byteLength_-=1)}function pR(t){if(t.byteLength_>bx)throw new Error(t.errorPrefix_+"has a key path longer than "+bx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Cx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cx+") or object contains a cycle "+Cs(t))}function Cs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var z_=class t extends lf{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}};var Yc=1e3,JH=60*5*1e3,Dx=30*1e3,XH=1.3,e3=3e4,t3="server_kill",Tx=3,Rw=(()=>{class t extends uf{constructor(n,r,i,s,o,a,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=gu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yc,this.maxReconnectDelay_=JH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Hn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");z_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&df.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ze(o)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new di,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let u=a.d;a.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,u=>{let l=u.d,f=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Cn(n,"w")){let i=ds(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||WS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dx)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=GS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ze(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):k_("Unrecognized action received from server: "+ze(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Yc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e3&&(this.reconnectDelay_=Yc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XH)}this.onConnectStatus_(!1)}establishConnection_(){return T(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,u=null,l=function(){u?u.close():(a=!0,i())},f=function(m){N(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:l,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,v]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,u=new H_(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,D=>{Vt(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(t3)},o))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Vt(m),l())}}})}interrupt(n){It("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){It("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Oc(this.interruptReasons_)&&(this.reconnectDelay_=Yc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Sw(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Ee(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){It("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Tx&&(this.reconnectDelay_=Dx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){It("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Tx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Hn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Dw.replace(/\./g,"-")]=1,Pc()?n["framework.cordova"]=1:Nh()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=df.getInstance().currentlyOnline();return Oc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ue=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Qo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ue(As,e),i=new ue(As,n);return this.compare(r,i)!==0}minPost(){return ue.MIN}};var sf,hf=class extends Qo{static get __EMPTY_NODE(){return sf}static set __EMPTY_NODE(e){sf=e}compare(e,n){return ta(e.name,n.name)}isDefinedOn(e){throw ls("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Ei,sf)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,sf)}toString(){return".key"}},Ss=new hf;var Wo=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Tn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??cn.EMPTY_NODE,this.right=o??cn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return cn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),G_=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},cn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wo(this.root_,null,this.comparator_,!0,e)}};cn.EMPTY_NODE=new G_;function n3(t,e){return ta(t.name,e.name)}function Mw(t,e){return ta(t,e)}var W_;function r3(t){W_=t}var gR=function(t){return typeof t=="number"?"number:"+Qx(t):"string:"+t},mR=function(t){if(t.isLeafNode()){let e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else N(t===W_||t.isEmpty(),"priority of unexpected type.");N(t===W_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Sx,Yo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mR(this.priorityNode_)}static set __childrenNodeConstructor(n){Sx=n}static get __childrenNodeConstructor(){return Sx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ae(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ae(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(N(i!==".priority"||Ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+gR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Qx(this.value_):n+=this.value_,this.lazyHash_=Wx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(N(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return N(s>=0,"Unknown leaf type: "+r),N(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),yR,vR;function i3(t){yR=t}function s3(t){vR=t}var K_=class extends Qo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ta(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Ei,new Yo("[PRIORITY-POST]",vR))}makePost(e,n){let r=yR(e);return new ue(n,new Yo("[PRIORITY-POST]",r))}toString(){return".priority"}},Le=new K_;var o3=Math.log(2),Q_=class{constructor(e){let n=s=>parseInt(Math.log(s)/o3,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},ff=function(t,e,n,r){t.sort(e);let i=function(u,l){let f=l-u,p,m;if(f===0)return null;if(f===1)return p=t[u],m=n?n(p):p,new Tn(m,p.node,Tn.BLACK,null,null);{let v=parseInt(f/2,10)+u,D=i(u,v),M=i(v+1,l);return p=t[v],m=n?n(p):p,new Tn(m,p.node,Tn.BLACK,D,M)}},s=function(u){let l=null,f=null,p=t.length,m=function(D,M){let F=p-D,H=p;p-=D;let we=i(F+1,H),te=t[F],Oe=n?n(te):te;v(new Tn(Oe,te.node,M,null,we))},v=function(D){l?(l.left=D,l=D):(f=D,l=D)};for(let D=0;D<u.count;++D){let M=u.nextBitIsOne(),F=Math.pow(2,u.count-(D+1));M?m(F,Tn.BLACK):(m(F,Tn.BLACK),m(F,Tn.RED))}return f},o=new Q_(t.length),a=s(o);return new cn(r||e,a)};var A_,Go={},Zo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Go&&Le,"ChildrenNode.ts has not been loaded"),A_=A_||new t({".priority":Go},{".priority":Le}),A_}get(e){let n=ds(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof cn?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){N(e!==Ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ue.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ff(r,e.getCompare()):a=Go;let u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;let f=Object.assign({},this.indexes_);return f[u]=a,new t(f,l)}addToIndexes(e,n){let r=kc(this.indexes_,(i,s)=>{let o=ds(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Go)if(o.isDefinedOn(e.node)){let a=[],u=n.getIterator(ue.Wrap),l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),ff(a,o.getCompare())}else return Go;else{let a=n.get(e.name),u=i;return a&&(u=u.remove(new ue(e.name,a))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=kc(this.indexes_,i=>{if(i===Go)return i;{let s=n.get(e.name);return s?i.remove(new ue(e.name,s)):i}});return new t(r,this.indexSet_)}};var Zc,Z=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mR(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zc||(Zc=new t(new cn(Mw),null,Zo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Zc:r}}getChild(n){let r=ae(n);return r===null?this:this.getImmediateChild(r).getChild(Re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(N(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ue(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Zc:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ae(n);if(i===null)return r;{N(ae(n)!==".priority"||Ci(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Re(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Le,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let u in r)a[u]=r[u];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+gR(this.getPriority().val())+":"),this.forEachChild(Le,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Wx(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ue(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ue(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ue(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ue.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ue.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===mu?-1:0}withIndex(n){if(n===Ss||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ss||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Le),s=r.getIterator(Le),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ss?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Y_=class extends Z{constructor(){super(new cn(Mw),Z.EMPTY_NODE,Zo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}},mu=new Y_;Object.defineProperties(ue,{MIN:{value:new ue(As,Z.EMPTY_NODE)},MAX:{value:new ue(Ei,mu)}});hf.__EMPTY_NODE=Z.EMPTY_NODE;Yo.__childrenNodeConstructor=Z;r3(mu);s3(mu);var a3=!0;function ot(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Yo(n,ot(e))}if(!(t instanceof Array)&&a3){let n=[],r=!1;if(Ut(t,(o,a)=>{if(o.substring(0,1)!=="."){let u=ot(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ue(o,u)))}}),n.length===0)return Z.EMPTY_NODE;let s=ff(n,n3,o=>o.name,Mw);if(r){let o=ff(n,Le.getCompare());return new Z(s,ot(e),new Zo({".priority":o},{".priority":Le}))}else return new Z(s,ot(e),Zo.Default)}else{let n=Z.EMPTY_NODE;return Ut(t,(r,i)=>{if(Cn(t,r)&&r.substring(0,1)!=="."){let s=ot(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ot(e))}}i3(ot);var iu=class extends Qo{constructor(e){super(),this.indexPath_=e,N(!ce(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ta(e.name,n.name):s}makePost(e,n){let r=ot(e),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,i)}maxPost(){let e=Z.EMPTY_NODE.updateChild(this.indexPath_,mu);return new ue(Ei,e)}toString(){return hR(this.indexPath_,0).join("/")}};var Z_=class extends Qo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ta(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){let r=ot(e);return new ue(n,r)}toString(){return".value"}},_R=new Z_;function wR(t){return{type:"value",snapshotNode:t}}function Jo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function su(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ou(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function c3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var au=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(su(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Jo(n,r)):o.trackChildChange(ou(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Le,(i,s)=>{n.hasChild(i)||r.trackChildChange(su(i,s))}),n.isLeafNode()||n.forEachChild(Le,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ou(i,s,o))}else r.trackChildChange(Jo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var pf=class t{constructor(e){this.indexedFilter_=new au(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ue(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Z.EMPTY_NODE);let s=this;return n.forEachChild(Le,(o,a)=>{s.matches(new ue(o,a))||(i=i.updateImmediateChild(o,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var J_=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ue(n,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let p=this.index_.getCompare();o=(m,v)=>p(v,m)}else o=this.index_.getCompare();let a=e;N(a.numChildren()===this.limit_,"");let u=new ue(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(a.hasChild(n)){let p=a.getImmediateChild(n),m=i.getChildAfterChild(this.index_,l,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);let v=m==null?1:o(m,u);if(f&&!r.isEmpty()&&v>=0)return s?.trackChildChange(ou(n,r,p)),a.updateImmediateChild(n,r);{s?.trackChildChange(su(n,p));let M=a.updateImmediateChild(n,Z.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s?.trackChildChange(Jo(m.name,m.node)),M.updateImmediateChild(m.name,m.node)):M}}else return r.isEmpty()?e:f&&o(l,u)>=0?(s!=null&&(s.trackChildChange(su(l.name,l.node)),s.trackChildChange(Jo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Z.EMPTY_NODE)):e}};var X_=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function u3(t){return t.loadsAllData()?new au(t.getIndex()):t.hasLimit()?new J_(t):new pf(t)}function l3(t,e){let n=t.copy();return n.index_=e,n}function Ax(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===_R?n="$value":t.index_===Ss?n="$key":(N(t.index_ instanceof iu,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ze(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ze(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xx(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}var ew=class t extends uf{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=gu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let u=Ax(e._queryParams);this.restRequest_(s+".json",u,(l,f)=>{let p=f;if(l===404&&(p=null,l=null),l===null&&this.onDataUpdate_(s,p,!1,r),ds(this.listens_,o)===a){let m;l?l===401?m="permission_denied":m="rest_error:"+l:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Ax(e._queryParams),r=e._path.toString(),i=new di;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fs(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Uo(a.responseText)}catch{Vt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&Vt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var tw=class{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function gf(){return{value:null,children:new Map}}function IR(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ae(e);t.children.has(r)||t.children.set(r,gf());let i=t.children.get(r);e=Re(e),IR(i,e,n)}}function nw(t,e,n){t.value!==null?n(e,t.value):d3(t,(r,i)=>{let s=new Ee(e.toString()+"/"+r);nw(i,s,n)})}function d3(t,e){t.children.forEach((n,r)=>{e(r,n)})}var rw=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Rx=10*1e3,h3=30*1e3,f3=5*60*1e3,iw=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rw(e);let r=Rx+(h3-Rx)*Math.random();Xc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ut(e,(i,s)=>{s>0&&Cn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Xc(this.reportStats_.bind(this),Math.floor(Math.random()*2*f3))}};var Yn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Yn||{});function ER(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var sw=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yn.ACK_USER_WRITE,this.source=ER()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Ee(e));return new t(me(),n,this.revert)}}else return N(ae(this.path)===e,"operationForChild called for unrelated child."),new t(Re(this.path),this.affectedTree,this.revert)}};var mf=class t{constructor(e,n){this.source=e,this.path=n,this.type=Yn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new t(this.source,me()):new t(this.source,Re(this.path))}};var Xo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yn.OVERWRITE}operationForChild(e){return ce(this.path)?new t(this.source,me(),this.snap.getImmediateChild(e)):new t(this.source,Re(this.path),this.snap)}};var yf=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yn.MERGE}operationForChild(e){if(ce(this.path)){let n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new Xo(this.source,me(),n.value):new t(this.source,me(),n)}else return N(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Zn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;let n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var ow=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function p3(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(c3(o.childName,o.snapshotNode))}),Jc(t,i,"child_removed",e,r,n),Jc(t,i,"child_added",e,r,n),Jc(t,i,"child_moved",s,r,n),Jc(t,i,"child_changed",e,r,n),Jc(t,i,"value",e,r,n),i}function Jc(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,u)=>m3(t,a,u)),o.forEach(a=>{let u=g3(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,t.query_))})})}function g3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function m3(t,e,n){if(e.childName==null||n.childName==null)throw ls("Should only compare child_ events.");let r=new ue(e.childName,e.snapshotNode),i=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Mf(t,e){return{eventCache:t,serverCache:e}}function tu(t,e,n,r){return Mf(new Zn(e,n,r),t.serverCache)}function CR(t,e,n,r){return Mf(t.eventCache,new Zn(e,n,r))}function vf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var x_,y3=()=>(x_||(x_=new cn(vH)),x_),jt=class t{constructor(e,n=y3()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ut(e,(r,i)=>{n=n.set(new Ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ce(e))return null;{let r=ae(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:Je(new Ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{let n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Re(e)):new t(null)}}set(e,n){if(ce(e))return new t(n,this.children);{let r=ae(e),s=(this.children.get(r)||new t(null)).set(Re(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ae(e),r=this.children.get(n);if(r){let i=r.remove(Re(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{let n=ae(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(ce(e))return n;{let r=ae(e),s=(this.children.get(r)||new t(null)).setTree(Re(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{let s=ae(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),Je(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);let i=ae(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),Je(n,i),r):new t(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var An=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new jt(null))}};function nu(t,e,n){if(ce(e))return new An(new jt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Rt(i,e);return s=s.updateChild(o,n),new An(t.writeTree_.set(i,s))}else{let i=new jt(n),s=t.writeTree_.setTree(e,i);return new An(s)}}}function Mx(t,e,n){let r=t;return Ut(n,(i,s)=>{r=nu(r,Je(e,i),s)}),r}function Nx(t,e){if(ce(e))return An.empty();{let n=t.writeTree_.setTree(e,new jt(null));return new An(n)}}function aw(t,e){return Ms(t,e)!=null}function Ms(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function Px(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,i)=>{e.push(new ue(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ue(r,i.value))}),e}function wi(t,e){if(ce(e))return t;{let n=Ms(t,e);return n!=null?new An(new jt(n)):new An(t.writeTree_.subtree(e))}}function cw(t){return t.writeTree_.isEmpty()}function ea(t,e){return bR(me(),t.writeTree_,e)}function bR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=bR(Je(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Je(t,".priority"),r)),n}}function Nf(t,e){return AR(e,t)}function v3(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=nu(t.visibleWrites,e,n)),t.lastWriteId=r}function _3(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function w3(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&I3(a,r.path)?i=!1:Sn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return E3(t),!0;if(r.snap)t.visibleWrites=Nx(t.visibleWrites,r.path);else{let a=r.children;Ut(a,u=>{t.visibleWrites=Nx(t.visibleWrites,Je(r.path,u))})}return!0}else return!1}function I3(t,e){if(t.snap)return Sn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Sn(Je(t.path,n),e))return!0;return!1}function E3(t){t.visibleWrites=DR(t.allWrites,C3,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function C3(t){return t.visible}function DR(t,e,n){let r=An.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Sn(n,o)?(a=Rt(n,o),r=nu(r,a,s.snap)):Sn(o,n)&&(a=Rt(o,n),r=nu(r,me(),s.snap.getChild(a)));else if(s.children){if(Sn(n,o))a=Rt(n,o),r=Mx(r,a,s.children);else if(Sn(o,n))if(a=Rt(o,n),ce(a))r=Mx(r,me(),s.children);else{let u=ds(s.children,ae(a));if(u){let l=u.getChild(Re(a));r=nu(r,me(),l)}}}else throw ls("WriteRecord should have .snap or .children")}}return r}function TR(t,e,n,r,i){if(!r&&!i){let s=Ms(t.visibleWrites,e);if(s!=null)return s;{let o=wi(t.visibleWrites,e);if(cw(o))return n;if(n==null&&!aw(o,me()))return null;{let a=n||Z.EMPTY_NODE;return ea(o,a)}}}else{let s=wi(t.visibleWrites,e);if(!i&&cw(s))return n;if(!i&&n==null&&!aw(s,me()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Sn(l.path,e)||Sn(e,l.path))},a=DR(t.allWrites,o,e),u=n||Z.EMPTY_NODE;return ea(a,u)}}}function b3(t,e,n){let r=Z.EMPTY_NODE,i=Ms(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Le,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=wi(t.visibleWrites,e);return n.forEachChild(Le,(o,a)=>{let u=ea(wi(s,new Ee(o)),a);r=r.updateImmediateChild(o,u)}),Px(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=wi(t.visibleWrites,e);return Px(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function D3(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Je(e,n);if(aw(t.visibleWrites,s))return null;{let o=wi(t.visibleWrites,s);return cw(o)?i.getChild(n):ea(o,i.getChild(n))}}function T3(t,e,n,r){let i=Je(e,n),s=Ms(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=wi(t.visibleWrites,i);return ea(o,r.getNode().getImmediateChild(n))}else return null}function S3(t,e){return Ms(t.visibleWrites,e)}function A3(t,e,n,r,i,s,o){let a,u=wi(t.visibleWrites,e),l=Ms(u,me());if(l!=null)a=l;else if(n!=null)a=ea(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let f=[],p=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),v=m.getNext();for(;v&&f.length<i;)p(v,r)!==0&&f.push(v),v=m.getNext();return f}else return[]}function x3(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function _f(t,e,n,r){return TR(t.writeTree,t.treePath,e,n,r)}function Ow(t,e){return b3(t.writeTree,t.treePath,e)}function Ox(t,e,n,r){return D3(t.writeTree,t.treePath,e,n,r)}function wf(t,e){return S3(t.writeTree,Je(t.treePath,e))}function R3(t,e,n,r,i,s){return A3(t.writeTree,t.treePath,e,n,r,i,s)}function kw(t,e,n){return T3(t.writeTree,t.treePath,e,n)}function SR(t,e){return AR(Je(t.treePath,e),t.writeTree)}function AR(t,e){return{treePath:t,writeTree:e}}var uw=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ou(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,su(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Jo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ou(r,e.snapshotNode,i.oldSnap));else throw ls("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var lw=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},xR=new lw,cu=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kw(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xs(this.viewCache_),s=R3(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function M3(t){return{filter:t}}function N3(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function P3(t,e,n,r,i){let s=new uw,o,a;if(n.type===Yn.OVERWRITE){let l=n;l.source.fromUser?o=dw(t,e,l.path,l.snap,r,i,s):(N(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ce(l.path),o=If(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Yn.MERGE){let l=n;l.source.fromUser?o=k3(t,e,l.path,l.children,r,i,s):(N(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=hw(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Yn.ACK_USER_WRITE){let l=n;l.revert?o=V3(t,e,l.path,r,i,s):o=F3(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Yn.LISTEN_COMPLETE)o=L3(t,e,n.path,r,s);else throw ls("Unknown operation type: "+n.type);let u=s.getChanges();return O3(e,o,u),{viewCache:o,changes:u}}function O3(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wR(vf(e)))}}function RR(t,e,n,r,i,s){let o=e.eventCache;if(wf(r,n)!=null)return e;{let a,u;if(ce(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=xs(e),f=l instanceof Z?l:Z.EMPTY_NODE,p=Ow(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let l=_f(r,xs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=ae(n);if(l===".priority"){N(Ci(n)===1,"Can't have a priority with additional path components");let f=o.getNode();u=e.serverCache.getNode();let p=Ox(r,n,f,u);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{let f=Re(n),p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();let m=Ox(r,n,o.getNode(),u);m!=null?p=o.getNode().getImmediateChild(l).updateChild(f,m):p=o.getNode().getImmediateChild(l)}else p=kw(r,l,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),l,p,f,i,s):a=o.getNode()}}return tu(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function If(t,e,n,r,i,s,o,a){let u=e.serverCache,l,f=o?t.filter:t.filter.getIndexedFilter();if(ce(n))l=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){let v=u.getNode().updateChild(n,r);l=f.updateFullNode(u.getNode(),v,null)}else{let v=ae(n);if(!u.isCompleteForPath(n)&&Ci(n)>1)return e;let D=Re(n),F=u.getNode().getImmediateChild(v).updateChild(D,r);v===".priority"?l=f.updatePriority(u.getNode(),F):l=f.updateChild(u.getNode(),v,F,D,xR,null)}let p=CR(e,l,u.isFullyInitialized()||ce(n),f.filtersNodes()),m=new cu(i,p,s);return RR(t,p,n,i,m,a)}function dw(t,e,n,r,i,s,o){let a=e.eventCache,u,l,f=new cu(i,e,s);if(ce(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=tu(e,l,!0,t.filter.filtersNodes());else{let p=ae(n);if(p===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),u=tu(e,l,a.isFullyInitialized(),a.isFiltered());else{let m=Re(n),v=a.getNode().getImmediateChild(p),D;if(ce(m))D=r;else{let M=f.getCompleteChild(p);M!=null?dR(m)===".priority"&&M.getChild(fR(m)).isEmpty()?D=M:D=M.updateChild(m,r):D=Z.EMPTY_NODE}if(v.equals(D))u=e;else{let M=t.filter.updateChild(a.getNode(),p,D,m,f,o);u=tu(e,M,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function kx(t,e){return t.eventCache.isCompleteForChild(e)}function k3(t,e,n,r,i,s,o){let a=e;return r.foreach((u,l)=>{let f=Je(n,u);kx(e,ae(f))&&(a=dw(t,a,f,l,i,s,o))}),r.foreach((u,l)=>{let f=Je(n,u);kx(e,ae(f))||(a=dw(t,a,f,l,i,s,o))}),a}function Fx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function hw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,l;ce(n)?l=r:l=new jt(null).setTree(n,r);let f=e.serverCache.getNode();return l.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){let v=e.serverCache.getNode().getImmediateChild(p),D=Fx(t,v,m);u=If(t,u,new Ee(p),D,i,s,o,a)}}),l.children.inorderTraversal((p,m)=>{let v=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!v){let D=e.serverCache.getNode().getImmediateChild(p),M=Fx(t,D,m);u=If(t,u,new Ee(p),M,i,s,o,a)}}),u}function F3(t,e,n,r,i,s,o){if(wf(i,n)!=null)return e;let a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ce(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return If(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ce(n)){let l=new jt(null);return u.getNode().forEachChild(Ss,(f,p)=>{l=l.set(new Ee(f),p)}),hw(t,e,n,l,i,s,a,o)}else return e}else{let l=new jt(null);return r.foreach((f,p)=>{let m=Je(n,f);u.isCompleteForPath(m)&&(l=l.set(f,u.getNode().getChild(m)))}),hw(t,e,n,l,i,s,a,o)}}function L3(t,e,n,r,i){let s=e.serverCache,o=CR(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return RR(t,o,n,r,xR,i)}function V3(t,e,n,r,i,s){let o;if(wf(r,n)!=null)return e;{let a=new cu(r,e,i),u=e.eventCache.getNode(),l;if(ce(n)||ae(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=_f(r,xs(e));else{let p=e.serverCache.getNode();N(p instanceof Z,"serverChildren would be complete if leaf node"),f=Ow(r,p)}f=f,l=t.filter.updateFullNode(u,f,s)}else{let f=ae(n),p=kw(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?l=t.filter.updateChild(u,f,p,Re(n),a,s):e.eventCache.getNode().hasChild(f)?l=t.filter.updateChild(u,f,Z.EMPTY_NODE,Re(n),a,s):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=_f(r,xs(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||wf(r,me())!=null,tu(e,l,o,t.filter.filtersNodes())}}var fw=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new au(r.getIndex()),s=u3(r);this.processor_=M3(s);let o=n.serverCache,a=n.eventCache,u=i.updateFullNode(Z.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),f=new Zn(u,o.isFullyInitialized(),i.filtersNodes()),p=new Zn(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Mf(p,f),this.eventGenerator_=new ow(this.query_)}get query(){return this.query_}};function U3(t){return t.viewCache_.serverCache.getNode()}function j3(t){return vf(t.viewCache_)}function B3(t,e){let n=xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function Lx(t){return t.eventRegistrations_.length===0}function $3(t,e){t.eventRegistrations_.push(e)}function Vx(t,e,n){let r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Ux(t,e,n,r){e.type===Yn.MERGE&&e.source.queryId!==null&&(N(xs(t.viewCache_),"We should always have a full cache before handling merges"),N(vf(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=P3(t.processor_,i,e,n,r);return N3(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,MR(t,s.changes,s.viewCache.eventCache.getNode(),null)}function H3(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(s,o)=>{r.push(Jo(s,o))}),n.isFullyInitialized()&&r.push(wR(n.getNode())),MR(t,r,n.getNode(),e)}function MR(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return p3(t.eventGenerator_,e,n,i)}var Ef,Cf=class{constructor(){this.views=new Map}};function q3(t){N(!Ef,"__referenceConstructor has already been defined"),Ef=t}function z3(){return N(Ef,"Reference.ts has not been loaded"),Ef}function G3(t){return t.views.size===0}function Fw(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),Ux(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(Ux(o,e,n,r));return s}}function NR(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=_f(n,i?r:null),u=!1;a?u=!0:r instanceof Z?(a=Ow(n,r),u=!1):(a=Z.EMPTY_NODE,u=!1);let l=Mf(new Zn(a,u,!1),new Zn(r,i,!1));return new fw(e,l)}return o}function W3(t,e,n,r,i,s){let o=NR(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$3(o,n),H3(o,n)}function K3(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=bi(t);if(i==="default")for(let[u,l]of t.views.entries())o=o.concat(Vx(l,n,r)),Lx(l)&&(t.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{let u=t.views.get(i);u&&(o=o.concat(Vx(u,n,r)),Lx(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return a&&!bi(t)&&s.push(new(z3())(e._repo,e._path)),{removed:s,events:o}}function PR(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ii(t,e){let n=null;for(let r of t.views.values())n=n||B3(r,e);return n}function OR(t,e){if(e._queryParams.loadsAllData())return Pf(t);{let r=e._queryIdentifier;return t.views.get(r)}}function kR(t,e){return OR(t,e)!=null}function bi(t){return Pf(t)!=null}function Pf(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var bf;function Q3(t){N(!bf,"__referenceConstructor has already been defined"),bf=t}function Y3(){return N(bf,"Reference.ts has not been loaded"),bf}var Z3=1,Df=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new jt(null),this.pendingWriteTree_=x3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function FR(t,e,n,r,i){return v3(t.pendingWriteTree_,e,n,r,i),i?vu(t,new Xo(ER(),e,n)):[]}function Ds(t,e,n=!1){let r=_3(t.pendingWriteTree_,e);if(w3(t.pendingWriteTree_,e)){let s=new jt(null);return r.snap!=null?s=s.set(me(),!0):Ut(r.children,o=>{s=s.set(new Ee(o),!0)}),vu(t,new sw(r.path,s,n))}else return[]}function yu(t,e,n){return vu(t,new Xo(Nw(),e,n))}function J3(t,e,n){let r=jt.fromObject(n);return vu(t,new yf(Nw(),e,r))}function X3(t,e){return vu(t,new mf(Nw(),e))}function e5(t,e,n){let r=Vw(t,n);if(r){let i=Uw(r),s=i.path,o=i.queryId,a=Rt(s,e),u=new mf(Pw(o),a);return jw(t,s,u)}else return[]}function Tf(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||kR(o,e))){let u=K3(o,e,n,r);G3(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let l=u.removed;if(a=u.events,!i){let f=l.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(m,v)=>bi(v));if(f&&!p){let m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){let v=r5(m);for(let D=0;D<v.length;++D){let M=v[D],F=M.query,H=jR(t,M);t.listenProvider_.startListening(ru(F),uu(t,F),H.hashFn,H.onComplete)}}}!p&&l.length>0&&!r&&(f?t.listenProvider_.stopListening(ru(e),null):l.forEach(m=>{let v=t.queryToTagMap.get(Of(m));t.listenProvider_.stopListening(ru(m),v)}))}i5(t,l)}return a}function LR(t,e,n,r){let i=Vw(t,r);if(i!=null){let s=Uw(i),o=s.path,a=s.queryId,u=Rt(o,e),l=new Xo(Pw(a),u,n);return jw(t,o,l)}else return[]}function t5(t,e,n,r){let i=Vw(t,r);if(i){let s=Uw(i),o=s.path,a=s.queryId,u=Rt(o,e),l=jt.fromObject(n),f=new yf(Pw(a),u,l);return jw(t,o,f)}else return[]}function pw(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,v)=>{let D=Rt(m,i);s=s||Ii(v,D),o=o||bi(v)});let a=t.syncPointTree_.get(i);a?(o=o||bi(a),s=s||Ii(a,me())):(a=new Cf,t.syncPointTree_=t.syncPointTree_.set(i,a));let u;s!=null?u=!0:(u=!1,s=Z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,D)=>{let M=Ii(D,me());M&&(s=s.updateImmediateChild(v,M))}));let l=kR(a,e);if(!l&&!e._queryParams.loadsAllData()){let m=Of(e);N(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");let v=s5();t.queryToTagMap.set(m,v),t.tagToQueryMap.set(v,m)}let f=Nf(t.pendingWriteTree_,i),p=W3(a,e,n,f,s,u);if(!l&&!o&&!r){let m=OR(a,e);p=p.concat(o5(t,e,m))}return p}function Lw(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let u=Rt(o,e),l=Ii(a,u);if(l)return l});return TR(i,e,s,n,!0)}function n5(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,f)=>{let p=Rt(l,n);r=r||Ii(f,p)});let i=t.syncPointTree_.get(n);i?r=r||Ii(i,me()):(i=new Cf,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new Zn(r,!0,!1):null,a=Nf(t.pendingWriteTree_,e._path),u=NR(i,e,a,s?o.getNode():Z.EMPTY_NODE,s);return j3(u)}function vu(t,e){return VR(e,t.syncPointTree_,null,Nf(t.pendingWriteTree_,me()))}function VR(t,e,n,r){if(ce(t.path))return UR(t,e,n,r);{let i=e.get(me());n==null&&i!=null&&(n=Ii(i,me()));let s=[],o=ae(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){let l=n?n.getImmediateChild(o):null,f=SR(r,o);s=s.concat(VR(a,u,l,f))}return i&&(s=s.concat(Fw(i,t,r,n))),s}}function UR(t,e,n,r){let i=e.get(me());n==null&&i!=null&&(n=Ii(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{let u=n?n.getImmediateChild(o):null,l=SR(r,o),f=t.operationForChild(o);f&&(s=s.concat(UR(f,a,u,l)))}),i&&(s=s.concat(Fw(i,t,r,n))),s}function jR(t,e){let n=e.query,r=uu(t,n);return{hashFn:()=>(U3(e)||Z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?e5(t,n._path,r):X3(t,n._path);{let s=IH(i,n);return Tf(t,n,null,s)}}}}function uu(t,e){let n=Of(e);return t.queryToTagMap.get(n)}function Of(t){return t._path.toString()+"$"+t._queryIdentifier}function Vw(t,e){return t.tagToQueryMap.get(e)}function Uw(t){let e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function jw(t,e,n){let r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");let i=Nf(t.pendingWriteTree_,e);return Fw(r,n,i,null)}function r5(t){return t.fold((e,n,r)=>{if(n&&bi(n))return[Pf(n)];{let i=[];return n&&(i=PR(n)),Ut(r,(s,o)=>{i=i.concat(o)}),i}})}function ru(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Y3())(t._repo,t._path):t}function i5(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Of(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function s5(){return Z3++}function o5(t,e,n){let r=e._path,i=uu(t,e),s=jR(t,n),o=t.listenProvider_.startListening(ru(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)N(!bi(a.value),"If we're adding a query, it shouldn't be shadowed");else{let u=a.fold((l,f,p)=>{if(!ce(l)&&f&&bi(f))return[Pf(f).query];{let m=[];return f&&(m=m.concat(PR(f).map(v=>v.query))),Ut(p,(v,D)=>{m=m.concat(D)}),m}});for(let l=0;l<u.length;++l){let f=u[l];t.listenProvider_.stopListening(ru(f),uu(t,f))}}return o}var gw=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},mw=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Je(this.path_,e);return new t(this.syncTree_,n)}node(){return Lw(this.syncTree_,this.path_)}},a5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},jx=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return c5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return u5(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},c5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},u5=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);let i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},l5=function(t,e,n,r){return Bw(e,new mw(n,t),r)},BR=function(t,e,n){return Bw(t,new gw(e),n)};function Bw(t,e,n){let r=t.getPriority().val(),i=jx(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=jx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Yo(a,ot(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Yo(i))),o.forEachChild(Le,(a,u)=>{let l=Bw(u,e.getImmediateChild(a),n);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}var lu=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function $w(t,e){let n=e instanceof Ee?e:new Ee(e),r=t,i=ae(n);for(;i!==null;){let s=ds(r.node.children,i)||{children:{},childCount:0};r=new lu(i,r,s),n=Re(n),i=ae(n)}return r}function ra(t){return t.node.value}function $R(t,e){t.node.value=e,yw(t)}function HR(t){return t.node.childCount>0}function d5(t){return ra(t)===void 0&&!HR(t)}function kf(t,e){Ut(t.node.children,(n,r)=>{e(new lu(n,t,r))})}function qR(t,e,n,r){n&&!r&&e(t),kf(t,i=>{qR(i,e,!0,r)}),n&&r&&e(t)}function h5(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _u(t){return new Ee(t.parent===null?t.name:_u(t.parent)+"/"+t.name)}function yw(t){t.parent!==null&&f5(t.parent,t.name,t)}function f5(t,e,n){let r=d5(n),i=Cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yw(t))}var p5=/[\[\].#$\/\u0000-\u001F\u007F]/,g5=/[\[\].#$\u0000-\u001F\u007F]/,R_=10*1024*1024,zR=function(t){return typeof t=="string"&&t.length!==0&&!p5.test(t)},GR=function(t){return typeof t=="string"&&t.length!==0&&!g5.test(t)},m5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GR(t)},Bx=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Tw(t)||t&&typeof t=="object"&&Cn(t,".sv")},WR=function(t,e,n,r){r&&e===void 0||Hw(Ph(t,"value"),e,n)},Hw=function(t,e,n){let r=n instanceof Ee?new q_(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cs(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cs(r)+" with contents = "+e.toString());if(Tw(e))throw new Error(t+"contains "+e.toString()+" "+Cs(r));if(typeof e=="string"&&e.length>R_/3&&Fc(e)>R_)throw new Error(t+"contains a string greater than "+R_+" utf8 bytes "+Cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ut(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!zR(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YH(r,o),Hw(t,a,r),ZH(r)}),i&&s)throw new Error(t+' contains ".value" child '+Cs(r)+" in addition to actual children.")}};var qw=function(t,e,n,r){if(!(r&&n===void 0)&&!GR(n))throw new Error(Ph(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y5=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qw(t,e,n,r)},zw=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},v5=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!m5(n))throw new Error(Ph(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var vw=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Gw(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!xw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function KR(t,e,n){Gw(t,n),QR(t,r=>xw(r,e))}function Jn(t,e,n){Gw(t,n),QR(t,r=>Sn(r,e)||Sn(e,r))}function QR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(_5(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _5(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Ts&&It("event: "+n.toString()),na(r)}}}var w5="repo_interrupt",I5=25,_w=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gf(),this.transactionQueueTree_=new lu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function E5(t,e,n){if(t.stats_=Aw(t.repoInfo_),t.forceRestClient_||DH())t.server_=new ew(t.repoInfo_,(r,i,s,o)=>{$x(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Hx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rw(t.repoInfo_,e,(r,i,s,o)=>{$x(t,r,i,s,o)},r=>{Hx(t,r)},r=>{C5(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SH(t.repoInfo_,()=>new iw(t.stats_,t.server_)),t.infoData_=new tw,t.infoSyncTree_=new Df({startListening:(r,i,s,o)=>{let a=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=yu(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Kw(t,"connected",!1),t.serverSyncTree_=new Df({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{let l=o(a,u);Jn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YR(t){let n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ww(t){return a5({timestamp:YR(t)})}function $x(t,e,n,r,i){t.dataUpdateCount++;let s=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=kc(n,l=>ot(l));o=t5(t.serverSyncTree_,s,u,i)}else{let u=ot(n);o=LR(t.serverSyncTree_,s,u,i)}else if(r){let u=kc(n,l=>ot(l));o=J3(t.serverSyncTree_,s,u)}else{let u=ot(n);o=yu(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Lf(t,s)),Jn(t.eventQueue_,a,o)}function Hx(t,e){Kw(t,"connected",e),e===!1&&T5(t)}function C5(t,e){Ut(e,(n,r)=>{Kw(t,n,r)})}function Kw(t,e,n){let r=new Ee("/.info/"+e),i=ot(n);t.infoData_.updateSnapshot(r,i);let s=yu(t.infoSyncTree_,r,i);Jn(t.eventQueue_,r,s)}function ZR(t){return t.nextWriteId_++}function b5(t,e,n){let r=n5(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=ot(i).withIndex(e._queryParams.getIndex());pw(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=yu(t.serverSyncTree_,e._path,s);else{let a=uu(t.serverSyncTree_,e);o=LR(t.serverSyncTree_,e._path,s,a)}return Jn(t.eventQueue_,e._path,o),Tf(t.serverSyncTree_,e,n,null,!0),s},i=>(Ff(t,"get for query "+ze(e)+" failed: "+i),Promise.reject(new Error(i))))}function D5(t,e,n,r,i){Ff(t,"set",{path:e.toString(),value:n,priority:r});let s=Ww(t),o=ot(n,r),a=Lw(t.serverSyncTree_,e),u=BR(o,a,s),l=ZR(t),f=FR(t.serverSyncTree_,e,u,l,!0);Gw(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(m,v)=>{let D=m==="ok";D||Vt("set at "+e+" failed: "+m);let M=Ds(t.serverSyncTree_,l,!D);Jn(t.eventQueue_,e,M),x5(t,i,m,v)});let p=nM(t,e);Lf(t,p),Jn(t.eventQueue_,p,[])}function T5(t){Ff(t,"onDisconnectEvents");let e=Ww(t),n=gf();nw(t.onDisconnect_,me(),(i,s)=>{let o=l5(i,s,t.serverSyncTree_,e);IR(n,i,o)});let r=[];nw(n,me(),(i,s)=>{r=r.concat(yu(t.serverSyncTree_,i,s));let o=nM(t,i);Lf(t,o)}),t.onDisconnect_=gf(),Jn(t.eventQueue_,me(),r)}function S5(t,e,n){let r;ae(e._path)===".info"?r=pw(t.infoSyncTree_,e,n):r=pw(t.serverSyncTree_,e,n),KR(t.eventQueue_,e._path,r)}function ww(t,e,n){let r;ae(e._path)===".info"?r=Tf(t.infoSyncTree_,e,n):r=Tf(t.serverSyncTree_,e,n),KR(t.eventQueue_,e._path,r)}function A5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(w5)}function Ff(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),It(n,...e)}function x5(t,e,n,r){e&&na(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function JR(t,e,n){return Lw(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function Qw(t,e=t.transactionQueueTree_){if(e||Vf(t,e),ra(e)){let n=eM(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&R5(t,_u(e),n)}else HR(e)&&kf(e,n=>{Qw(t,n)})}function R5(t,e,n){let r=n.map(l=>l.currentWriteId),i=JR(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let f=n[l];N(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Rt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let a=s.val(!0),u=e;t.server_.put(u.toString(),a,l=>{Ff(t,"transaction put response",{path:u.toString(),status:l});let f=[];if(l==="ok"){let p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(Ds(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Vf(t,$w(t.transactionQueueTree_,e)),Qw(t,t.transactionQueueTree_),Jn(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)na(p[m])}else{if(l==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Vt("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Lf(t,e)}},o)}function Lf(t,e){let n=XR(t,e),r=_u(n),i=eM(t,n);return M5(t,i,r),r}function M5(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let u=e[a],l=Rt(n,u.path),f=!1,p;if(N(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(Ds(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=I5)f=!0,p="maxretry",i=i.concat(Ds(t.serverSyncTree_,u.currentWriteId,!0));else{let m=JR(t,u.path,o);u.currentInputSnapshot=m;let v=e[a].update(m.val());if(v!==void 0){Hw("transaction failed: Data returned ",v,u.path);let D=ot(v);typeof v=="object"&&v!=null&&Cn(v,".priority")||(D=D.updatePriority(m.getPriority()));let F=u.currentWriteId,H=Ww(t),we=BR(D,m,H);u.currentOutputSnapshotRaw=D,u.currentOutputSnapshotResolved=we,u.currentWriteId=ZR(t),o.splice(o.indexOf(F),1),i=i.concat(FR(t.serverSyncTree_,u.path,we,u.currentWriteId,u.applyLocally)),i=i.concat(Ds(t.serverSyncTree_,F,!0))}else f=!0,p="nodata",i=i.concat(Ds(t.serverSyncTree_,u.currentWriteId,!0))}Jn(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Vf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)na(r[a]);Qw(t,t.transactionQueueTree_)}function XR(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&ra(r)===void 0;)r=$w(r,n),e=Re(e),n=ae(e);return r}function eM(t,e){let n=[];return tM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function tM(t,e,n){let r=ra(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kf(e,i=>{tM(t,i,n)})}function Vf(t,e){let n=ra(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$R(e,n.length>0?n:void 0)}kf(e,r=>{Vf(t,r)})}function nM(t,e){let n=_u(XR(t,e)),r=$w(t.transactionQueueTree_,e);return h5(r,i=>{M_(t,i)}),M_(t,r),qR(r,i=>{M_(t,i)}),n}function M_(t,e){let n=ra(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ds(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$R(e,void 0):n.length=s+1,Jn(t.eventQueue_,_u(e),i);for(let o=0;o<r.length;o++)na(r[o])}}function N5(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function P5(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}var qx=function(t,e){let n=O5(t),r=n.namespace;n.domain==="firebase.com"&&Nr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mH();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new af(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ee(n.pathString)}},O5=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=N5(t.substring(f,p)));let m=P5(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;let v=e.slice(0,l);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{let D=e.indexOf(".");r=e.substring(0,D).toLowerCase(),n=e.substring(D+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var zx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",k5=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=zx.charAt(n%64),n=Math.floor(n/64);N(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=zx.charAt(e[i]);return N(o.length===20,"nextPushId: Length should be 20."),o}}();var Sf=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}},Af=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var du=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var xf=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:dR(this._path)}get ref(){return new Xn(this._repo,this._path)}get _queryIdentifier(){let e=xx(this._queryParams),n=Sw(e);return n==="{}"?"default":n}get _queryObject(){return xx(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=xw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+QH(this._path)}};function F5(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function L5(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ss){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==As)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ei)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Le){if(e!=null&&!Bx(e)||n!=null&&!Bx(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(N(t.getIndex()instanceof iu||t.getIndex()===_R,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}var Xn=class t extends xf{constructor(e,n){super(e,n,new X_,!1)}get parent(){let e=fR(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},hu=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Ee(e),r=Rs(this.ref,e);return new t(this._node.getChild(n),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Rs(this.ref,r),Le)))}hasChild(e){let n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function wu(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?Rs(t._root,e):t._root}function Rs(t,e){return t=st(t),ae(t._path)===null?y5("child","path",e,!1):qw("child","path",e,!1),new Xn(t._repo,Je(t._path,e))}function rM(t,e){t=st(t),zw("push",t._path),WR("push",e,t._path,!0);let n=YR(t._repo),r=k5(n),i=Rs(t,r),s=Rs(t,r),o;return e!=null?o=Uf(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Yw(t){return zw("remove",t._path),Uf(t,null)}function Uf(t,e){t=st(t),zw("set",t._path),WR("set",e,t._path,!1);let n=new di;return D5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function jf(t){t=st(t);let e=new du(()=>{}),n=new fu(e);return b5(t._repo,t,n).then(r=>new hu(r,new Xn(t._repo,t._path),t._queryParams.getIndex()))}var fu=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Sf("value",this,new hu(e.snapshotNode,new Xn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Af(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Rf=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Af(this,e,n):null}createEvent(e,n){N(e.childName!=null,"Child events should have a childName.");let r=Rs(new Xn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Sf(e.type,this,new hu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Iu(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let u=n,l=(f,p)=>{ww(t._repo,t,a),u(f,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}let o=new du(n,s||void 0),a=e==="value"?new fu(o):new Rf(e,o);return S5(t._repo,t,a),()=>ww(t._repo,t,a)}function Eu(t,e,n,r){return Iu(t,"value",e,n,r)}function Zw(t,e,n,r){return Iu(t,"child_added",e,n,r)}function Jw(t,e,n,r){return Iu(t,"child_changed",e,n,r)}function Xw(t,e,n,r){return Iu(t,"child_moved",e,n,r)}function eI(t,e,n,r){return Iu(t,"child_removed",e,n,r)}function tI(t,e,n){let r=null,i=n?new du(n):null;e==="value"?r=new fu(i):e&&(r=new Rf(e,i)),ww(t._repo,t,r)}var Iw=class{};var Ew=class extends Iw{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){F5(e,"orderByChild");let n=new Ee(this._path);if(ce(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new iu(n),i=l3(e._queryParams,r);return L5(i),new xf(e._repo,e._path,i,!0)}};function iM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qw("orderByChild","path",t,!1),new Ew(t)}function sM(t,...e){let n=st(t);for(let r of e)n=r._apply(n);return n}q3(Xn);Q3(Xn);var V5="FIREBASE_DATABASE_EMULATOR_HOST",Cw={},U5=!1;function j5(t,e,n,r){t.repoInfo_=new af(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function B5(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=qx(s,i),a=o.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[V5]),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=qx(s,i),a=o.repoInfo):u=!o.repoInfo.secure;let f=i&&u?new eu(eu.OWNER):new L_(t.name,t.options,e);v5("Invalid Firebase Database URL",o),ce(o.path)||Nr("Database URL must point to the root of a Firebase Database (not including a child path).");let p=H5(a,t,f,new F_(t.name,n));return new bw(p,t)}function $5(t,e){let n=Cw[e];(!n||n[t.key]!==t)&&Nr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),A5(t),delete n[t.key]}function H5(t,e,n,r){let i=Cw[e.name];i||(i={},Cw[e.name]=i);let s=i[t.toURLString()];return s&&Nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _w(t,U5,n,r),i[t.toURLString()]=s,s}var bw=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(E5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&($5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nr("Cannot call "+e+" on a deleted database.")}};function Cu(t=fi(),e){let n=gs(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Rh("database");r&&oM(n,...r)}return n}function oM(t,e,n,r={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Nr("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new eu(eu.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Mh(r.mockUserToken,t.app.options.projectId);s=new eu(o)}j5(i,e,n,s)}function q5(t){fH(Wn),Gn(new Lt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return B5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Pe(hx,fx,t),Pe(hx,fx,"esm2017")}Rw.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rw.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};q5();var Ns,ht=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(ht||{}),z5=Object.freeze((Ns={},Ns[ht.added]=Zw,Ns[ht.removed]=eI,Ns[ht.changed]=Jw,Ns[ht.moved]=Xw,Ns[ht.value]=Eu,Ns));function aM(t,e){return new se(function(n){var r=z5[e](t,function(i,s){n.next({snapshot:i,prevKey:s,event:e})},n.error.bind(n));return{unsubscribe:function(){tI(t,e,r)}}}).pipe(Wp(0))}var Bf=function(){return Bf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bf.apply(this,arguments)};function nI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function G5(t){return(t==null||t.length===0)&&(t=[ht.added,ht.removed,ht.changed,ht.moved]),t}function cM(t,e){var n;e===void 0&&(e={});var r=t.snapshot.val();return!t.snapshot.exists()||typeof r!="object"?r:Bf(Bf({},r),e.keyField?(n={},n[e.keyField]=t.snapshot.key,n):null)}function W5(t){return Ce(jf(t)).pipe(Q(function(e){var n=ht.value;return{snapshot:e,prevKey:null,event:n}}))}function uM(t,e){e===void 0&&(e={});var n=G5(e.events);return W5(t).pipe(Pt(function(r){var i=[$(r)];return n.forEach(function(s){i.push(aM(t,s))}),zp.apply(void 0,i).pipe(Oa(Q5,[]))}),Kp())}function lM(t,e){return e===void 0&&(e={}),uM(t).pipe(Q(function(n){return n.map(function(r){return cM(r,e)})}))}function dM(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].snapshot.key===e)return r;return-1}function K5(t,e){if(e==null)return 0;var n=dM(t,e);return n===-1?t.length:n+1}function Q5(t,e){var n=e.snapshot,r=e.prevKey,i=e.event,s=n.key,o=dM(t,s),a=K5(t,r||void 0);switch(i){case ht.value:if(e.snapshot&&e.snapshot.exists()){var u=null;e.snapshot.forEach(function(p){var m={snapshot:p,event:ht.value,prevKey:u};return u=p.key,t=nI(nI([],t,!0),[m],!1),!1})}return t;case ht.added:if(o>-1){var l=t[o-1];(l&&l.snapshot.key||null)!==r&&(t=t.filter(function(p){return p.snapshot.key!==n.key}),t.splice(a,0,e))}else{if(r==null)return nI([e],t,!0);t=t.slice(),t.splice(a,0,e)}return t;case ht.removed:return t.filter(function(p){return p.snapshot.key!==n.key});case ht.changed:return t.map(function(p){return p.snapshot.key===s?e:p});case ht.moved:if(o>-1){var f=t.splice(o,1)[0];return t=t.slice(),t.splice(a,0,f),t}return t;default:return t}}var Pr=class{constructor(e){return e}},hM="database",rI=class{constructor(){return Is(hM)}};var iI=new U("angularfire2.database-instances");function Y5(t,e){let n=zo(hM,t,e);return n&&new Pr(n)}function Z5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pr(r)}}var J5={provide:rI,deps:[[new Be,iI]]},X5={provide:Pr,useFactory:Y5,deps:[[new Be,iI],Dn]};function fM(t,...e){return Pe("angularfire",xr.full,"rtdb"),gn([X5,J5,{provide:iI,useFactory:Z5(t),multi:!0,deps:[ye,Qe,_i,Rr,[new Be,Es],[new Be,vi],...e]}])}var pM=wt(lM,!0);var gM=wt(jf,!0),mM=wt(Cu,!0);var yM=wt(iM,!0);var sI=wt(rM,!0),vM=wt(sM,!0),Di=wt(wu,!0);var $f=wt(Uf,!0);function eq(t,e){t&1&&(x(0,"small",30),P(1,"Email is required."),R())}function tq(t,e){t&1&&(x(0,"small",30),P(1,"Enter a valid email address."),R())}function nq(t,e){if(t&1&&(x(0,"div"),ke(1,eq,2,0,"small",29)(2,tq,2,0,"small",29),R()),t&2){let n,r,i=Ze();W(),X("ngIf",(n=i.signUpForm.get("email"))==null?null:n.getError("required")),W(),X("ngIf",(r=i.signUpForm.get("email"))==null?null:r.getError("email"))}}function rq(t,e){t&1&&(x(0,"small",30),P(1,"Password is required."),R())}function iq(t,e){t&1&&(x(0,"small",30),P(1,"Password must be at least 8 characters long."),R())}function sq(t,e){if(t&1&&(x(0,"div"),ke(1,rq,2,0,"small",29)(2,iq,2,0,"small",29),R()),t&2){let n,r,i=Ze();W(),X("ngIf",(n=i.signUpForm.get("password"))==null?null:n.getError("required")),W(),X("ngIf",(r=i.signUpForm.get("password"))==null?null:r.getError("minlength"))}}var oI=(()=>{let e=class e{constructor(r,i,s){this.fb=r,this.auth=i,this.database=s,this.signUpForm=this.fb.group({email:["",[an.required,an.email]],password:["",[an.required,an.minLength(6)]]})}registerUser(){if(this.signUpForm.valid){let{email:r,password:i}=this.signUpForm.value;cx(this.auth,r,i).then(s=>{let o=s.user;$f(Di(this.database,"users/"+o.uid),{email:r}),alert("User created")}).catch(s=>{alert("Error: "+s.message)})}else alert("Please fill out the form correctly.")}};e.\u0275fac=function(i){return new(i||e)(V(Dh),V(Mr),V(Pr))},e.\u0275cmp=tt({type:e,selectors:[["app-signup"]],standalone:!0,features:[nt],decls:59,vars:4,consts:[[1,"container"],[1,"left-section"],[1,"title"],[1,"line-1"],[1,"line-2"],[1,"chat-box"],[1,"btn"],["xmlns","http://www.w3.org/2000/svg","width","18px","height","18px","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"right-section"],[1,"signup-box"],[2,"text-align","center","font-size","30px"],[1,"dark-teal"],[1,"form",3,"ngSubmit","formGroup"],[1,"email"],["formControlName","email","type","email","placeholder","ex.email@domain.com","required",""],[4,"ngIf"],[1,"pass"],["formControlName","password","type","password","placeholder","Enter Password","required",""],["type","submit",2,"background-color","rgb(59, 30, 226)","color","white","padding","13px","border-radius","30px","border","none",3,"disabled"],[2,"text-align","center"],["routerLink","/login","routerLinkActive","active",2,"text-decoration","none","color","blue","font-size","16px"],[1,"continue"],[1,"google-btn"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 488 512","width","26px","height","26px"],["d","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"],[1,"apple-btn"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512","width","30px","height","30px"],["d","M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"],["class","error-text",4,"ngIf"],[1,"error-text"]],template:function(i,s){if(i&1&&(x(0,"div",0)(1,"div",1)(2,"h3",2),P(3,"CHAT A.I+"),R(),x(4,"h1")(5,"span",3),P(6,"Learn, Discover &"),R(),x(7,"span",4),P(8,"Automate in One Place."),R()(),x(9,"div",5)(10,"p"),P(11,"Create a chatbot gpt using python language what will be step for that"),R(),x(12,"button",6),P(13,"CHAT A.I+ "),Ye(),x(14,"svg",7),Y(15,"path",8),R()(),vn(),x(16,"p"),P(17,"Sure, I can help you get started with creating a chatbot using GPT in Python. Here are the basic steps you'll need to follow: "),R(),x(18,"p"),P(19,"1. Install the required libraries: You'll need to install the transformers library from Hugging Face to use GPT. You can install it using pip."),R(),x(20,"p"),P(21,"2. Load the pre-trained model: GPT comes in several sizes and versions, so you'll need to choose the one that fits your needs. You can load a pre-trained GPT model. This "),R(),x(22,"p"),P(23,"These are just the basic steps to get started with a GPT chatbot in Python. Depending on your requirements, you may need to add more features or complexity to the chatbot. "),R(),x(24,"p"),P(25," Good luck!"),R()()(),x(26,"div",9)(27,"div",10)(28,"h2",11),P(29,"Sign up with free trial"),R(),x(30,"p",12),P(31,"Empower your experience, sign up for a free account today"),R(),x(32,"form",13),Fe("ngSubmit",function(){return s.registerUser()}),x(33,"div",14)(34,"label"),P(35,"Email Address*"),R(),Y(36,"input",15),ke(37,nq,3,2,"div",16),R(),x(38,"div",17)(39,"label"),P(40,"Password*"),R(),Y(41,"input",18),ke(42,sq,3,2,"div",16),R(),x(43,"button",19),P(44," Get started free "),R()(),x(45,"p",20),P(46,"Already have an account? "),x(47,"a",21),P(48,"Login"),R()(),Y(49,"hr"),x(50,"div",22)(51,"button",23),Ye(),x(52,"svg",24),Y(53,"path",25),R(),P(54," Continue with Google "),R(),vn(),x(55,"button",26),Ye(),x(56,"svg",27),Y(57,"path",28),R(),P(58," Continue with Apple"),R()()()()()),i&2){let o,a;W(32),X("formGroup",s.signUpForm),W(5),X("ngIf",(o=s.signUpForm.get("email"))==null?null:o.touched),W(5),X("ngIf",(a=s.signUpForm.get("password"))==null?null:a.touched),W(),X("disabled",s.signUpForm.invalid)}},dependencies:[Sh,bh,li,Vo,wh,Rc,Ac,xc,jn,ai,No,uh],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:#d8d4d4;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;max-width:100%;max-height:100%;background-color:#fff;box-shadow:0 0 20px #0000001a}.left-section[_ngcontent-%COMP%]{flex:1;padding:40px;background:linear-gradient(140deg,#5d6af1 50%,#9198e5 65%,#e66465 90%);color:#fff;display:flex;flex-direction:column;justify-content:center}.left-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px;font-size:2rem}.chat-box[_ngcontent-%COMP%]{padding:20px;border-radius:10px}.right-section[_ngcontent-%COMP%]{flex:1;padding:40px;display:flex;flex-direction:column;justify-content:center}.signup-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}.social-login[_ngcontent-%COMP%]{padding:10px;margin-top:10px;background-color:#f2f2f2;border:none;border-radius:5px;cursor:pointer;text-align:center}.social-login[_ngcontent-%COMP%]:hover{background-color:#ddd}hr[_ngcontent-%COMP%]{margin:20px 0;border:1px solid #ccc}.title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:200;letter-spacing:6px;color:#fff}.chat-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:100}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#fff;line-height:1.2}.line-1[_ngcontent-%COMP%]{display:block;transform:rotate(0)}.line-2[_ngcontent-%COMP%]{display:block;transform:rotate(0);margin-left:80px}.btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:9px;gap:5px;border-radius:50px;background-color:#9198e580;color:#fff;font-style:italic;border:none}.dark-teal[_ngcontent-%COMP%]{color:#404444;margin-bottom:30px;font-size:15px}.right-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.email[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e5e7e6;padding:15px}.pass[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.pass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e5e7e6;padding:15px}.continue[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.continue[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;padding:8px;border-radius:30px}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;font-weight:600;background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:10px;cursor:pointer}.google-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle}.apple-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;font-weight:600;background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:10px;cursor:pointer}.apple-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px}@media (max-width:680px){.left-section[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var oq=t=>({"selected-conversation":t});function aq(t,e){t&1&&Y(0,"div",25)}function cq(t,e){if(t&1){let n=vo();x(0,"li")(1,"button",29),Fe("click",function(){let i=Xi(n).$implicit,s=Ze(2);return es(s.selectConversation(i.id))}),Ye(),x(2,"svg",20),Y(3,"path",30),R(),vn(),x(4,"span"),P(5),R()(),x(6,"button",31),Fe("click",function(){let i=Xi(n).$implicit,s=Ze(2);return es(s.deleteConversation(i.id))}),Ye(),x(7,"svg",32),Y(8,"path",33),R()()()}if(t&2){let n=e.$implicit,r=Ze(2);W(),X("ngClass",Ed(2,oq,n.id===r.selectedConversationId)),W(4),ns(n.name)}}function uq(t,e){if(t&1&&(x(0,"div",26)(1,"ul",27),ke(2,cq,9,4,"li",28),R()()),t&2){let n=Ze();W(2),X("ngForOf",n.conversations)}}var Hf=(()=>{let e=class e{constructor(r){this.router=r,this.loading=!0,this.conversationSelected=new De,this.conversations=[],this.selectedConversationId=null}ngOnInit(){let r=Cu(),i=wu(r,"conservations");Eu(i,s=>{let o=s.val();o&&typeof o=="object"&&(this.conversations=Object.keys(o).map(a=>{let l=o[a].messages,f=l?Object.values(l)[0].text:"No messages";return{id:a,name:f}}).reverse(),this.loading=!1)})}selectConversation(r){this.selectedConversationId=r,this.conversationSelected.emit(r),this.router.navigate(["/home",r])}deleteConversation(r){let i=Cu(),s=wu(i,`conservations/${r}`);Yw(s).then(()=>{console.log("Conversation deleted successfully"),this.router.navigate(["/home"])}).catch(o=>{console.error("Error deleting conversation:",o)})}StartNewChat(){this.router.navigate(["/home"])}close(){this.router.navigate(["/home"])}};e.\u0275fac=function(i){return new(i||e)(V(rt))},e.\u0275cmp=tt({type:e,selectors:[["app-aichat"]],outputs:{conversationSelected:"conversationSelected"},standalone:!0,features:[nt],decls:38,vars:2,consts:[[1,"information-list"],[1,"close"],[1,"close-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25px","height","25px","fill","none","color","blue","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"chatai"],[1,"new-chat"],[1,"btn",3,"click"],["width","50px","height","50px",2,"position","relative"],["href","./../../assets/Rectangle 2874.svg","x","0","y","0","width","50px","height","50px"],["href","./../../assets/search-normal.png","width","18px","height","18px",2,"position","absolute","x","16px","y","16px"],[1,"thin-line"],[1,"your-conversations"],[1,"list-quastions"],["class","loading-spinner",4,"ngIf"],["class","questions","style","height:200px; overflow-y: auto;",4,"ngIf"],[1,"buttons"],[1,"setting"],[1,"settings-button"],[1,"icon-container"],["xmlns","http://www.w3.org/2000/svg","width","25px","height","25px","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"parsonal"],["src","./../../assets/users/user-4.jpg","x","0","y","0","width","35px","height","35px",2,"border-radius","50%"],[1,"loading-spinner"],[1,"questions",2,"height","200px","overflow-y","auto"],[1,"no-bullets"],[4,"ngFor","ngForOf"],[1,"hover-button",3,"click","ngClass"],["stroke-linecap","round","stroke-linejoin","round","d","M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],[1,"trash",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20px","height","20px","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"button",2),Fe("click",function(){return s.close()}),Ye(),x(3,"svg",3),Y(4,"path",4),R()()(),vn(),x(5,"h2",5),P(6,"CHAT A.I+"),R(),x(7,"div",6)(8,"button",7),Fe("click",function(){return s.StartNewChat()}),P(9,"+ New chat"),R(),Ye(),x(10,"svg",8),Y(11,"image",9)(12,"image",10),R()(),vn(),Y(13,"div",11),x(14,"div",12)(15,"p"),P(16,"Your conversations"),R(),x(17,"button"),P(18,"Clear All"),R()(),Y(19,"div",11),x(20,"div",13),ke(21,aq,1,0,"div",14)(22,uq,3,1,"div",15),Y(23,"div",11),R(),x(24,"div",16)(25,"div",17)(26,"button",18)(27,"div",19),Ye(),x(28,"svg",20),Y(29,"path",21)(30,"path",22),R()(),vn(),x(31,"p"),P(32,"Settings"),R()()(),x(33,"div",23)(34,"button",18),Y(35,"img",24),x(36,"p"),P(37,"Haya Marrad"),R()()()()()),i&2&&(W(21),X("ngIf",s.loading),W(),X("ngIf",!s.loading))},dependencies:[is,Io,jd,jn,ai],styles:['.information-list[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin:20px;box-sizing:border-box;border-radius:30px;width:calc(100% - 40px);max-width:340px;height:600px;overflow:hidden;position:relative}.selected-conversation[_ngcontent-%COMP%]{background-color:#858484;border:#afaaaa solid 1px;border-radius:20px;color:#007bff}.aichatting[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:30px}.active-conversation[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#5661f6;border-radius:10px}.btn[_ngcontent-%COMP%]{width:228px;height:50px;background:#5661f6;color:#fff;font-family:Mier A;font-size:16px;font-weight:500;line-height:22px;text-align:center;border-radius:29px;border:none}.new-chat[_ngcontent-%COMP%]{display:flex;gap:10px}.chatai[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;letter-spacing:5px;color:#000}.your-conversations[_ngcontent-%COMP%]{display:flex;gap:80px}.your-conversations[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#979696}.your-conversations[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;color:#5661f6}.thin-line[_ngcontent-%COMP%]{width:320px;height:1px;background-color:#e2e1e1;margin:10px 0}.quastions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-direction:row}.quastions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:16px}.no-bullets[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.settings-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;background-color:#fff;border:1px solid #e0e0e0;border-radius:50px;cursor:pointer;width:280px;gap:10px}.settings-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.icon-container[_ngcontent-%COMP%]{background-color:#cfcdcd;border-radius:50%;padding:5px;display:flex;align-items:center;justify-content:center;margin-right:10px}.settings-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:400;color:#000}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-top:15px}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.input-box[_ngcontent-%COMP%]{position:relative;width:40%;display:flex;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px;margin-top:-155px;margin-left:250px}input[type=text][_ngcontent-%COMP%]{flex-grow:1;padding-left:60px;height:40px;border-radius:40px;border:1px solid #ccc;padding-top:8px;padding-bottom:8px;outline:none}input[type=text][_ngcontent-%COMP%]:focus{border-color:#afaaaa}.brain-icon[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);width:24px;height:24px}.send-button[_ngcontent-%COMP%]{position:absolute;right:1px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer}.rectangle[_ngcontent-%COMP%]{width:35px;height:35px;position:relative}.svg-icon[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:25px;height:25px;stroke:#fff}.quastions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:10px}.no-bullets[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;width:100%}.question-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:100%}.hover-button[_ngcontent-%COMP%]{background-color:transparent;border:none;display:flex;align-items:center;padding:10px;border-radius:5px;margin:0}.hover-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}.hover-button[_ngcontent-%COMP%]:hover{background-color:#f3f0f0;color:#4e59f8;border-radius:10px}.no-bullets[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0;width:100%}.trash[_ngcontent-%COMP%]{background-color:#fff;border:none;cursor:pointer}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100px;font-size:18px;color:#555;position:relative}.loading-spinner[_ngcontent-%COMP%]:before{content:"";width:40px;height:40px;border:4px solid #ccc;border-top-color:#555;border-radius:50%;position:absolute;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{position:relative;display:none}.close-btn[_ngcontent-%COMP%]{border:none;background:transparent;position:absolute;right:0;top:0;padding:0;cursor:pointer}.close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}@media (max-width: 700px){.close[_ngcontent-%COMP%]{display:block}}']});let t=e;return t})();var ia=(()=>{let e=class e{constructor(r){this.db=r}getMessages(r){let i=Di(this.db,`conservations/${r}/messages`),s=vM(i,yM("sendDate"));return pM(s)}addMessage(r,i,s,o){return T(this,null,function*(){if(o)yield this.addMessageToConservation(r,i,s,o);else{let a=yield this.getNextConservationId();yield this.createNewConversationAndAddMessage(r,i,s,a)}})}addMessageToConservation(r,i,s,o){return T(this,null,function*(){let a=Di(this.db,`conservations/${o}/messages`);yield sI(a,{text:r,sendDate:new Date().toISOString(),sender:i,receiver:s})})}createNewConversationAndAddMessage(r,i,s,o){return T(this,null,function*(){let a=Di(this.db,`conservations/${o}`),u=Di(this.db,`conservations/${o}/messages`);yield $f(a,{createdAt:new Date().toISOString(),messages:[]}),yield sI(u,{text:r,sendDate:new Date().toISOString(),sender:i,receiver:s})})}getNextConservationId(){return T(this,null,function*(){let r=Di(this.db,"conservations"),i=yield gM(r);if(i.exists()){let s=i.val(),o=Object.keys(s);return(Math.max(...o.map(u=>parseInt(u,10)))+1).toString()}else return"1"})}};e.\u0275fac=function(i){return new(i||e)(q(Pr))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wM=(()=>{let e=class e{constructor(r,i){this.sharedService=r,this.router=i,this.message="",this.send=new De}sendMessage(){return T(this,null,function*(){let r="jubran@gmail.com",i="chat@gmail.com";if(this.message.trim()){try{yield this.sharedService.addMessage(this.message.trim(),r,i,this.conservationId),console.log("Message sent"),this.send.emit(),this.router.navigate(["/home",this.conservationId])}catch(s){console.error("Error sending message:",s)}this.message=""}})}};e.\u0275fac=function(i){return new(i||e)(V(ia),V(rt))},e.\u0275cmp=tt({type:e,selectors:[["app-sendbutton"]],inputs:{conservationId:"conservationId"},outputs:{send:"send"},standalone:!0,features:[nt],decls:8,vars:1,consts:[[1,"container"],[1,"input-box"],["type","text","placeholder","What's in your mind?...",3,"ngModelChange","keydown.enter","ngModel"],["src","./../../assets/\u{1F9E0}.png","alt","Brain",1,"brain-icon"],[1,"send-button",3,"click"],[1,"rectangle"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"svg-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"input",2),Wm("ngModelChange",function(a){return TD(s.message,a)||(s.message=a),a}),Fe("keydown.enter",function(){return s.sendMessage()}),R(),Y(3,"img",3),x(4,"button",4),Fe("click",function(){return s.sendMessage()}),Y(5,"div",5),Ye(),x(6,"svg",6),Y(7,"path",7),R()()()()),i&2&&(W(2),Gm("ngModel",s.message))},dependencies:[Th,li,Vo,pv],styles:[".container[_ngcontent-%COMP%]{position:fixed;left:65%;transform:translate(-50%);width:40%;display:flex;justify-content:center}.input-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;justify-content:center}input[type=text][_ngcontent-%COMP%]{flex-grow:1;padding-left:60px;height:40px;border-radius:40px;border:1px solid #ccc;padding-top:8px;padding-bottom:8px;outline:none}input[type=text][_ngcontent-%COMP%]:focus{border-color:#afaaaa}.brain-icon[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);width:30px;height:30px}.send-button[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;display:flex;align-items:center}.rectangle[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;background-color:#0084ff;border-radius:50%}.svg-icon[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:25px;height:25px;stroke:#fff}@media (max-width:690px){.container[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);width:80%;display:flex;justify-content:center}}@media (max-width:930px){.container[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);width:45%;display:flex;justify-content:center}}@media (max-width:940px){.container[_ngcontent-%COMP%]{position:fixed;left:75%;transform:translate(-50%);width:45%;display:flex;justify-content:center}}@media (max-width:700px){.container[_ngcontent-%COMP%]{position:fixed;left:43%;transform:translate(-50%);width:60%;display:flex;justify-content:center}}@media (max-width:699px){.container[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);width:68%;display:flex;justify-content:center}}@media (max-width:650px){.container[_ngcontent-%COMP%]{position:fixed;left:55%;transform:translate(-50%);width:60%;display:flex;justify-content:center}}"]});let t=e;return t})();var lq=["messagesContainer"],dq=(t,e)=>({sender:t,receiver:e});function hq(t,e){t&1&&(x(0,"div",4),P(1," Loading... "),R())}function fq(t,e){t&1&&Y(0,"img",14)}function pq(t,e){t&1&&Y(0,"img",15)}function gq(t,e){if(t&1&&(x(0,"div",10),ke(1,fq,1,0,"img",11)(2,pq,1,0,"img",12),x(3,"div",13)(4,"p"),P(5),R(),x(6,"small"),P(7),Km(8,"date"),R()()()),t&2){let n=e.$implicit;X("ngClass",AD(8,dq,n.sender==="jubran@gmail.com",n.sender!=="jubran@gmail.com")),W(),X("ngIf",n.sender==="jubran@gmail.com"),W(),X("ngIf",n.sender!=="jubran@gmail.com"),W(3),ns(n.text),W(2),ns(PD(8,5,n.sendDate,"shortTime"))}}function mq(t,e){if(t&1&&(x(0,"div")(1,"div",8)(2,"p"),P(3),R()(),ke(4,gq,9,11,"div",9),R()),t&2){let n=e.$implicit;W(3),ns(n.date),W(),X("ngForOf",n.messages)}}function yq(t,e){if(t&1&&(x(0,"div",5)(1,"div",6,0),ke(3,mq,5,2,"div",7),Km(4,"async"),R()()),t&2){let n=Ze();W(3),X("ngForOf",ND(4,1,n.messages$))}}var IM=(()=>{let e=class e{constructor(r){this.sharedService=r,this.loading=!0}ngOnInit(){this.loading=!0,this.loadMessages()}ngOnChanges(r){r.conservationId&&!r.conservationId.isFirstChange()&&this.loadMessages()}ngAfterViewChecked(){this.scrollToBottom()}loadMessages(){this.messages$=this.sharedService.getMessages(this.conservationId).pipe(Q(r=>this.groupMessagesByDate(r))),this.loading=!1}groupMessagesByDate(r){let i={};return r.forEach(s=>{let o=this.getDisplayDate(s.sendDate);i[o]||(i[o]=[]),i[o].push(s)}),Object.keys(i).map(s=>({date:s,messages:i[s]}))}getDisplayDate(r){let i=new Date().toDateString(),s=new Date;s.setDate(s.getDate()-1);let o=new Date(r).toDateString();return o===i?"Today":o===s.toDateString()?"Yesterday":new Date(r).toLocaleDateString()}scrollToBottom(){let r=this.messagesContainer.nativeElement;r.scrollTop=r.scrollHeight}};e.\u0275fac=function(i){return new(i||e)(V(ia))},e.\u0275cmp=tt({type:e,selectors:[["app-chat-box"]],viewQuery:function(i,s){if(i&1&&bD(lq,5),i&2){let o;wd(o=Id())&&(s.messagesContainer=o.first)}},inputs:{conservationId:"conservationId"},standalone:!0,features:[zt,nt],decls:3,vars:2,consts:[["messagesContainer",""],[1,"chat-container"],["class","loading-spinner",4,"ngIf"],["class","design",4,"ngIf"],[1,"loading-spinner"],[1,"design"],[1,"messages"],[4,"ngFor","ngForOf"],[1,"date-header"],["class","chat-message ",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-message",3,"ngClass"],["src","./../../assets/users/user-4.jpg","width","40px","height","40px","alt","Avatar","class","avatar",4,"ngIf"],["src","./../../assets/\u{1F9E0}.png","alt","Avatar","class","avatar",4,"ngIf"],[1,"message-content"],["src","./../../assets/users/user-4.jpg","width","40px","height","40px","alt","Avatar",1,"avatar"],["src","./../../assets/\u{1F9E0}.png","alt","Avatar",1,"avatar"]],template:function(i,s){i&1&&(x(0,"div",1),ke(1,hq,2,0,"div",2)(2,yq,5,3,"div",3),R()),i&2&&(W(),X("ngIf",s.loading),W(),X("ngIf",!s.loading))},dependencies:[is,Io,jd,jn,iT,sT],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:70px;border:10px solid #d5d7d8;border-radius:10px}.design[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:flex-end}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:10px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0006;max-height:calc(100vh - 230px);scroll-behavior:smooth}.chat-message[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-bottom:15px}.chat-message.sender[_ngcontent-%COMP%]{justify-content:flex-end}.chat-message.receiver[_ngcontent-%COMP%]{justify-content:flex-start}.avatar[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-right:10px}.sender[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{order:1;margin-left:10px;margin-right:0}.message-content[_ngcontent-%COMP%]{max-width:60%;padding:10px;background-color:#0084ff;color:#fff;border-radius:15px;position:relative;word-wrap:break-word}.sender[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#4caf50}.message-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.message-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#e0e0e0;margin-top:5px;font-size:.8em}.date-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;font-weight:700;color:#727272;margin-right:170px}.chat-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 0}.date-header[_ngcontent-%COMP%]{text-align:center;font-weight:700;margin:20px 0 10px;color:#949292;position:relative}.date-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;display:inline-block;position:relative;padding:0 20px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100px;font-size:18px;color:#555}"]});let t=e;return t})();var EM=(()=>{let e=class e{constructor(){this.showChatBox=!1,this.messages=[]}onSendMessage(r){r&&(this.messages.push(r),this.showChatBox=!0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tt({type:e,selectors:[["app-chat"]],standalone:!0,features:[nt],decls:75,vars:0,consts:[[1,"container"],[1,"header"],[1,"title"],[1,"content"],[1,"left-sidebar"],[1,"sidebar-item","explore"],[1,"sidebar-item","capabilities"],[1,"sidebar-item","limitation"],[1,"cards-container"],[1,"card-row"],[1,"card"],[1,"card-content"],[1,"arrow"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"h2",2),P(3,"CHAT A.I+"),R(),x(4,"h1"),P(5,"Good day! How may I assist you today?"),R()(),x(6,"div",3)(7,"div",4)(8,"div",5)(9,"h3"),P(10,"Explore"),R(),x(11,"p"),P(12,"Learn how to use chat.ai platform for your needs"),R()(),x(13,"div",6)(14,"h3"),P(15,"Capabilities"),R(),x(16,"p"),P(17,"How much capable chat.ai to fulfill your needs"),R()(),x(18,"div",7)(19,"h3"),P(20,"Limitation"),R(),x(21,"p"),P(22,"How much capable chat.ai to fulfill your needs"),R()()(),x(23,"div",8)(24,"div",9)(25,"div",10)(26,"div",11)(27,"h3"),P(28,'"Explain"'),R(),x(29,"p"),P(30,"Quantum computing in simple terms"),R()(),x(31,"span",12),P(32,"\u2192"),R()(),x(33,"div",10)(34,"div",11)(35,"h3"),P(36,'"How to"'),R(),x(37,"p"),P(38,"Make a search engine platform like google"),R()(),x(39,"span",12),P(40,"\u2192"),R()()(),x(41,"div",9)(42,"div",10)(43,"div",11)(44,"h3"),P(45,'"Remember"'),R(),x(46,"p"),P(47,"Quantum computing in simple terms"),R()(),x(48,"span",12),P(49,"\u2192"),R()(),x(50,"div",10)(51,"div",11)(52,"h3"),P(53,'"Allows"'),R(),x(54,"p"),P(55,"User to provide follow-up corrections"),R()(),x(56,"span",12),P(57,"\u2192"),R()()(),x(58,"div",9)(59,"div",10)(60,"div",11)(61,"h3"),P(62,'"May"'),R(),x(63,"p"),P(64,"Occasionally generate incorrect information"),R()(),x(65,"span",12),P(66,"\u2192"),R()(),x(67,"div",10)(68,"div",11)(69,"h3"),P(70,'"Limited"'),R(),x(71,"p"),P(72,"Knowledge of world and events after 2021"),R()(),x(73,"span",12),P(74,"\u2192"),R()()()()()())},styles:['.title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:400;letter-spacing:5px;color:#000}.container[_ngcontent-%COMP%]{max-width:auto;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px;margin:0}.content[_ngcontent-%COMP%]{display:flex;gap:20px}.left-sidebar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.sidebar-item[_ngcontent-%COMP%]{padding-left:5px;border-radius:10px;background-color:#000;color:#fff}.sidebar-item.explore[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f310";margin-right:10px}.sidebar-item.capabilities[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\26a1";margin-right:10px}.sidebar-item.limitation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f";margin-right:10px}.cards-container[_ngcontent-%COMP%]{flex:3;display:flex;flex-direction:column;gap:20px}.card-row[_ngcontent-%COMP%]{display:flex;gap:20px}.card[_ngcontent-%COMP%]{flex:1;padding:15px;background-color:#fff;border-radius:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 8px #0000001a}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:5px}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#777}.arrow[_ngcontent-%COMP%]{font-size:24px;color:#888}']});let t=e;return t})();var vq=t=>({"aichat-hidden":t});function _q(t,e){if(t&1){let n=vo();x(0,"div",7)(1,"button",8),Fe("click",function(){Xi(n);let i=Ze();return es(i.toggleAichat())}),Ye(),x(2,"svg",9),Y(3,"path",10),R()()()}}function wq(t,e){t&1&&Y(0,"app-chat")}function Iq(t,e){if(t&1&&Y(0,"app-chat-box",15),t&2){let n=Ze(2);X("conservationId",n.selectedConservationId)}}function Eq(t,e){if(t&1){let n=vo();x(0,"div",11),ke(1,wq,1,0,"app-chat",12)(2,Iq,1,1,"app-chat-box",13),x(3,"app-sendbutton",14),Fe("send",function(){Xi(n);let i=Ze();return es(i.onSendMessage())}),R()()}if(t&2){let n=Ze();W(),X("ngIf",n.showChat),W(),X("ngIf",!n.showChat),W(),X("conservationId",n.selectedConservationId)}}function Cq(t,e){if(t&1){let n=vo();x(0,"div",16)(1,"button",17),Fe("click",function(){Xi(n);let i=Ze();return es(i.goHome())}),Ye(),x(2,"svg",18),Y(3,"path",19),R()()()}}var cI=(()=>{let e=class e{constructor(r,i,s){this.route=r,this.router=i,this.sharedService=s,this.showChat=!0,this.isChatBoxActive=!1,this.show=!0,this.Riwaa=!1,this.isAichatVisible=!1}ngOnInit(){this.route.paramMap.subscribe(r=>{this.selectedConservationId=r.get("conservationId")||"",this.selectedConservationId&&(this.showChat=!1,this.isChatBoxActive=!0)})}onConversationSelected(r){this.selectedConservationId=r,this.showChat=!1,this.isChatBoxActive=!0,this.router.navigate(["/home",r])}toggleChatBox(){this.showChat&&(this.showChat=!1,this.isChatBoxActive=!0)}resetToChat(){this.showChat=!0,this.isChatBoxActive=!1}sendMessage(r,i){this.sharedService.addMessage(r,i,"receiver@example.com",this.selectedConservationId).then(()=>{this.onConversationSelected(this.selectedConservationId)}).catch(s=>{console.error("Error sending message:",s)})}onSendMessage(){this.selectedConservationId?this.router.navigate(["/home",this.selectedConservationId]):console.error("No conservationId available for routing")}DisplayAichat(){this.show=!1}toggleAichat(){this.isAichatVisible=!this.isAichatVisible,this.show=!this.show,this.router.navigate(["/aichat"])}goHome(){this.router.navigate(["/home"])}};e.\u0275fac=function(i){return new(i||e)(V($n),V(rt),V(ia))},e.\u0275cmp=tt({type:e,selectors:[["app-home"]],standalone:!0,features:[nt],decls:8,vars:6,consts:[[1,"home-container"],[1,"contant"],[3,"conversationSelected","ngClass"],[1,"top"],["class","icon",4,"ngIf"],["class","chat",4,"ngIf"],["class","icon2",4,"ngIf"],[1,"icon"],[1,"icon-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30px","height","30px","fill","none","color","white","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"chat"],[4,"ngIf"],[3,"conservationId",4,"ngIf"],[3,"send","conservationId"],[3,"conservationId"],[1,"icon2"],[1,"icon-btn2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","width","30px","height","30px","fill","none","color","white","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"div")(3,"app-aichat",2),Fe("conversationSelected",function(a){return s.onConversationSelected(a)}),R()(),x(4,"div",3),ke(5,_q,4,0,"div",4),R(),ke(6,Eq,4,3,"div",5)(7,Cq,4,0,"div",6),R()()),i&2&&(W(3),X("ngClass",Ed(4,vq,!s.isAichatVisible)),W(2),X("ngIf",s.show),W(),X("ngIf",s.show),W(),X("ngIf",s.show))},dependencies:[is,Io,jn,Hf,EM,wM,IM,Th],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.home-container[_ngcontent-%COMP%]{background-color:#c2c8ce;width:100%;height:100%}.chat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.contant[_ngcontent-%COMP%]{display:flex;gap:30px}.white-screen[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:100%;position:absolute;top:0;left:0}.icon[_ngcontent-%COMP%], .icon2[_ngcontent-%COMP%]{width:35px;height:35px;display:none;padding:10px}app-chat-box[_ngcontent-%COMP%]{width:800px}@media (min-width: 700px){app-chat-box[_ngcontent-%COMP%]{display:block}app-aichat[_ngcontent-%COMP%]{display:block}app-sendbutton[_ngcontent-%COMP%]{display:block}}@media (max-width: 700px){.aichat-hidden[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%], .icon2[_ngcontent-%COMP%]{display:block}.contant[_ngcontent-%COMP%]{display:flex;gap:15px}app-chat-box[_ngcontent-%COMP%]{width:800px}}@media (max-width:1222px){app-chat-box[_ngcontent-%COMP%]{width:650px}}@media (max-width:1050px){app-chat-box[_ngcontent-%COMP%]{width:500px}}.none[_ngcontent-%COMP%]{display:block}.icon-btn[_ngcontent-%COMP%], .icon-btn2[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;margin:0;cursor:pointer}.icon-btn[_ngcontent-%COMP%], .icon-btn2[_ngcontent-%COMP%]:focus{outline:none}.icon2[_ngcontent-%COMP%]{position:fixed;right:20px;padding:10px;margin:0}.icon-btn2[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;margin:0;cursor:pointer}.icon-btn2[_ngcontent-%COMP%]:focus{outline:none}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px}"]});let t=e;return t})();var CM=[{path:"",component:oI,title:"chatbot-signup"},{path:"login",component:dx,title:"chatbot-login"},{path:"signup",component:oI},{path:"aichat",component:Hf,title:"ai-chat"},{path:"home",component:cI,title:"chatbot"},{path:"home/:conservationId",component:cI,title:"chatbot"}];var bM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tt({type:e,selectors:[["app-root"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(i,s){i&1&&Y(0,"router-outlet")},dependencies:[ai,Yy]});let t=e;return t})();var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TM={};var uI,SM;(function(){var t;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,C,S){for(var _=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)_[nr-2]=arguments[nr];return y.prototype[C].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)I[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var S=E.g[3],_=y+(S^w&(C^S))+I[0]+3614090360&4294967295;y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[1]+3905402710&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[2]+606105819&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[4]+4118548399&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[5]+1200080426&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[6]+2821735955&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[8]+1770035416&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[9]+2336552879&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[10]+4294925233&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[12]+1804603682&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[13]+4254626195&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[14]+2792965006&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(C^S&(w^C))+I[1]+4129170786&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[6]+3225465664&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[11]+643717713&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[5]+3593408605&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[10]+38016083&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[15]+3634488961&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[9]+568446438&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[14]+3275163606&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[3]+4107603335&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[13]+2850285829&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[2]+4243563512&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[7]+1735328473&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(w^C^S)+I[5]+4294588738&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[8]+2272392833&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[11]+1839030562&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[1]+2763975236&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[4]+1272893353&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[7]+4139469664&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[13]+681279174&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[0]+3936430074&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[3]+3572445317&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[9]+3654602809&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[12]+3873151461&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[15]+530742520&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(C^(w|~S))+I[0]+4096336452&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[7]+1126891415&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[14]+2878612391&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[12]+1700485571&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[3]+2399980690&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[10]+4293915773&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[8]+1873313359&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[15]+4264355552&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[6]+2734768916&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[4]+4149444226&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[11]+3174756917&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[2]+718787259&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,I=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=w;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(I[C++]=E.charCodeAt(S++),C==this.blockSize){i(this,I),C=0;break}}else for(;S<y;)if(I[C++]=E[S++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)E[w++]=this.g[y]>>>I&255;return E};function s(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function o(E,y){this.h=y;for(var w=[],I=!0,C=E.length-1;0<=C;C--){var S=E[C]|0;I&&S==y||(w[C]=S,I=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return F(l(-E));for(var y=[],w=1,I=0;E>=w;I++)y[I]=E/w|0,w*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return F(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,C=0;C<E.length;C+=8){var S=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+S),y);8>S?(S=l(Math.pow(y,S)),I=I.j(S).add(l(_))):(I=I.j(w),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-F(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(M(this))return"-"+F(this).toString(E);for(var y=l(Math.pow(E,6)),w=this,I="";;){var C=Oe(w,y).g;w=H(w,C.j(y));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,D(w))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=H(this,E),M(E)?-1:D(E)?0:1};function F(E){for(var y=E.g.length,w=[],I=0;I<y;I++)w[I]=~E.g[I];return new o(w,~E.h).add(m)}t.abs=function(){return M(this)?F(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0,C=0;C<=y;C++){var S=I+(this.i(C)&65535)+(E.i(C)&65535),_=(S>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=_>>>16,S&=65535,_&=65535,w[C]=_<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function H(E,y){return E.add(F(y))}t.j=function(E){if(D(this)||D(E))return p;if(M(this))return M(E)?F(this).j(F(E)):F(F(this).j(E));if(M(E))return F(this.j(F(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var S=this.i(I)>>>16,_=this.i(I)&65535,nr=E.i(C)>>>16,ua=E.i(C)&65535;w[2*I+2*C]+=_*ua,we(w,2*I+2*C),w[2*I+2*C+1]+=S*ua,we(w,2*I+2*C+1),w[2*I+2*C+1]+=_*nr,we(w,2*I+2*C+1),w[2*I+2*C+2]+=S*nr,we(w,2*I+2*C+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new o(w,0)};function we(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function te(E,y){this.g=E,this.h=y}function Oe(E,y){if(D(y))throw Error("division by zero");if(D(E))return new te(p,p);if(M(E))return y=Oe(F(E),y),new te(F(y.g),F(y.h));if(M(y))return y=Oe(E,F(y)),new te(F(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=y;0>=I.l(E);)w=Mt(w),I=Mt(I);var C=Ae(w,1),S=Ae(I,1);for(I=Ae(I,2),w=Ae(w,2);!D(I);){var _=S.add(I);0>=_.l(E)&&(C=C.add(w),S=_),I=Ae(I,1),w=Ae(w,1)}return y=H(E,C.j(y)),new te(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(w),_=S.j(y);M(_)||0<_.l(E);)w-=I,S=l(w),_=S.j(y);D(S)&&(S=m),C=C.add(S),E=H(E,_)}return new te(C,E)}t.A=function(E){return Oe(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&E.i(I);return new o(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|E.i(I);return new o(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^E.i(I);return new o(w,this.h^E.h)};function Mt(E){for(var y=E.g.length+1,w=[],I=0;I<y;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(w,E.h)}function Ae(E,y){var w=y>>5;y%=32;for(var I=E.g.length-w,C=[],S=0;S<I;S++)C[S]=0<y?E.i(S+w)>>>y|E.i(S+w+1)<<32-y:E.i(S+w);return new o(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SM=TM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,uI=TM.Integer=o}).apply(typeof DM<"u"?DM:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={};var AM,xM,RM,MM,NM,PM,OM,kM,FM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in h))break e;h=h[b]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,b={next:function(){if(!g&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var k=Array(arguments.length-2),be=2;be<arguments.length;be++)k[be-2]=arguments[be];return d.prototype[b].apply(g,k)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function F(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let k=0;k<A;k++)c[b+k]=g[k]}else c.push(g)}}class H{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function we(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Oe(c){return Oe[" "](c),c}Oe[" "]=function(){};var Mt=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Ae(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function E(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function y(c){let d={};for(let h in c)d[h]=c[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)c[h]=g[h];for(let A=0;A<w.length;A++)h=w[A],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function C(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Zf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class nr{constructor(){this.h=this.g=null}add(d,h){let g=ua.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var ua=new H(()=>new YM,c=>c.reset());class YM{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let la,da=!1,Zf=new nr,PI=()=>{let c=a.Promise.resolve(void 0);la=()=>{c.then(ZM)}};var ZM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){S(h)}var d=ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}da=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var JM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function ha(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Mt){e:{try{Oe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:XM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}D(ha,pt);var XM={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),eN=0;function tN(c,d,h,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++eN,this.da=this.fa=!1}function Au(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xu(c){this.src=c,this.g={},this.h=0}xu.prototype.add=function(c,d,h,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Xf(c,d,g,b);return-1<k?(d=c[k],h||(d.fa=!1)):(d=new tN(d,this.src,A,!!g,b),d.fa=h,c.push(d)),d};function Jf(c,d){var h=d.type;if(h in c.g){var g=c.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Au(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Xf(c,d,h,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var ep="closure_lm_"+(1e6*Math.random()|0),tp={};function OI(c,d,h,g,b){if(g&&g.once)return FI(c,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)OI(c,d[A],h,g,b);return null}return h=sp(h),c&&c[fa]?c.K(d,h,l(g)?!!g.capture:!!g,b):kI(c,d,h,!1,g,b)}function kI(c,d,h,g,b,A){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,be=rp(c);if(be||(c[ep]=be=new xu(c)),h=be.add(d,h,g,k,A),h.proxy)return h;if(g=nN(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)JM||(b=k),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(VI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function nN(){function c(h){return d.call(c.src,c.listener,h)}let d=rN;return c}function FI(c,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)FI(c,d[A],h,g,b);return null}return h=sp(h),c&&c[fa]?c.L(d,h,l(g)?!!g.capture:!!g,b):kI(c,d,h,!0,g,b)}function LI(c,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)LI(c,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=sp(h),c&&c[fa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=Xf(A,h,g,b),-1<h&&(Au(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=rp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Xf(d,h,g,b)),(h=-1<c?d[c]:null)&&np(h))}function np(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[fa])Jf(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(VI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=rp(d))?(Jf(h,c),h.h==0&&(h.src=null,d[ep]=null)):Au(c)}}}function VI(c){return c in tp?tp[c]:tp[c]="on"+c}function rN(c,d){if(c.da)c=!0;else{d=new ha(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&np(c),c=h.call(g,d)}return c}function rp(c){return c=c[ep],c instanceof xu?c:null}var ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(c){return typeof c=="function"?c:(c[ip]||(c[ip]=function(d){return c.handleEvent(d)}),c[ip])}function gt(){kr.call(this),this.i=new xu(this),this.M=this,this.F=null}D(gt,kr),gt.prototype[fa]=!0,gt.prototype.removeEventListener=function(c,d,h,g){LI(this,c,d,h,g)};function Et(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var b=d;d=new pt(g,c),I(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var k=d.g=h[A];b=Ru(k,g,!0,d)&&b}if(k=d.g=c,b=Ru(k,g,!0,d)&&b,b=Ru(k,g,!1,d)&&b,h)for(A=0;A<h.length;A++)k=d.g=h[A],b=Ru(k,g,!1,d)&&b}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)Au(h[g]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},gt.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Ru(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==h){var be=k.listener,ct=k.ha||k.src;k.fa&&Jf(c.i,k),b=be.call(ct,g)!==!1&&b}}return b&&!g.defaultPrevented}function UI(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function jI(c){c.g=UI(()=>{c.g=null,c.i&&(c.i=!1,jI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class iN extends kr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){kr.call(this),this.h=c,this.g={}}D(pa,kr);var BI=[];function $I(c){Ae(c.g,function(d,h){this.g.hasOwnProperty(h)&&np(d)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),$I(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var op=a.JSON.stringify,sN=a.JSON.parse,oN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ap(){}ap.prototype.h=null;function HI(c){return c.h||(c.h=c.i())}function qI(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cp(){pt.call(this,"d")}D(cp,pt);function up(){pt.call(this,"c")}D(up,pt);var Ai={},zI=null;function Mu(){return zI=zI||new gt}Ai.La="serverreachability";function GI(c){pt.call(this,Ai.La,c)}D(GI,pt);function ma(c){let d=Mu();Et(d,new GI(d))}Ai.STAT_EVENT="statevent";function WI(c,d){pt.call(this,Ai.STAT_EVENT,c),this.stat=d}D(WI,pt);function Ct(c){let d=Mu();Et(d,new WI(d,c))}Ai.Ma="timingevent";function KI(c,d){pt.call(this,Ai.Ma,c),this.size=d}D(KI,pt);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function aN(c,d,h,g,b,A){c.info(function(){if(c.g)if(A)for(var k="",be=A.split("&"),ct=0;ct<be.length;ct++){var ge=be[ct].split("=");if(1<ge.length){var mt=ge[0];ge=ge[1];var yt=mt.split("_");k=2<=yt.length&&yt[1]=="type"?k+(mt+"="+ge+"&"):k+(mt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+k})}function cN(c,d,h,g,b,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+k})}function Os(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+lN(c,h)+(g?" "+g:"")})}function uN(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function lN(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return op(h)}catch{return d}}var Nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lp;function Pu(){}D(Pu,ap),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},lp=new Pu;function Fr(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new YI}function YI(){this.i=null,this.g="",this.h=!1}var ZI={},dp={};function hp(c,d,h){c.L=1,c.v=Lu(rr(d)),c.m=h,c.P=!0,JI(c,null)}function JI(c,d){c.F=Date.now(),Ou(c),c.A=rr(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),hE(h.i,"t",g),c.C=0,h=c.j.J,c.h=new YI,c.g=RE(c.j,h?d:null,!c.m),0<c.O&&(c.M=new iN(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(BI[0]=b.toString()),b=BI);for(var A=0;A<b.length;A++){var k=OI(h,b[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),aN(c.i,c.u,c.A,c.l,c.R,c.m)}Fr.prototype.ca=function(c){c=c.target;let d=this.M;d&&ir(c)==3?d.j():this.Y(c)},Fr.prototype.Y=function(c){try{if(c==this.g)e:{let yt=ir(this.g);var d=this.g.Ba();let Ls=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||_E(this.g)))){this.J||yt!=4||d==7||(d==8||0>=Ls?ma(3):ma(2)),fp(this);var h=this.g.Z();this.X=h;t:if(XI(this)){var g=_E(this.g);c="";var b=g.length,A=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),_a(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,cN(this.i,this.u,this.A,this.l,this.R,yt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ct=this.g;if((be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!we(be)){var ge=be;break t}}ge=null}if(h=ge)Os(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pp(this,h);else{this.o=!1,this.s=3,Ct(12),xi(this),_a(this);break e}}if(this.P){h=!0;let un;for(;!this.J&&this.C<k.length;)if(un=dN(this,k),un==dp){yt==4&&(this.s=4,Ct(14),h=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ZI){this.s=4,Ct(15),Os(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Os(this.i,this.l,un,null),pp(this,un);if(XI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||k.length!=0||this.h.h||(this.s=1,Ct(16),h=!1),this.o=this.o&&h,!h)Os(this.i,this.l,k,"[Invalid Chunked Response]"),xi(this),_a(this);else if(0<k.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),wp(mt),mt.M=!0,Ct(11))}}else Os(this.i,this.l,k,null),pp(this,k);yt==4&&xi(this),this.o&&!this.J&&(yt==4?TE(this.j,this):(this.o=!1,Ou(this)))}else AN(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),xi(this),_a(this)}}}catch{}finally{}};function XI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dN(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?dp:(h=Number(d.substring(h,g)),isNaN(h)?ZI:(g+=1,g+h>d.length?dp:(d=d.slice(g,g+h),c.C=g+h,d)))}Fr.prototype.cancel=function(){this.J=!0,xi(this)};function Ou(c){c.S=Date.now()+c.I,eE(c,c.I)}function eE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(m(c.ba,c),d)}function fp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Fr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(uN(this.i,this.A),this.L!=2&&(ma(),Ct(17)),xi(this),this.s=2,_a(this)):eE(this,this.S-c)};function _a(c){c.j.G==0||c.J||TE(c.j,c)}function xi(c){fp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,$I(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function pp(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||gp(h.h,c))){if(!c.K&&gp(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)$u(h),ju(h);else break e;_p(h),Ct(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ya(m(h.Za,h),6e3));if(1>=rE(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mi(h,11)}else if((c.K||h.g==c)&&$u(h),!we(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let mt=ge[3];mt!=null&&(h.la=mt,h.j.info("VER="+h.la));let yt=ge[4];yt!=null&&(h.Aa=yt,h.j.info("SVER="+h.Aa));let Ls=ge[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(g=1.5*Ls,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let un=c.g;if(un){let qu=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var A=g.h;A.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(mp(A,A.h),A.h=null))}if(g.D){let Ip=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ip&&(g.ya=Ip,Me(g.I,g.D,Ip))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=c;if(g.qa=xE(g,g.J?g.ia:null,g.W),k.K){iE(g.h,k);var be=k,ct=g.L;ct&&(be.I=ct),be.B&&(fp(be),Ou(be)),g.g=k}else bE(g);0<h.i.length&&Bu(h)}else ge[0]!="stop"&&ge[0]!="close"||Mi(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Mi(h,7):vp(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}ma(4)}catch{}}var hN=class{constructor(c,d){this.g=c,this.map=d}};function tE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rE(c){return c.h?1:c.g?c.g.size:0}function gp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function mp(c,d){c.g?c.g.add(d):c.h=d}function iE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}tE.prototype.cancel=function(){if(this.i=sE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function fN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function pN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function oE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=pN(c),g=fN(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],c)}var aE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gN(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),b=null;if(0<=g){var A=c[h].substring(0,g);b=c[h].substring(g+1)}else A=c[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,ku(this,c.j),this.o=c.o,this.g=c.g,Fu(this,c.s),this.l=c.l;var d=c.i,h=new Ea;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cE(this,h),this.m=c.m}else c&&(d=String(c).match(aE))?(this.h=!1,ku(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Fu(this,d[4]),this.l=wa(d[5]||"",!0),cE(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ia(d,uE,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ia(d,uE,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Ia(h,h.charAt(0)=="/"?vN:yN,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Ia(h,wN)),c.join("")};function rr(c){return new Ri(c)}function ku(c,d,h){c.j=h?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Fu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function cE(c,d,h){d instanceof Ea?(c.i=d,IN(c.i,c.h)):(h||(d=Ia(d,_N)),c.i=new Ea(d,c.h))}function Me(c,d,h){c.i.set(d,h)}function Lu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ia(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,mN),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uE=/[#\/\?@]/g,yN=/[#\?:]/g,vN=/[#\?]/g,_N=/[#\?@]/g,wN=/#/g;function Ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Lr(c){c.g||(c.g=new Map,c.h=0,c.i&&gN(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ea.prototype,t.add=function(c,d){Lr(this),this.i=null,c=ks(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function lE(c,d){Lr(c),d=ks(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function dE(c,d){return Lr(c),d=ks(c,d),c.g.has(d)}t.forEach=function(c,d){Lr(this),this.g.forEach(function(h,g){h.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},t.V=function(c){Lr(this);let d=[];if(typeof c=="string")dE(this,c)&&(d=d.concat(this.g.get(ks(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Lr(this),this.i=null,c=ks(this,c),dE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function hE(c,d,h){lE(c,d),0<h.length&&(c.i=null,c.g.set(ks(c,d),M(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=A;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),c.push(b)}}return this.i=c.join("&")};function ks(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function IN(c,d){d&&!c.j&&(Lr(c),c.i=null,c.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(lE(this,g),hE(this,b,h))},c)),c.j=d}function EN(c,d){let h=new va;if(a.Image){let g=new Image;g.onload=v(Vr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Vr,h,"TestLoadImage: error",!1,d,g),g.onabort=v(Vr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Vr,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function CN(c,d){let h=new va,g=new AbortController,b=setTimeout(()=>{g.abort(),Vr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Vr(h,"TestPingServer: ok",!0,d):Vr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Vr(h,"TestPingServer: error",!1,d)})}function Vr(c,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function bN(){this.g=new oN}function DN(c,d,h){let g=h||"";try{oE(c,function(b,A){let k=b;l(b)&&(k=op(b)),d.push(g+A+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ca,ap),Ca.prototype.g=function(){return new Vu(this.l,this.j)},Ca.prototype.i=function(c){return function(){return c}}({});function Vu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Vu,gt),t=Vu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Da(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Da(this),this.readyState==3&&fE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Da(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pE(c){let d="";return Ae(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function yp(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=pE(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Me(c,d,h))}function Ve(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ve,gt);var TN=/^https?$/i,SN=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lp.g(),this.v=this.o?HI(this.o):HI(lp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){gE(this,A);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(SN,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of h)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){gE(this,A)}};function gE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,mE(c),Uu(c)}function mE(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yE(this):this.bb())},t.bb=function(){yE(this)};function yE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)UI(c.Ea,0,c);else if(Et(c,"readystatechange"),ir(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var b=String(c.D).match(aE)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!TN.test(b?b.toLowerCase():"")}h=g}if(h)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var A=2<ir(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",mE(c)}}finally{Uu(c)}}}}function Uu(c,d){if(c.g){vE(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Et(c,"ready");try{h.onreadystatechange=g}catch{}}}function vE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),sN(d)}};function _E(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function AN(c){let d={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(we(c[g]))continue;var h=C(c[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function wE(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tE(c&&c.concurrentRequestLimit),this.Da=new bN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wE.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){Ct(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=xE(this,null,this.W),Bu(this)};function vp(c){if(IE(c),c.G==3){var d=c.U++,h=rr(c.I);if(Me(h,"SID",c.K),Me(h,"RID",d),Me(h,"TYPE","terminate"),Sa(c,h),d=new Fr(c,c.j,d),d.L=2,d.v=Lu(rr(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=RE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ou(d)}AE(c)}function ju(c){c.g&&(wp(c),c.g.cancel(),c.g=null)}function IE(c){ju(c),c.u&&(a.clearTimeout(c.u),c.u=null),$u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bu(c){if(!nE(c.h)&&!c.s){c.s=!0;var d=c.Ga;la||PI(),da||(la(),da=!0),Zf.add(d,c),c.B=0}}function xN(c,d){return rE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(m(c.Ga,c,d),SE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Fr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=CE(this,b,d),h=rr(this.I),Me(h,"RID",c),Me(h,"CVER",22),this.D&&Me(h,"X-HTTP-Session-Id",this.D),Sa(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(pE(A)))+"&"+d:this.m&&yp(h,this.m,A)),mp(this.h,b),this.Ua&&Me(h,"TYPE","init"),this.P?(Me(h,"$req",d),Me(h,"SID","null"),b.T=!0,hp(b,h,null)):hp(b,h,d),this.G=2}}else this.G==3&&(c?EE(this,c):this.i.length==0||nE(this.h)||EE(this))};function EE(c,d){var h;d?h=d.l:h=c.U++;let g=rr(c.I);Me(g,"SID",c.K),Me(g,"RID",h),Me(g,"AID",c.T),Sa(c,g),c.m&&c.o&&yp(g,c.m,c.o),h=new Fr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=CE(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mp(c.h,h),hp(h,g,d)}function Sa(c,d){c.H&&Ae(c.H,function(h,g){Me(d,g,h)}),c.l&&oE({},function(h,g){Me(d,g,h)})}function CE(c,d,h){h=Math.min(c.i.length,h);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let k=["count="+h];A==-1?0<h?(A=b[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let be=!0;for(let ct=0;ct<h;ct++){let ge=b[ct].g,mt=b[ct].map;if(ge-=A,0>ge)A=Math.max(0,b[ct].g-100),be=!1;else try{DN(mt,k,"req"+ge+"_")}catch{g&&g(mt)}}if(be){g=k.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function bE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;la||PI(),da||(la(),da=!0),Zf.add(d,c),c.v=0}}function _p(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(m(c.Fa,c),SE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,DE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),ju(this),DE(this))};function wp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function DE(c){c.g=new Fr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=rr(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Sa(c,d),c.m&&c.o&&yp(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Lu(rr(d)),h.m=null,h.P=!0,JI(h,c)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),_p(this),Ct(19))};function $u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function TE(c,d){var h=null;if(c.g==d){$u(c),wp(c),c.g=null;var g=2}else if(gp(c.h,d))h=d.D,iE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Mu(),Et(g,new KI(g,h)),Bu(c)}else bE(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&xN(c,d)||g==2&&_p(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),b){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function SE(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),g=c.Xa;let b=!g;g=new Ri(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(g,"https"),Lu(g),b?EN(g.toString(),h):CN(g.toString(),h)}else Ct(2);c.G=0,c.l&&c.l.sa(d),AE(c),IE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function AE(c){if(c.G=0,c.ka=[],c.l){let d=sE(c.h);(d.length!=0||c.i.length!=0)&&(F(c.ka,d),F(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function xE(c,d,h){var g=h instanceof Ri?rr(h):new Ri(h);if(g.g!="")d&&(g.g=d+"."+g.g),Fu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Ri(null);g&&ku(A,g),d&&(A.g=d),b&&Fu(A,b),h&&(A.l=h),g=A}return h=c.D,d=c.ya,h&&d&&Me(g,h,d),Me(g,"VER",c.la),Sa(c,g),g}function RE(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new Ca({eb:h})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ME(){}t=ME.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hu(){}Hu.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){gt.call(this),this.g=new wE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!we(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!we(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Fs(this)}D($t,gt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){vp(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=op(c),c=h);d.i.push(new hN(d.Ya++,c)),d.G==3&&Bu(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,vp(this.g),delete this.g,$t.aa.N.call(this)};function NE(c){cp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(NE,cp);function PE(){up.call(this),this.status=1}D(PE,up);function Fs(c){this.g=c}D(Fs,ME),Fs.prototype.ua=function(){Et(this.g,"a")},Fs.prototype.ta=function(c){Et(this.g,new NE(c))},Fs.prototype.sa=function(c){Et(this.g,new PE)},Fs.prototype.ra=function(){Et(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,FM=Or.createWebChannelTransport=function(){return new Hu},kM=Or.getStatEventTarget=function(){return Mu()},OM=Or.Event=Ai,PM=Or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,NM=Or.ErrorCode=Nu,QI.COMPLETE="complete",MM=Or.EventType=QI,qI.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",gt.prototype.listen=gt.prototype.K,RM=Or.WebChannel=qI,xM=Or.FetchXmlHttpFactory=Ca,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,AM=Or.XhrIo=Ve}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});var LM="@firebase/firestore";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Tu="10.13.0";var oa=new qn("@firebase/firestore");function Zt(t,...e){if(oa.logLevel<=pe.DEBUG){let n=e.map(RI);oa.debug(`Firestore (${Tu}): ${t}`,...n)}}function xI(t,...e){if(oa.logLevel<=pe.ERROR){let n=e.map(RI);oa.error(`Firestore (${Tu}): ${t}`,...n)}}function bq(t,...e){if(oa.logLevel<=pe.WARN){let n=e.map(RI);oa.warn(`Firestore (${Tu}): ${t}`,...n)}}function RI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Bt(t="Unexpected state"){let e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+t;throw xI(e),new Error(e)}function Du(t,e){t||Bt()}var ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xe=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Si=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}},hI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fI=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Si,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Si)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Du(typeof r.accessToken=="string"),new zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Du(e===null||typeof e=="string"),new at(e)}},pI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Zt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Du(typeof n.token=="string"),this.R=n.token,new mI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Dq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vI=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Dq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function $M(t,e){return t<e?-1:t>e?1:0}var _I=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Bt(),r===void 0?r=e.length-n:r>e.length-n&&Bt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ti=class t extends _I{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Xe(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Ps=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ti.fromString(e))}static fromName(e){return new t(Ti.fromString(e).popFirst(5))}static empty(){return new t(Ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ti.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ti(e.slice()))}};var wI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wI.UNKNOWN_ID=-1;function HM(t){return t.name==="IndexedDbTransactionError"}function Tq(t){return t===0&&1/t==-1/0}var Sq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pX=[...Sq,"documentOverlays"],Aq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xq=Aq,Rq=[...xq,"indexConfiguration","indexState","indexEntries"];var gX=[...Rq,"globals"];var aa=class t{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}},sa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();let e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gf=class t{constructor(e){this.comparator=e,this.data=new aa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wf(this.data.getIterator())}getIteratorFrom(e){return new Wf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Wf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var II=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ca=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new II("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ca.EMPTY_BYTE_STRING=new ca("");var Mq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nq(t){if(Du(!!t),typeof t=="string"){let e=0,n=Mq.exec(t);if(Du(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bu(t.seconds),nanos:bu(t.nanos)}}function bu(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pq(t){return typeof t=="string"?ca.fromBase64String(t):ca.fromUint8Array(t)}var EI=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},CI=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function Oq(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yX=new aa(Ps.comparator);var vX=new aa(Ps.comparator);var _X=new aa(Ps.comparator),wX=new Gf(Ps.comparator);var IX=new Gf($M);var VM,he;(he=VM||(VM={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var EX=new uI([4294967295,4294967295],0);var Kf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(bu(e.integerValue));else if("doubleValue"in e){let r=bu(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Tq(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nq(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Pq(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?kq(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Oq(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Bt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(bu(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Ps.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Kf.vt=new Kf;var CX=new Uint8Array(0);var er=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);function lI(){return typeof document<"u"?document:null}var bI=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var DI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fq(t,e){if(xI("AsyncQueue",`${e}: ${t}`),HM(t))return new Xe(ft.UNAVAILABLE,`${e}: ${t}`);throw t}var UM,jM;(jM=UM||(UM={})).ea="default",jM.Cache="cache";var TI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=vI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>T(this,null,function*(){Zt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Zt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Fq(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BM=new Map;function Lq(t,e,n,r){if(e===!0&&r===!0)throw new Xe(ft.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vq(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Bt()}function Uq(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Vq(t);throw new Xe(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xe(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Xe(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Xe(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Xe(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yf=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xe(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Xe(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dI;switch(r.type){case"firstParty":return new gI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BM.get(n);r&&(Zt("ComponentProvider","Removing Datastore"),BM.delete(n),r.terminate())}(this),Promise.resolve()}};function zM(t,e,n,r={}){var i;let s=(t=Uq(t,Yf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bq("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=at.MOCK_USER;else{a=Mh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Xe(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new at(l)}t._authCredentials=new hI(new zf(a,u))}}var SI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new bI(this,"async_queue_retry"),this.Eu=()=>{let n=lI();n&&Zt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=lI();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=lI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Si;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return T(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!HM(e))throw e;Zt("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xI("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=DI.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Bt()}verifyOperationInProgress(){}mu(){return T(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var AI=class extends Yf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new SI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jq(this),this._firestoreClient.terminate()}};function GM(t,e){let n=typeof t=="object"?t:fi(),r=typeof t=="string"?t:e||"(default)",i=gs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Rh("firestore");s&&zM(i,...s)}return i}function jq(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new EI(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qM(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var bX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Tu=i})(Wn),Gn(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new AI(new fI(r.getProvider("auth-internal")),new yI(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Xe(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new CI(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pe(LM,"4.7.0",e),Pe(LM,"4.7.0","esm2017")})();var Su=class{constructor(e){return e}},WM="firestore",MI=class{constructor(){return Is(WM)}};var NI=new U("angularfire2.firestore-instances");function Bq(t,e){let n=zo(WM,t,e);return n&&new Su(n)}function $q(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Su(r)}}var Hq={provide:MI,deps:[[new Be,NI]]},qq={provide:Su,useFactory:Bq,deps:[[new Be,NI],Dn]};function KM(t,...e){return Pe("angularfire",xr.full,"fst"),gn([qq,Hq,{provide:NI,useFactory:$q(t),multi:!0,deps:[ye,Qe,_i,Rr,[new Be,Es],[new Be,vi],...e]}])}var QM=wt(GM,!0);pT(bM,{providers:[rS(CM),ix(()=>sx({projectId:"quizpluschatbot",appId:"1:829903529416:web:4f7bb7f9f8c4b1303f0cfd",databaseURL:"https://quizpluschatbot-default-rtdb.firebaseio.com",storageBucket:"quizpluschatbot.appspot.com",apiKey:"AIzaSyAcMiSuyx1QB7SZxY-_uD3_OP-Bv3JfjfA",authDomain:"quizpluschatbot.firebaseapp.com",messagingSenderId:"829903529416"})),ax(()=>ux()),KM(()=>QM()),fM(()=>mM())]}).catch(t=>console.error(t));
